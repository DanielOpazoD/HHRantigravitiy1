var G9=Object.defineProperty;var Y9=(t,e,n)=>e in t?G9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var rx=(t,e,n)=>Y9(t,typeof e!="symbol"?e+"":e,n);function W9(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Fa(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ix={exports:{}},$f={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D2;function X9(){if(D2)return $f;D2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var l=null;if(a!==void 0&&(l=""+a),i.key!==void 0&&(l=""+i.key),"key"in i){a={};for(var c in i)c!=="key"&&(a[c]=i[c])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:a}}return $f.Fragment=e,$f.jsx=n,$f.jsxs=n,$f}var k2;function Q9(){return k2||(k2=1,ix.exports=X9()),ix.exports}var _=Q9(),ax={exports:{}},Ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M2;function Z9(){if(M2)return Ge;M2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),y=Symbol.iterator;function x(H){return H===null||typeof H!="object"?null:(H=y&&H[y]||H["@@iterator"],typeof H=="function"?H:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,A={};function O(H,re,pe){this.props=H,this.context=re,this.refs=A,this.updater=pe||w}O.prototype.isReactComponent={},O.prototype.setState=function(H,re){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,re,"setState")},O.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function D(){}D.prototype=O.prototype;function j(H,re,pe){this.props=H,this.context=re,this.refs=A,this.updater=pe||w}var q=j.prototype=new D;q.constructor=j,E(q,O.prototype),q.isPureReactComponent=!0;var U=Array.isArray;function F(){}var N={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function M(H,re,pe){var be=pe.ref;return{$$typeof:t,type:H,key:re,ref:be!==void 0?be:null,props:pe}}function B(H,re){return M(H.type,re,H.props)}function k(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function L(H){var re={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(pe){return re[pe]})}var z=/\/+/g;function de(H,re){return typeof H=="object"&&H!==null&&H.key!=null?L(""+H.key):re.toString(36)}function Ee(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(F,F):(H.status="pending",H.then(function(re){H.status==="pending"&&(H.status="fulfilled",H.value=re)},function(re){H.status==="pending"&&(H.status="rejected",H.reason=re)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function W(H,re,pe,be,je){var le=typeof H;(le==="undefined"||le==="boolean")&&(H=null);var Pe=!1;if(H===null)Pe=!0;else switch(le){case"bigint":case"string":case"number":Pe=!0;break;case"object":switch(H.$$typeof){case t:case e:Pe=!0;break;case m:return Pe=H._init,W(Pe(H._payload),re,pe,be,je)}}if(Pe)return je=je(H),Pe=be===""?"."+de(H,0):be,U(je)?(pe="",Pe!=null&&(pe=Pe.replace(z,"$&/")+"/"),W(je,re,pe,"",function(Be){return Be})):je!=null&&(k(je)&&(je=B(je,pe+(je.key==null||H&&H.key===je.key?"":(""+je.key).replace(z,"$&/")+"/")+Pe)),re.push(je)),1;Pe=0;var Mt=be===""?".":be+":";if(U(H))for(var ae=0;ae<H.length;ae++)be=H[ae],le=Mt+de(be,ae),Pe+=W(be,re,pe,le,je);else if(ae=x(H),typeof ae=="function")for(H=ae.call(H),ae=0;!(be=H.next()).done;)be=be.value,le=Mt+de(be,ae++),Pe+=W(be,re,pe,le,je);else if(le==="object"){if(typeof H.then=="function")return W(Ee(H),re,pe,be,je);throw re=String(H),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return Pe}function se(H,re,pe){if(H==null)return H;var be=[],je=0;return W(H,be,"","",function(le){return re.call(pe,le,je++)}),be}function me(H){if(H._status===-1){var re=H._result;re=re(),re.then(function(pe){(H._status===0||H._status===-1)&&(H._status=1,H._result=pe)},function(pe){(H._status===0||H._status===-1)&&(H._status=2,H._result=pe)}),H._status===-1&&(H._status=0,H._result=re)}if(H._status===1)return H._result.default;throw H._result}var ve=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)},De={map:se,forEach:function(H,re,pe){se(H,function(){re.apply(this,arguments)},pe)},count:function(H){var re=0;return se(H,function(){re++}),re},toArray:function(H){return se(H,function(re){return re})||[]},only:function(H){if(!k(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return Ge.Activity=p,Ge.Children=De,Ge.Component=O,Ge.Fragment=n,Ge.Profiler=i,Ge.PureComponent=j,Ge.StrictMode=r,Ge.Suspense=d,Ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ge.__COMPILER_RUNTIME={__proto__:null,c:function(H){return N.H.useMemoCache(H)}},Ge.cache=function(H){return function(){return H.apply(null,arguments)}},Ge.cacheSignal=function(){return null},Ge.cloneElement=function(H,re,pe){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var be=E({},H.props),je=H.key;if(re!=null)for(le in re.key!==void 0&&(je=""+re.key),re)!P.call(re,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&re.ref===void 0||(be[le]=re[le]);var le=arguments.length-2;if(le===1)be.children=pe;else if(1<le){for(var Pe=Array(le),Mt=0;Mt<le;Mt++)Pe[Mt]=arguments[Mt+2];be.children=Pe}return M(H.type,je,be)},Ge.createContext=function(H){return H={$$typeof:l,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:a,_context:H},H},Ge.createElement=function(H,re,pe){var be,je={},le=null;if(re!=null)for(be in re.key!==void 0&&(le=""+re.key),re)P.call(re,be)&&be!=="key"&&be!=="__self"&&be!=="__source"&&(je[be]=re[be]);var Pe=arguments.length-2;if(Pe===1)je.children=pe;else if(1<Pe){for(var Mt=Array(Pe),ae=0;ae<Pe;ae++)Mt[ae]=arguments[ae+2];je.children=Mt}if(H&&H.defaultProps)for(be in Pe=H.defaultProps,Pe)je[be]===void 0&&(je[be]=Pe[be]);return M(H,le,je)},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(H){return{$$typeof:c,render:H}},Ge.isValidElement=k,Ge.lazy=function(H){return{$$typeof:m,_payload:{_status:-1,_result:H},_init:me}},Ge.memo=function(H,re){return{$$typeof:f,type:H,compare:re===void 0?null:re}},Ge.startTransition=function(H){var re=N.T,pe={};N.T=pe;try{var be=H(),je=N.S;je!==null&&je(pe,be),typeof be=="object"&&be!==null&&typeof be.then=="function"&&be.then(F,ve)}catch(le){ve(le)}finally{re!==null&&pe.types!==null&&(re.types=pe.types),N.T=re}},Ge.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ge.use=function(H){return N.H.use(H)},Ge.useActionState=function(H,re,pe){return N.H.useActionState(H,re,pe)},Ge.useCallback=function(H,re){return N.H.useCallback(H,re)},Ge.useContext=function(H){return N.H.useContext(H)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(H,re){return N.H.useDeferredValue(H,re)},Ge.useEffect=function(H,re){return N.H.useEffect(H,re)},Ge.useEffectEvent=function(H){return N.H.useEffectEvent(H)},Ge.useId=function(){return N.H.useId()},Ge.useImperativeHandle=function(H,re,pe){return N.H.useImperativeHandle(H,re,pe)},Ge.useInsertionEffect=function(H,re){return N.H.useInsertionEffect(H,re)},Ge.useLayoutEffect=function(H,re){return N.H.useLayoutEffect(H,re)},Ge.useMemo=function(H,re){return N.H.useMemo(H,re)},Ge.useOptimistic=function(H,re){return N.H.useOptimistic(H,re)},Ge.useReducer=function(H,re,pe){return N.H.useReducer(H,re,pe)},Ge.useRef=function(H){return N.H.useRef(H)},Ge.useState=function(H){return N.H.useState(H)},Ge.useSyncExternalStore=function(H,re,pe){return N.H.useSyncExternalStore(H,re,pe)},Ge.useTransition=function(){return N.H.useTransition()},Ge.version="19.2.1",Ge}var j2;function Td(){return j2||(j2=1,ax.exports=Z9()),ax.exports}var S=Td();const eT=Fa(S),J9=W9({__proto__:null,default:eT},[S]);var sx={exports:{}},Hf={},ox={exports:{}},lx={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V2;function e8(){return V2||(V2=1,(function(t){function e(W,se){var me=W.length;W.push(se);e:for(;0<me;){var ve=me-1>>>1,De=W[ve];if(0<i(De,se))W[ve]=se,W[me]=De,me=ve;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var se=W[0],me=W.pop();if(me!==se){W[0]=me;e:for(var ve=0,De=W.length,H=De>>>1;ve<H;){var re=2*(ve+1)-1,pe=W[re],be=re+1,je=W[be];if(0>i(pe,me))be<De&&0>i(je,pe)?(W[ve]=je,W[be]=me,ve=be):(W[ve]=pe,W[re]=me,ve=re);else if(be<De&&0>i(je,me))W[ve]=je,W[be]=me,ve=be;else break e}}return se}function i(W,se){var me=W.sortIndex-se.sortIndex;return me!==0?me:W.id-se.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var d=[],f=[],m=1,p=null,y=3,x=!1,w=!1,E=!1,A=!1,O=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function q(W){for(var se=n(f);se!==null;){if(se.callback===null)r(f);else if(se.startTime<=W)r(f),se.sortIndex=se.expirationTime,e(d,se);else break;se=n(f)}}function U(W){if(E=!1,q(W),!w)if(n(d)!==null)w=!0,F||(F=!0,L());else{var se=n(f);se!==null&&Ee(U,se.startTime-W)}}var F=!1,N=-1,P=5,M=-1;function B(){return A?!0:!(t.unstable_now()-M<P)}function k(){if(A=!1,F){var W=t.unstable_now();M=W;var se=!0;try{e:{w=!1,E&&(E=!1,D(N),N=-1),x=!0;var me=y;try{t:{for(q(W),p=n(d);p!==null&&!(p.expirationTime>W&&B());){var ve=p.callback;if(typeof ve=="function"){p.callback=null,y=p.priorityLevel;var De=ve(p.expirationTime<=W);if(W=t.unstable_now(),typeof De=="function"){p.callback=De,q(W),se=!0;break t}p===n(d)&&r(d),q(W)}else r(d);p=n(d)}if(p!==null)se=!0;else{var H=n(f);H!==null&&Ee(U,H.startTime-W),se=!1}}break e}finally{p=null,y=me,x=!1}se=void 0}}finally{se?L():F=!1}}}var L;if(typeof j=="function")L=function(){j(k)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,de=z.port2;z.port1.onmessage=k,L=function(){de.postMessage(null)}}else L=function(){O(k,0)};function Ee(W,se){N=O(function(){W(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(W){switch(y){case 1:case 2:case 3:var se=3;break;default:se=y}var me=y;y=se;try{return W()}finally{y=me}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(W,se){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var me=y;y=W;try{return se()}finally{y=me}},t.unstable_scheduleCallback=function(W,se,me){var ve=t.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?ve+me:ve):me=ve,W){case 1:var De=-1;break;case 2:De=250;break;case 5:De=1073741823;break;case 4:De=1e4;break;default:De=5e3}return De=me+De,W={id:m++,callback:se,priorityLevel:W,startTime:me,expirationTime:De,sortIndex:-1},me>ve?(W.sortIndex=me,e(f,W),n(d)===null&&W===n(f)&&(E?(D(N),N=-1):E=!0,Ee(U,me-ve))):(W.sortIndex=De,e(d,W),w||x||(w=!0,F||(F=!0,L()))),W},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(W){var se=y;return function(){var me=y;y=se;try{return W.apply(this,arguments)}finally{y=me}}}})(lx)),lx}var L2;function t8(){return L2||(L2=1,ox.exports=e8()),ox.exports}var cx={exports:{}},lr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z2;function n8(){if(z2)return lr;z2=1;var t=Td();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(d,f,m){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:d,containerInfo:f,implementation:m}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return lr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,lr.createPortal=function(d,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(d,f,null,m)},lr.flushSync=function(d){var f=l.T,m=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=f,r.p=m,r.d.f()}},lr.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},lr.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},lr.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var m=f.as,p=c(m,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,x=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:y,fetchPriority:x}):m==="script"&&r.d.X(d,{crossOrigin:p,integrity:y,fetchPriority:x,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},lr.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=c(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},lr.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,p=c(m,f.crossOrigin);r.d.L(d,m,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},lr.preloadModule=function(d,f){if(typeof d=="string")if(f){var m=c(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},lr.requestFormReset=function(d){r.d.r(d)},lr.unstable_batchedUpdates=function(d,f){return d(f)},lr.useFormState=function(d,f,m){return l.H.useFormState(d,f,m)},lr.useFormStatus=function(){return l.H.useHostTransitionStatus()},lr.version="19.2.1",lr}var B2;function jj(){if(B2)return cx.exports;B2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),cx.exports=n8(),cx.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U2;function r8(){if(U2)return Hf;U2=1;var t=t8(),e=Td(),n=jj();function r(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var o=s,u=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(u=o.return),s=o.return;while(s)}return o.tag===3?u:null}function l(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function c(s){if(s.tag===31){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function d(s){if(a(s)!==s)throw Error(r(188))}function f(s){var o=s.alternate;if(!o){if(o=a(s),o===null)throw Error(r(188));return o!==s?null:s}for(var u=s,h=o;;){var v=u.return;if(v===null)break;var b=v.alternate;if(b===null){if(h=v.return,h!==null){u=h;continue}break}if(v.child===b.child){for(b=v.child;b;){if(b===u)return d(v),s;if(b===h)return d(v),o;b=b.sibling}throw Error(r(188))}if(u.return!==h.return)u=v,h=b;else{for(var C=!1,R=v.child;R;){if(R===u){C=!0,u=v,h=b;break}if(R===h){C=!0,h=v,u=b;break}R=R.sibling}if(!C){for(R=b.child;R;){if(R===u){C=!0,u=b,h=v;break}if(R===h){C=!0,h=b,u=v;break}R=R.sibling}if(!C)throw Error(r(189))}}if(u.alternate!==h)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?s:o}function m(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=m(s),o!==null)return o;s=s.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),j=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function L(s){return s===null||typeof s!="object"?null:(s=k&&s[k]||s["@@iterator"],typeof s=="function"?s:null)}var z=Symbol.for("react.client.reference");function de(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===z?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case E:return"Fragment";case O:return"Profiler";case A:return"StrictMode";case U:return"Suspense";case F:return"SuspenseList";case M:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case w:return"Portal";case j:return s.displayName||"Context";case D:return(s._context.displayName||"Context")+".Consumer";case q:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case N:return o=s.displayName||null,o!==null?o:de(s.type)||"Memo";case P:o=s._payload,s=s._init;try{return de(s(o))}catch{}}return null}var Ee=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},ve=[],De=-1;function H(s){return{current:s}}function re(s){0>De||(s.current=ve[De],ve[De]=null,De--)}function pe(s,o){De++,ve[De]=s.current,s.current=o}var be=H(null),je=H(null),le=H(null),Pe=H(null);function Mt(s,o){switch(pe(le,o),pe(je,s),pe(be,null),o.nodeType){case 9:case 11:s=(s=o.documentElement)&&(s=s.namespaceURI)?n2(s):0;break;default:if(s=o.tagName,o=o.namespaceURI)o=n2(o),s=r2(o,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}re(be),pe(be,s)}function ae(){re(be),re(je),re(le)}function Be(s){s.memoizedState!==null&&pe(Pe,s);var o=be.current,u=r2(o,s.type);o!==u&&(pe(je,s),pe(be,u))}function We(s){je.current===s&&(re(be),re(je)),Pe.current===s&&(re(Pe),Bf._currentValue=me)}var fe,rn;function tt(s){if(fe===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);fe=o&&o[1]||"",rn=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fe+s+rn}var Pn=!1;function an(s,o){if(!s||Pn)return"";Pn=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(o){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(ne){var ee=ne}Reflect.construct(s,[],ce)}else{try{ce.call()}catch(ne){ee=ne}s.call(ce.prototype)}}else{try{throw Error()}catch(ne){ee=ne}(ce=s())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(ne){if(ne&&ee&&typeof ne.stack=="string")return[ne.stack,ee.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=h.DetermineComponentFrameRoot(),C=b[0],R=b[1];if(C&&R){var $=C.split(`
`),Z=R.split(`
`);for(v=h=0;h<$.length&&!$[h].includes("DetermineComponentFrameRoot");)h++;for(;v<Z.length&&!Z[v].includes("DetermineComponentFrameRoot");)v++;if(h===$.length||v===Z.length)for(h=$.length-1,v=Z.length-1;1<=h&&0<=v&&$[h]!==Z[v];)v--;for(;1<=h&&0<=v;h--,v--)if($[h]!==Z[v]){if(h!==1||v!==1)do if(h--,v--,0>v||$[h]!==Z[v]){var ie=`
`+$[h].replace(" at new "," at ");return s.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",s.displayName)),ie}while(1<=h&&0<=v);break}}}finally{Pn=!1,Error.prepareStackTrace=u}return(u=s?s.displayName||s.name:"")?tt(u):""}function Fr(s,o){switch(s.tag){case 26:case 27:case 5:return tt(s.type);case 16:return tt("Lazy");case 13:return s.child!==o&&o!==null?tt("Suspense Fallback"):tt("Suspense");case 19:return tt("SuspenseList");case 0:case 15:return an(s.type,!1);case 11:return an(s.type.render,!1);case 1:return an(s.type,!0);case 31:return tt("Activity");default:return""}}function zs(s){try{var o="",u=null;do o+=Fr(s,u),u=s,s=s.return;while(s);return o}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var fn=Object.prototype.hasOwnProperty,Rn=t.unstable_scheduleCallback,Bs=t.unstable_cancelCallback,ab=t.unstable_shouldYield,Xm=t.unstable_requestPaint,vr=t.unstable_now,ol=t.unstable_getCurrentPriorityLevel,Fd=t.unstable_ImmediatePriority,qd=t.unstable_UserBlockingPriority,Us=t.unstable_NormalPriority,sb=t.unstable_LowPriority,Qm=t.unstable_IdlePriority,Zm=t.log,Jm=t.unstable_setDisableYieldValue,ki=null,Jn=null;function li(s){if(typeof Zm=="function"&&Jm(s),Jn&&typeof Jn.setStrictMode=="function")try{Jn.setStrictMode(ki,s)}catch{}}var sn=Math.clz32?Math.clz32:tp,ep=Math.log,Rc=Math.LN2;function tp(s){return s>>>=0,s===0?32:31-(ep(s)/Rc|0)|0}var aa=256,ll=262144,hn=4194304;function sa(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function oa(s,o,u){var h=s.pendingLanes;if(h===0)return 0;var v=0,b=s.suspendedLanes,C=s.pingedLanes;s=s.warmLanes;var R=h&134217727;return R!==0?(h=R&~b,h!==0?v=sa(h):(C&=R,C!==0?v=sa(C):u||(u=R&~s,u!==0&&(v=sa(u))))):(R=h&~b,R!==0?v=sa(R):C!==0?v=sa(C):u||(u=h&~s,u!==0&&(v=sa(u)))),v===0?0:o!==0&&o!==v&&(o&b)===0&&(b=v&-v,u=o&-o,b>=u||b===32&&(u&4194048)!==0)?o:v}function Mi(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function ob(s,o){switch(s){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function np(){var s=hn;return hn<<=1,(hn&62914560)===0&&(hn=4194304),s}function la(s){for(var o=[],u=0;31>u;u++)o.push(s);return o}function cl(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function lb(s,o,u,h,v,b){var C=s.pendingLanes;s.pendingLanes=u,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=u,s.entangledLanes&=u,s.errorRecoveryDisabledLanes&=u,s.shellSuspendCounter=0;var R=s.entanglements,$=s.expirationTimes,Z=s.hiddenUpdates;for(u=C&~u;0<u;){var ie=31-sn(u),ce=1<<ie;R[ie]=0,$[ie]=-1;var ee=Z[ie];if(ee!==null)for(Z[ie]=null,ie=0;ie<ee.length;ie++){var ne=ee[ie];ne!==null&&(ne.lane&=-536870913)}u&=~ce}h!==0&&ul(s,h,0),b!==0&&v===0&&s.tag!==0&&(s.suspendedLanes|=b&~(C&~o))}function ul(s,o,u){s.pendingLanes|=o,s.suspendedLanes&=~o;var h=31-sn(o);s.entangledLanes|=o,s.entanglements[h]=s.entanglements[h]|1073741824|u&261930}function $d(s,o){var u=s.entangledLanes|=o;for(s=s.entanglements;u;){var h=31-sn(u),v=1<<h;v&o|s[h]&o&&(s[h]|=o),u&=~v}}function Hd(s,o){var u=o&-o;return u=(u&42)!==0?1:dl(u),(u&(s.suspendedLanes|o))!==0?0:u}function dl(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function qa(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function rp(){var s=se.p;return s!==0?s:(s=window.event,s===void 0?32:A2(s.type))}function ji(s,o){var u=se.p;try{return se.p=s,o()}finally{se.p=u}}var Vi=Math.random().toString(36).slice(2),mn="__reactFiber$"+Vi,Fn="__reactProps$"+Vi,ca="__reactContainer$"+Vi,Dc="__reactEvents$"+Vi,cb="__reactListeners$"+Vi,ip="__reactHandles$"+Vi,ap="__reactResources$"+Vi,ua="__reactMarker$"+Vi;function kc(s){delete s[mn],delete s[Fn],delete s[Dc],delete s[cb],delete s[ip]}function da(s){var o=s[mn];if(o)return o;for(var u=s.parentNode;u;){if(o=u[ca]||u[mn]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(s=u2(s);s!==null;){if(u=s[mn])return u;s=u2(s)}return o}s=u,u=s.parentNode}return null}function ci(s){if(s=s[mn]||s[ca]){var o=s.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return s}return null}function qr(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(r(33))}function fa(s){var o=s[ap];return o||(o=s[ap]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function pn(s){s[ua]=!0}var Kd=new Set,Gd={};function ha(s,o){ma(s,o),ma(s+"Capture",o)}function ma(s,o){for(Gd[s]=o,s=0;s<o.length;s++)Kd.add(o[s])}var Yd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wd={},Xd={};function sp(s){return fn.call(Xd,s)?!0:fn.call(Wd,s)?!1:Yd.test(s)?Xd[s]=!0:(Wd[s]=!0,!1)}function Mc(s,o,u){if(sp(o))if(u===null)s.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var h=o.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+u)}}function $r(s,o,u){if(u===null)s.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+u)}}function gn(s,o,u,h){if(h===null)s.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(u);return}s.setAttributeNS(o,u,""+h)}}function qn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Fs(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Qd(s,o,u){var h=Object.getOwnPropertyDescriptor(s.constructor.prototype,o);if(!s.hasOwnProperty(o)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var v=h.get,b=h.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return v.call(this)},set:function(C){u=""+C,b.call(this,C)}}),Object.defineProperty(s,o,{enumerable:h.enumerable}),{getValue:function(){return u},setValue:function(C){u=""+C},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function xt(s){if(!s._valueTracker){var o=Fs(s)?"checked":"value";s._valueTracker=Qd(s,o,""+s[o])}}function fl(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var u=o.getValue(),h="";return s&&(h=Fs(s)?s.checked?"true":"false":s.value),s=h,s!==u?(o.setValue(s),!0):!1}function pa(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var hl=/[\n"\\]/g;function Or(s){return s.replace(hl,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function jc(s,o,u,h,v,b,C,R){s.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?s.type=C:s.removeAttribute("type"),o!=null?C==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+qn(o)):s.value!==""+qn(o)&&(s.value=""+qn(o)):C!=="submit"&&C!=="reset"||s.removeAttribute("value"),o!=null?Zd(s,C,qn(o)):u!=null?Zd(s,C,qn(u)):h!=null&&s.removeAttribute("value"),v==null&&b!=null&&(s.defaultChecked=!!b),v!=null&&(s.checked=v&&typeof v!="function"&&typeof v!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?s.name=""+qn(R):s.removeAttribute("name")}function op(s,o,u,h,v,b,C,R){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(s.type=b),o!=null||u!=null){if(!(b!=="submit"&&b!=="reset"||o!=null)){xt(s);return}u=u!=null?""+qn(u):"",o=o!=null?""+qn(o):u,R||o===s.value||(s.value=o),s.defaultValue=o}h=h??v,h=typeof h!="function"&&typeof h!="symbol"&&!!h,s.checked=R?s.checked:!!h,s.defaultChecked=!!h,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(s.name=C),xt(s)}function Zd(s,o,u){o==="number"&&pa(s.ownerDocument)===s||s.defaultValue===""+u||(s.defaultValue=""+u)}function qs(s,o,u,h){if(s=s.options,o){o={};for(var v=0;v<u.length;v++)o["$"+u[v]]=!0;for(u=0;u<s.length;u++)v=o.hasOwnProperty("$"+s[u].value),s[u].selected!==v&&(s[u].selected=v),v&&h&&(s[u].defaultSelected=!0)}else{for(u=""+qn(u),o=null,v=0;v<s.length;v++){if(s[v].value===u){s[v].selected=!0,h&&(s[v].defaultSelected=!0);return}o!==null||s[v].disabled||(o=s[v])}o!==null&&(o.selected=!0)}}function lp(s,o,u){if(o!=null&&(o=""+qn(o),o!==s.value&&(s.value=o),u==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=u!=null?""+qn(u):""}function $s(s,o,u,h){if(o==null){if(h!=null){if(u!=null)throw Error(r(92));if(Ee(h)){if(1<h.length)throw Error(r(93));h=h[0]}u=h}u==null&&(u=""),o=u}u=qn(o),s.defaultValue=u,h=s.textContent,h===u&&h!==""&&h!==null&&(s.value=h),xt(s)}function Nr(s,o){if(o){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=o;return}}s.textContent=o}var cp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jd(s,o,u){var h=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?h?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":h?s.setProperty(o,u):typeof u!="number"||u===0||cp.has(o)?o==="float"?s.cssFloat=u:s[o]=(""+u).trim():s[o]=u+"px"}function ef(s,o,u){if(o!=null&&typeof o!="object")throw Error(r(62));if(s=s.style,u!=null){for(var h in u)!u.hasOwnProperty(h)||o!=null&&o.hasOwnProperty(h)||(h.indexOf("--")===0?s.setProperty(h,""):h==="float"?s.cssFloat="":s[h]="");for(var v in o)h=o[v],o.hasOwnProperty(v)&&u[v]!==h&&Jd(s,v,h)}else for(var b in o)o.hasOwnProperty(b)&&Jd(s,b,o[b])}function Vc(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var up=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Hs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Lc(s){return Hs.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Li(){}var tf=null;function ui(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ks=null,ga=null;function ml(s){var o=ci(s);if(o&&(s=o.stateNode)){var u=s[Fn]||null;e:switch(s=o.stateNode,o.type){case"input":if(jc(s,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Or(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var h=u[o];if(h!==s&&h.form===s.form){var v=h[Fn]||null;if(!v)throw Error(r(90));jc(h,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(o=0;o<u.length;o++)h=u[o],h.form===s.form&&fl(h)}break e;case"textarea":lp(s,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&qs(s,!!u.multiple,o,!1)}}}var zc=!1;function Gs(s,o,u){if(zc)return s(o,u);zc=!0;try{var h=s(o);return h}finally{if(zc=!1,(Ks!==null||ga!==null)&&(rg(),Ks&&(o=Ks,s=ga,ga=Ks=null,ml(o),s)))for(o=0;o<s.length;o++)ml(s[o])}}function zi(s,o){var u=s.stateNode;if(u===null)return null;var h=u[Fn]||null;if(h===null)return null;u=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var di=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pl=!1;if(di)try{var At={};Object.defineProperty(At,"passive",{get:function(){pl=!0}}),window.addEventListener("test",At,At),window.removeEventListener("test",At,At)}catch{pl=!1}var va=null,nf=null,gl=null;function rf(){if(gl)return gl;var s,o=nf,u=o.length,h,v="value"in va?va.value:va.textContent,b=v.length;for(s=0;s<u&&o[s]===v[s];s++);var C=u-s;for(h=1;h<=C&&o[u-h]===v[b-h];h++);return gl=v.slice(s,1<h?1-h:void 0)}function vl(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function $a(){return!0}function Bi(){return!1}function er(s){function o(u,h,v,b,C){this._reactName=u,this._targetInst=v,this.type=h,this.nativeEvent=b,this.target=C,this.currentTarget=null;for(var R in s)s.hasOwnProperty(R)&&(u=s[R],this[R]=u?u(b):b[R]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?$a:Bi,this.isPropagationStopped=Bi,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=$a)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=$a)},persist:function(){},isPersistent:$a}),o}var Ha={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ya=er(Ha),Ys=p({},Ha,{view:0,detail:0}),af=er(Ys),Ws,Bc,ba,Uc=p({},Ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xs,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ba&&(ba&&s.type==="mousemove"?(Ws=s.screenX-ba.screenX,Bc=s.screenY-ba.screenY):Bc=Ws=0,ba=s),Ws)},movementY:function(s){return"movementY"in s?s.movementY:Bc}}),sf=er(Uc),yl=p({},Uc,{dataTransfer:0}),dp=er(yl),fp=p({},Ys,{relatedTarget:0}),bl=er(fp),of=p({},Ha,{animationName:0,elapsedTime:0,pseudoElement:0}),hp=er(of),Fc=p({},Ha,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),mp=er(Fc),pp=p({},Ha,{data:0}),_a=er(pp),gp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bp(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=yp[s])?!!o[s]:!1}function Xs(){return bp}var yr=p({},Ys,{key:function(s){if(s.key){var o=gp[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=vl(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?vp[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xs,charCode:function(s){return s.type==="keypress"?vl(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?vl(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),_p=er(yr),xp=p({},Uc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ka=er(xp),g=p({},Ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xs}),T=er(g),I=p({},Ha,{propertyName:0,elapsedTime:0,pseudoElement:0}),V=er(I),X=p({},Uc,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),te=er(X),ye=p({},Ha,{newState:0,oldState:0}),Xe=er(ye),on=[9,13,27,32],gt=di&&"CompositionEvent"in window,Ut=null;di&&"documentMode"in document&&(Ut=document.documentMode);var fi=di&&"TextEvent"in window&&!Ut,xa=di&&(!gt||Ut&&8<Ut&&11>=Ut),Ui=" ",Fi=!1;function _l(s,o){switch(s){case"keyup":return on.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qc(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var $c=!1;function vU(s,o){switch(s){case"compositionend":return qc(o);case"keypress":return o.which!==32?null:(Fi=!0,Ui);case"textInput":return s=o.data,s===Ui&&Fi?null:s;default:return null}}function yU(s,o){if($c)return s==="compositionend"||!gt&&_l(s,o)?(s=rf(),gl=nf=va=null,$c=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return xa&&o.locale!=="ko"?null:o.data;default:return null}}var bU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hC(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!bU[s.type]:o==="textarea"}function mC(s,o,u,h){Ks?ga?ga.push(h):ga=[h]:Ks=h,o=ug(o,"onChange"),0<o.length&&(u=new ya("onChange","change",null,u,h),s.push({event:u,listeners:o}))}var lf=null,cf=null;function _U(s){XO(s,0)}function wp(s){var o=qr(s);if(fl(o))return s}function pC(s,o){if(s==="change")return o}var gC=!1;if(di){var ub;if(di){var db="oninput"in document;if(!db){var vC=document.createElement("div");vC.setAttribute("oninput","return;"),db=typeof vC.oninput=="function"}ub=db}else ub=!1;gC=ub&&(!document.documentMode||9<document.documentMode)}function yC(){lf&&(lf.detachEvent("onpropertychange",bC),cf=lf=null)}function bC(s){if(s.propertyName==="value"&&wp(cf)){var o=[];mC(o,cf,s,ui(s)),Gs(_U,o)}}function xU(s,o,u){s==="focusin"?(yC(),lf=o,cf=u,lf.attachEvent("onpropertychange",bC)):s==="focusout"&&yC()}function wU(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return wp(cf)}function EU(s,o){if(s==="click")return wp(o)}function TU(s,o){if(s==="input"||s==="change")return wp(o)}function SU(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Hr=typeof Object.is=="function"?Object.is:SU;function uf(s,o){if(Hr(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var u=Object.keys(s),h=Object.keys(o);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var v=u[h];if(!fn.call(o,v)||!Hr(s[v],o[v]))return!1}return!0}function _C(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function xC(s,o){var u=_C(s);s=0;for(var h;u;){if(u.nodeType===3){if(h=s+u.textContent.length,s<=o&&h>=o)return{node:u,offset:o-s};s=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=_C(u)}}function wC(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?wC(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function EC(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=pa(s.document);o instanceof s.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)s=o.contentWindow;else break;o=pa(s.document)}return o}function fb(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}var AU=di&&"documentMode"in document&&11>=document.documentMode,Hc=null,hb=null,df=null,mb=!1;function TC(s,o,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;mb||Hc==null||Hc!==pa(h)||(h=Hc,"selectionStart"in h&&fb(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),df&&uf(df,h)||(df=h,h=ug(hb,"onSelect"),0<h.length&&(o=new ya("onSelect","select",null,o,u),s.push({event:o,listeners:h}),o.target=Hc)))}function xl(s,o){var u={};return u[s.toLowerCase()]=o.toLowerCase(),u["Webkit"+s]="webkit"+o,u["Moz"+s]="moz"+o,u}var Kc={animationend:xl("Animation","AnimationEnd"),animationiteration:xl("Animation","AnimationIteration"),animationstart:xl("Animation","AnimationStart"),transitionrun:xl("Transition","TransitionRun"),transitionstart:xl("Transition","TransitionStart"),transitioncancel:xl("Transition","TransitionCancel"),transitionend:xl("Transition","TransitionEnd")},pb={},SC={};di&&(SC=document.createElement("div").style,"AnimationEvent"in window||(delete Kc.animationend.animation,delete Kc.animationiteration.animation,delete Kc.animationstart.animation),"TransitionEvent"in window||delete Kc.transitionend.transition);function wl(s){if(pb[s])return pb[s];if(!Kc[s])return s;var o=Kc[s],u;for(u in o)if(o.hasOwnProperty(u)&&u in SC)return pb[s]=o[u];return s}var AC=wl("animationend"),CC=wl("animationiteration"),IC=wl("animationstart"),CU=wl("transitionrun"),IU=wl("transitionstart"),OU=wl("transitioncancel"),OC=wl("transitionend"),NC=new Map,gb="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gb.push("scrollEnd");function qi(s,o){NC.set(s,o),ha(o,[s])}var Ep=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},hi=[],Gc=0,vb=0;function Tp(){for(var s=Gc,o=vb=Gc=0;o<s;){var u=hi[o];hi[o++]=null;var h=hi[o];hi[o++]=null;var v=hi[o];hi[o++]=null;var b=hi[o];if(hi[o++]=null,h!==null&&v!==null){var C=h.pending;C===null?v.next=v:(v.next=C.next,C.next=v),h.pending=v}b!==0&&PC(u,v,b)}}function Sp(s,o,u,h){hi[Gc++]=s,hi[Gc++]=o,hi[Gc++]=u,hi[Gc++]=h,vb|=h,s.lanes|=h,s=s.alternate,s!==null&&(s.lanes|=h)}function yb(s,o,u,h){return Sp(s,o,u,h),Ap(s)}function El(s,o){return Sp(s,null,null,o),Ap(s)}function PC(s,o,u){s.lanes|=u;var h=s.alternate;h!==null&&(h.lanes|=u);for(var v=!1,b=s.return;b!==null;)b.childLanes|=u,h=b.alternate,h!==null&&(h.childLanes|=u),b.tag===22&&(s=b.stateNode,s===null||s._visibility&1||(v=!0)),s=b,b=b.return;return s.tag===3?(b=s.stateNode,v&&o!==null&&(v=31-sn(u),s=b.hiddenUpdates,h=s[v],h===null?s[v]=[o]:h.push(o),o.lane=u|536870912),b):null}function Ap(s){if(50<Df)throw Df=0,C_=null,Error(r(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var Yc={};function NU(s,o,u,h){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kr(s,o,u,h){return new NU(s,o,u,h)}function bb(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Ga(s,o){var u=s.alternate;return u===null?(u=Kr(s.tag,o,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=o,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&65011712,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,o=s.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u.refCleanup=s.refCleanup,u}function RC(s,o){s.flags&=65011714;var u=s.alternate;return u===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,o=u.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function Cp(s,o,u,h,v,b){var C=0;if(h=s,typeof s=="function")bb(s)&&(C=1);else if(typeof s=="string")C=M9(s,u,be.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case M:return s=Kr(31,u,o,v),s.elementType=M,s.lanes=b,s;case E:return Tl(u.children,v,b,o);case A:C=8,v|=24;break;case O:return s=Kr(12,u,o,v|2),s.elementType=O,s.lanes=b,s;case U:return s=Kr(13,u,o,v),s.elementType=U,s.lanes=b,s;case F:return s=Kr(19,u,o,v),s.elementType=F,s.lanes=b,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case j:C=10;break e;case D:C=9;break e;case q:C=11;break e;case N:C=14;break e;case P:C=16,h=null;break e}C=29,u=Error(r(130,s===null?"null":typeof s,"")),h=null}return o=Kr(C,u,o,v),o.elementType=s,o.type=h,o.lanes=b,o}function Tl(s,o,u,h){return s=Kr(7,s,h,o),s.lanes=u,s}function _b(s,o,u){return s=Kr(6,s,null,o),s.lanes=u,s}function DC(s){var o=Kr(18,null,null,0);return o.stateNode=s,o}function xb(s,o,u){return o=Kr(4,s.children!==null?s.children:[],s.key,o),o.lanes=u,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}var kC=new WeakMap;function mi(s,o){if(typeof s=="object"&&s!==null){var u=kC.get(s);return u!==void 0?u:(o={value:s,source:o,stack:zs(o)},kC.set(s,o),o)}return{value:s,source:o,stack:zs(o)}}var Wc=[],Xc=0,Ip=null,ff=0,pi=[],gi=0,Qs=null,wa=1,Ea="";function Ya(s,o){Wc[Xc++]=ff,Wc[Xc++]=Ip,Ip=s,ff=o}function MC(s,o,u){pi[gi++]=wa,pi[gi++]=Ea,pi[gi++]=Qs,Qs=s;var h=wa;s=Ea;var v=32-sn(h)-1;h&=~(1<<v),u+=1;var b=32-sn(o)+v;if(30<b){var C=v-v%5;b=(h&(1<<C)-1).toString(32),h>>=C,v-=C,wa=1<<32-sn(o)+v|u<<v|h,Ea=b+s}else wa=1<<b|u<<v|h,Ea=s}function wb(s){s.return!==null&&(Ya(s,1),MC(s,1,0))}function Eb(s){for(;s===Ip;)Ip=Wc[--Xc],Wc[Xc]=null,ff=Wc[--Xc],Wc[Xc]=null;for(;s===Qs;)Qs=pi[--gi],pi[gi]=null,Ea=pi[--gi],pi[gi]=null,wa=pi[--gi],pi[gi]=null}function jC(s,o){pi[gi++]=wa,pi[gi++]=Ea,pi[gi++]=Qs,wa=o.id,Ea=o.overflow,Qs=s}var tr=null,Lt=null,ot=!1,Zs=null,vi=!1,Tb=Error(r(519));function Js(s){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw hf(mi(o,s)),Tb}function VC(s){var o=s.stateNode,u=s.type,h=s.memoizedProps;switch(o[mn]=s,o[Fn]=h,u){case"dialog":rt("cancel",o),rt("close",o);break;case"iframe":case"object":case"embed":rt("load",o);break;case"video":case"audio":for(u=0;u<Mf.length;u++)rt(Mf[u],o);break;case"source":rt("error",o);break;case"img":case"image":case"link":rt("error",o),rt("load",o);break;case"details":rt("toggle",o);break;case"input":rt("invalid",o),op(o,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":rt("invalid",o);break;case"textarea":rt("invalid",o),$s(o,h.value,h.defaultValue,h.children)}u=h.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||h.suppressHydrationWarning===!0||e2(o.textContent,u)?(h.popover!=null&&(rt("beforetoggle",o),rt("toggle",o)),h.onScroll!=null&&rt("scroll",o),h.onScrollEnd!=null&&rt("scrollend",o),h.onClick!=null&&(o.onclick=Li),o=!0):o=!1,o||Js(s,!0)}function LC(s){for(tr=s.return;tr;)switch(tr.tag){case 5:case 31:case 13:vi=!1;return;case 27:case 3:vi=!0;return;default:tr=tr.return}}function Qc(s){if(s!==tr)return!1;if(!ot)return LC(s),ot=!0,!1;var o=s.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=s.type,u=!(u!=="form"&&u!=="button")||F_(s.type,s.memoizedProps)),u=!u),u&&Lt&&Js(s),LC(s),o===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));Lt=c2(s)}else if(o===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));Lt=c2(s)}else o===27?(o=Lt,mo(s.type)?(s=G_,G_=null,Lt=s):Lt=o):Lt=tr?bi(s.stateNode.nextSibling):null;return!0}function Sl(){Lt=tr=null,ot=!1}function Sb(){var s=Zs;return s!==null&&(kr===null?kr=s:kr.push.apply(kr,s),Zs=null),s}function hf(s){Zs===null?Zs=[s]:Zs.push(s)}var Ab=H(null),Al=null,Wa=null;function eo(s,o,u){pe(Ab,o._currentValue),o._currentValue=u}function Xa(s){s._currentValue=Ab.current,re(Ab)}function Cb(s,o,u){for(;s!==null;){var h=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),s===u)break;s=s.return}}function Ib(s,o,u,h){var v=s.child;for(v!==null&&(v.return=s);v!==null;){var b=v.dependencies;if(b!==null){var C=v.child;b=b.firstContext;e:for(;b!==null;){var R=b;b=v;for(var $=0;$<o.length;$++)if(R.context===o[$]){b.lanes|=u,R=b.alternate,R!==null&&(R.lanes|=u),Cb(b.return,u,s),h||(C=null);break e}b=R.next}}else if(v.tag===18){if(C=v.return,C===null)throw Error(r(341));C.lanes|=u,b=C.alternate,b!==null&&(b.lanes|=u),Cb(C,u,s),C=null}else C=v.child;if(C!==null)C.return=v;else for(C=v;C!==null;){if(C===s){C=null;break}if(v=C.sibling,v!==null){v.return=C.return,C=v;break}C=C.return}v=C}}function Zc(s,o,u,h){s=null;for(var v=o,b=!1;v!==null;){if(!b){if((v.flags&524288)!==0)b=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var C=v.alternate;if(C===null)throw Error(r(387));if(C=C.memoizedProps,C!==null){var R=v.type;Hr(v.pendingProps.value,C.value)||(s!==null?s.push(R):s=[R])}}else if(v===Pe.current){if(C=v.alternate,C===null)throw Error(r(387));C.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(s!==null?s.push(Bf):s=[Bf])}v=v.return}s!==null&&Ib(o,s,u,h),o.flags|=262144}function Op(s){for(s=s.firstContext;s!==null;){if(!Hr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Cl(s){Al=s,Wa=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function nr(s){return zC(Al,s)}function Np(s,o){return Al===null&&Cl(s),zC(s,o)}function zC(s,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},Wa===null){if(s===null)throw Error(r(308));Wa=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else Wa=Wa.next=o;return u}var PU=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(u,h){s.push(h)}};this.abort=function(){o.aborted=!0,s.forEach(function(u){return u()})}},RU=t.unstable_scheduleCallback,DU=t.unstable_NormalPriority,vn={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ob(){return{controller:new PU,data:new Map,refCount:0}}function mf(s){s.refCount--,s.refCount===0&&RU(DU,function(){s.controller.abort()})}var pf=null,Nb=0,Jc=0,eu=null;function kU(s,o){if(pf===null){var u=pf=[];Nb=0,Jc=D_(),eu={status:"pending",value:void 0,then:function(h){u.push(h)}}}return Nb++,o.then(BC,BC),o}function BC(){if(--Nb===0&&pf!==null){eu!==null&&(eu.status="fulfilled");var s=pf;pf=null,Jc=0,eu=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function MU(s,o){var u=[],h={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return s.then(function(){h.status="fulfilled",h.value=o;for(var v=0;v<u.length;v++)(0,u[v])(o)},function(v){for(h.status="rejected",h.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),h}var UC=W.S;W.S=function(s,o){TO=vr(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&kU(s,o),UC!==null&&UC(s,o)};var Il=H(null);function Pb(){var s=Il.current;return s!==null?s:Rt.pooledCache}function Pp(s,o){o===null?pe(Il,Il.current):pe(Il,o.pool)}function FC(){var s=Pb();return s===null?null:{parent:vn._currentValue,pool:s}}var tu=Error(r(460)),Rb=Error(r(474)),Rp=Error(r(542)),Dp={then:function(){}};function qC(s){return s=s.status,s==="fulfilled"||s==="rejected"}function $C(s,o,u){switch(u=s[u],u===void 0?s.push(o):u!==o&&(o.then(Li,Li),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,KC(s),s;default:if(typeof o.status=="string")o.then(Li,Li);else{if(s=Rt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=o,s.status="pending",s.then(function(h){if(o.status==="pending"){var v=o;v.status="fulfilled",v.value=h}},function(h){if(o.status==="pending"){var v=o;v.status="rejected",v.reason=h}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,KC(s),s}throw Nl=o,tu}}function Ol(s){try{var o=s._init;return o(s._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Nl=u,tu):u}}var Nl=null;function HC(){if(Nl===null)throw Error(r(459));var s=Nl;return Nl=null,s}function KC(s){if(s===tu||s===Rp)throw Error(r(483))}var nu=null,gf=0;function kp(s){var o=gf;return gf+=1,nu===null&&(nu=[]),$C(nu,s,o)}function vf(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function Mp(s,o){throw o.$$typeof===y?Error(r(525)):(s=Object.prototype.toString.call(o),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function GC(s){function o(G,K){if(s){var Q=G.deletions;Q===null?(G.deletions=[K],G.flags|=16):Q.push(K)}}function u(G,K){if(!s)return null;for(;K!==null;)o(G,K),K=K.sibling;return null}function h(G){for(var K=new Map;G!==null;)G.key!==null?K.set(G.key,G):K.set(G.index,G),G=G.sibling;return K}function v(G,K){return G=Ga(G,K),G.index=0,G.sibling=null,G}function b(G,K,Q){return G.index=Q,s?(Q=G.alternate,Q!==null?(Q=Q.index,Q<K?(G.flags|=67108866,K):Q):(G.flags|=67108866,K)):(G.flags|=1048576,K)}function C(G){return s&&G.alternate===null&&(G.flags|=67108866),G}function R(G,K,Q,oe){return K===null||K.tag!==6?(K=_b(Q,G.mode,oe),K.return=G,K):(K=v(K,Q),K.return=G,K)}function $(G,K,Q,oe){var Ve=Q.type;return Ve===E?ie(G,K,Q.props.children,oe,Q.key):K!==null&&(K.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===P&&Ol(Ve)===K.type)?(K=v(K,Q.props),vf(K,Q),K.return=G,K):(K=Cp(Q.type,Q.key,Q.props,null,G.mode,oe),vf(K,Q),K.return=G,K)}function Z(G,K,Q,oe){return K===null||K.tag!==4||K.stateNode.containerInfo!==Q.containerInfo||K.stateNode.implementation!==Q.implementation?(K=xb(Q,G.mode,oe),K.return=G,K):(K=v(K,Q.children||[]),K.return=G,K)}function ie(G,K,Q,oe,Ve){return K===null||K.tag!==7?(K=Tl(Q,G.mode,oe,Ve),K.return=G,K):(K=v(K,Q),K.return=G,K)}function ce(G,K,Q){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=_b(""+K,G.mode,Q),K.return=G,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case x:return Q=Cp(K.type,K.key,K.props,null,G.mode,Q),vf(Q,K),Q.return=G,Q;case w:return K=xb(K,G.mode,Q),K.return=G,K;case P:return K=Ol(K),ce(G,K,Q)}if(Ee(K)||L(K))return K=Tl(K,G.mode,Q,null),K.return=G,K;if(typeof K.then=="function")return ce(G,kp(K),Q);if(K.$$typeof===j)return ce(G,Np(G,K),Q);Mp(G,K)}return null}function ee(G,K,Q,oe){var Ve=K!==null?K.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Ve!==null?null:R(G,K,""+Q,oe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case x:return Q.key===Ve?$(G,K,Q,oe):null;case w:return Q.key===Ve?Z(G,K,Q,oe):null;case P:return Q=Ol(Q),ee(G,K,Q,oe)}if(Ee(Q)||L(Q))return Ve!==null?null:ie(G,K,Q,oe,null);if(typeof Q.then=="function")return ee(G,K,kp(Q),oe);if(Q.$$typeof===j)return ee(G,K,Np(G,Q),oe);Mp(G,Q)}return null}function ne(G,K,Q,oe,Ve){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return G=G.get(Q)||null,R(K,G,""+oe,Ve);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case x:return G=G.get(oe.key===null?Q:oe.key)||null,$(K,G,oe,Ve);case w:return G=G.get(oe.key===null?Q:oe.key)||null,Z(K,G,oe,Ve);case P:return oe=Ol(oe),ne(G,K,Q,oe,Ve)}if(Ee(oe)||L(oe))return G=G.get(Q)||null,ie(K,G,oe,Ve,null);if(typeof oe.then=="function")return ne(G,K,Q,kp(oe),Ve);if(oe.$$typeof===j)return ne(G,K,Q,Np(K,oe),Ve);Mp(K,oe)}return null}function Ae(G,K,Q,oe){for(var Ve=null,ft=null,Re=K,Ze=K=0,at=null;Re!==null&&Ze<Q.length;Ze++){Re.index>Ze?(at=Re,Re=null):at=Re.sibling;var ht=ee(G,Re,Q[Ze],oe);if(ht===null){Re===null&&(Re=at);break}s&&Re&&ht.alternate===null&&o(G,Re),K=b(ht,K,Ze),ft===null?Ve=ht:ft.sibling=ht,ft=ht,Re=at}if(Ze===Q.length)return u(G,Re),ot&&Ya(G,Ze),Ve;if(Re===null){for(;Ze<Q.length;Ze++)Re=ce(G,Q[Ze],oe),Re!==null&&(K=b(Re,K,Ze),ft===null?Ve=Re:ft.sibling=Re,ft=Re);return ot&&Ya(G,Ze),Ve}for(Re=h(Re);Ze<Q.length;Ze++)at=ne(Re,G,Ze,Q[Ze],oe),at!==null&&(s&&at.alternate!==null&&Re.delete(at.key===null?Ze:at.key),K=b(at,K,Ze),ft===null?Ve=at:ft.sibling=at,ft=at);return s&&Re.forEach(function(bo){return o(G,bo)}),ot&&Ya(G,Ze),Ve}function ze(G,K,Q,oe){if(Q==null)throw Error(r(151));for(var Ve=null,ft=null,Re=K,Ze=K=0,at=null,ht=Q.next();Re!==null&&!ht.done;Ze++,ht=Q.next()){Re.index>Ze?(at=Re,Re=null):at=Re.sibling;var bo=ee(G,Re,ht.value,oe);if(bo===null){Re===null&&(Re=at);break}s&&Re&&bo.alternate===null&&o(G,Re),K=b(bo,K,Ze),ft===null?Ve=bo:ft.sibling=bo,ft=bo,Re=at}if(ht.done)return u(G,Re),ot&&Ya(G,Ze),Ve;if(Re===null){for(;!ht.done;Ze++,ht=Q.next())ht=ce(G,ht.value,oe),ht!==null&&(K=b(ht,K,Ze),ft===null?Ve=ht:ft.sibling=ht,ft=ht);return ot&&Ya(G,Ze),Ve}for(Re=h(Re);!ht.done;Ze++,ht=Q.next())ht=ne(Re,G,Ze,ht.value,oe),ht!==null&&(s&&ht.alternate!==null&&Re.delete(ht.key===null?Ze:ht.key),K=b(ht,K,Ze),ft===null?Ve=ht:ft.sibling=ht,ft=ht);return s&&Re.forEach(function(K9){return o(G,K9)}),ot&&Ya(G,Ze),Ve}function Ot(G,K,Q,oe){if(typeof Q=="object"&&Q!==null&&Q.type===E&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case x:e:{for(var Ve=Q.key;K!==null;){if(K.key===Ve){if(Ve=Q.type,Ve===E){if(K.tag===7){u(G,K.sibling),oe=v(K,Q.props.children),oe.return=G,G=oe;break e}}else if(K.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===P&&Ol(Ve)===K.type){u(G,K.sibling),oe=v(K,Q.props),vf(oe,Q),oe.return=G,G=oe;break e}u(G,K);break}else o(G,K);K=K.sibling}Q.type===E?(oe=Tl(Q.props.children,G.mode,oe,Q.key),oe.return=G,G=oe):(oe=Cp(Q.type,Q.key,Q.props,null,G.mode,oe),vf(oe,Q),oe.return=G,G=oe)}return C(G);case w:e:{for(Ve=Q.key;K!==null;){if(K.key===Ve)if(K.tag===4&&K.stateNode.containerInfo===Q.containerInfo&&K.stateNode.implementation===Q.implementation){u(G,K.sibling),oe=v(K,Q.children||[]),oe.return=G,G=oe;break e}else{u(G,K);break}else o(G,K);K=K.sibling}oe=xb(Q,G.mode,oe),oe.return=G,G=oe}return C(G);case P:return Q=Ol(Q),Ot(G,K,Q,oe)}if(Ee(Q))return Ae(G,K,Q,oe);if(L(Q)){if(Ve=L(Q),typeof Ve!="function")throw Error(r(150));return Q=Ve.call(Q),ze(G,K,Q,oe)}if(typeof Q.then=="function")return Ot(G,K,kp(Q),oe);if(Q.$$typeof===j)return Ot(G,K,Np(G,Q),oe);Mp(G,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,K!==null&&K.tag===6?(u(G,K.sibling),oe=v(K,Q),oe.return=G,G=oe):(u(G,K),oe=_b(Q,G.mode,oe),oe.return=G,G=oe),C(G)):u(G,K)}return function(G,K,Q,oe){try{gf=0;var Ve=Ot(G,K,Q,oe);return nu=null,Ve}catch(Re){if(Re===tu||Re===Rp)throw Re;var ft=Kr(29,Re,null,G.mode);return ft.lanes=oe,ft.return=G,ft}finally{}}}var Pl=GC(!0),YC=GC(!1),to=!1;function Db(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kb(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function no(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function ro(s,o,u){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(vt&2)!==0){var v=h.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),h.pending=o,o=Ap(s),PC(s,null,u),o}return Sp(s,h,o,u),Ap(s)}function yf(s,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var h=o.lanes;h&=s.pendingLanes,u|=h,o.lanes=u,$d(s,u)}}function Mb(s,o){var u=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var v=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var C={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};b===null?v=b=C:b=b.next=C,u=u.next}while(u!==null);b===null?v=b=o:b=b.next=o}else v=b=o;u={baseState:h.baseState,firstBaseUpdate:v,lastBaseUpdate:b,shared:h.shared,callbacks:h.callbacks},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=o:s.next=o,u.lastBaseUpdate=o}var jb=!1;function bf(){if(jb){var s=eu;if(s!==null)throw s}}function _f(s,o,u,h){jb=!1;var v=s.updateQueue;to=!1;var b=v.firstBaseUpdate,C=v.lastBaseUpdate,R=v.shared.pending;if(R!==null){v.shared.pending=null;var $=R,Z=$.next;$.next=null,C===null?b=Z:C.next=Z,C=$;var ie=s.alternate;ie!==null&&(ie=ie.updateQueue,R=ie.lastBaseUpdate,R!==C&&(R===null?ie.firstBaseUpdate=Z:R.next=Z,ie.lastBaseUpdate=$))}if(b!==null){var ce=v.baseState;C=0,ie=Z=$=null,R=b;do{var ee=R.lane&-536870913,ne=ee!==R.lane;if(ne?(it&ee)===ee:(h&ee)===ee){ee!==0&&ee===Jc&&(jb=!0),ie!==null&&(ie=ie.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var Ae=s,ze=R;ee=o;var Ot=u;switch(ze.tag){case 1:if(Ae=ze.payload,typeof Ae=="function"){ce=Ae.call(Ot,ce,ee);break e}ce=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=ze.payload,ee=typeof Ae=="function"?Ae.call(Ot,ce,ee):Ae,ee==null)break e;ce=p({},ce,ee);break e;case 2:to=!0}}ee=R.callback,ee!==null&&(s.flags|=64,ne&&(s.flags|=8192),ne=v.callbacks,ne===null?v.callbacks=[ee]:ne.push(ee))}else ne={lane:ee,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ie===null?(Z=ie=ne,$=ce):ie=ie.next=ne,C|=ee;if(R=R.next,R===null){if(R=v.shared.pending,R===null)break;ne=R,R=ne.next,ne.next=null,v.lastBaseUpdate=ne,v.shared.pending=null}}while(!0);ie===null&&($=ce),v.baseState=$,v.firstBaseUpdate=Z,v.lastBaseUpdate=ie,b===null&&(v.shared.lanes=0),lo|=C,s.lanes=C,s.memoizedState=ce}}function WC(s,o){if(typeof s!="function")throw Error(r(191,s));s.call(o)}function XC(s,o){var u=s.callbacks;if(u!==null)for(s.callbacks=null,s=0;s<u.length;s++)WC(u[s],o)}var ru=H(null),jp=H(0);function QC(s,o){s=as,pe(jp,s),pe(ru,o),as=s|o.baseLanes}function Vb(){pe(jp,as),pe(ru,ru.current)}function Lb(){as=jp.current,re(ru),re(jp)}var Gr=H(null),yi=null;function io(s){var o=s.alternate;pe(ln,ln.current&1),pe(Gr,s),yi===null&&(o===null||ru.current!==null||o.memoizedState!==null)&&(yi=s)}function zb(s){pe(ln,ln.current),pe(Gr,s),yi===null&&(yi=s)}function ZC(s){s.tag===22?(pe(ln,ln.current),pe(Gr,s),yi===null&&(yi=s)):ao()}function ao(){pe(ln,ln.current),pe(Gr,Gr.current)}function Yr(s){re(Gr),yi===s&&(yi=null),re(ln)}var ln=H(0);function Vp(s){for(var o=s;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||H_(u)||K_(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Qa=0,Qe=null,Ct=null,yn=null,Lp=!1,iu=!1,Rl=!1,zp=0,xf=0,au=null,jU=0;function Jt(){throw Error(r(321))}function Bb(s,o){if(o===null)return!1;for(var u=0;u<o.length&&u<s.length;u++)if(!Hr(s[u],o[u]))return!1;return!0}function Ub(s,o,u,h,v,b){return Qa=b,Qe=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,W.H=s===null||s.memoizedState===null?MI:n_,Rl=!1,b=u(h,v),Rl=!1,iu&&(b=eI(o,u,h,v)),JC(s),b}function JC(s){W.H=Tf;var o=Ct!==null&&Ct.next!==null;if(Qa=0,yn=Ct=Qe=null,Lp=!1,xf=0,au=null,o)throw Error(r(300));s===null||bn||(s=s.dependencies,s!==null&&Op(s)&&(bn=!0))}function eI(s,o,u,h){Qe=s;var v=0;do{if(iu&&(au=null),xf=0,iu=!1,25<=v)throw Error(r(301));if(v+=1,yn=Ct=null,s.updateQueue!=null){var b=s.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}W.H=jI,b=o(u,h)}while(iu);return b}function VU(){var s=W.H,o=s.useState()[0];return o=typeof o.then=="function"?wf(o):o,s=s.useState()[0],(Ct!==null?Ct.memoizedState:null)!==s&&(Qe.flags|=1024),o}function Fb(){var s=zp!==0;return zp=0,s}function qb(s,o,u){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~u}function $b(s){if(Lp){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}Lp=!1}Qa=0,yn=Ct=Qe=null,iu=!1,xf=zp=0,au=null}function br(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yn===null?Qe.memoizedState=yn=s:yn=yn.next=s,yn}function cn(){if(Ct===null){var s=Qe.alternate;s=s!==null?s.memoizedState:null}else s=Ct.next;var o=yn===null?Qe.memoizedState:yn.next;if(o!==null)yn=o,Ct=s;else{if(s===null)throw Qe.alternate===null?Error(r(467)):Error(r(310));Ct=s,s={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},yn===null?Qe.memoizedState=yn=s:yn=yn.next=s}return yn}function Bp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wf(s){var o=xf;return xf+=1,au===null&&(au=[]),s=$C(au,s,o),o=Qe,(yn===null?o.memoizedState:yn.next)===null&&(o=o.alternate,W.H=o===null||o.memoizedState===null?MI:n_),s}function Up(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return wf(s);if(s.$$typeof===j)return nr(s)}throw Error(r(438,String(s)))}function Hb(s){var o=null,u=Qe.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var h=Qe.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(o={data:h.data.map(function(v){return v.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=Bp(),Qe.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(s),h=0;h<s;h++)u[h]=B;return o.index++,u}function Za(s,o){return typeof o=="function"?o(s):o}function Fp(s){var o=cn();return Kb(o,Ct,s)}function Kb(s,o,u){var h=s.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=u;var v=s.baseQueue,b=h.pending;if(b!==null){if(v!==null){var C=v.next;v.next=b.next,b.next=C}o.baseQueue=v=b,h.pending=null}if(b=s.baseState,v===null)s.memoizedState=b;else{o=v.next;var R=C=null,$=null,Z=o,ie=!1;do{var ce=Z.lane&-536870913;if(ce!==Z.lane?(it&ce)===ce:(Qa&ce)===ce){var ee=Z.revertLane;if(ee===0)$!==null&&($=$.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),ce===Jc&&(ie=!0);else if((Qa&ee)===ee){Z=Z.next,ee===Jc&&(ie=!0);continue}else ce={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},$===null?(R=$=ce,C=b):$=$.next=ce,Qe.lanes|=ee,lo|=ee;ce=Z.action,Rl&&u(b,ce),b=Z.hasEagerState?Z.eagerState:u(b,ce)}else ee={lane:ce,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},$===null?(R=$=ee,C=b):$=$.next=ee,Qe.lanes|=ce,lo|=ce;Z=Z.next}while(Z!==null&&Z!==o);if($===null?C=b:$.next=R,!Hr(b,s.memoizedState)&&(bn=!0,ie&&(u=eu,u!==null)))throw u;s.memoizedState=b,s.baseState=C,s.baseQueue=$,h.lastRenderedState=b}return v===null&&(h.lanes=0),[s.memoizedState,h.dispatch]}function Gb(s){var o=cn(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=s;var h=u.dispatch,v=u.pending,b=o.memoizedState;if(v!==null){u.pending=null;var C=v=v.next;do b=s(b,C.action),C=C.next;while(C!==v);Hr(b,o.memoizedState)||(bn=!0),o.memoizedState=b,o.baseQueue===null&&(o.baseState=b),u.lastRenderedState=b}return[b,h]}function tI(s,o,u){var h=Qe,v=cn(),b=ot;if(b){if(u===void 0)throw Error(r(407));u=u()}else u=o();var C=!Hr((Ct||v).memoizedState,u);if(C&&(v.memoizedState=u,bn=!0),v=v.queue,Xb(iI.bind(null,h,v,s),[s]),v.getSnapshot!==o||C||yn!==null&&yn.memoizedState.tag&1){if(h.flags|=2048,su(9,{destroy:void 0},rI.bind(null,h,v,u,o),null),Rt===null)throw Error(r(349));b||(Qa&127)!==0||nI(h,o,u)}return u}function nI(s,o,u){s.flags|=16384,s={getSnapshot:o,value:u},o=Qe.updateQueue,o===null?(o=Bp(),Qe.updateQueue=o,o.stores=[s]):(u=o.stores,u===null?o.stores=[s]:u.push(s))}function rI(s,o,u,h){o.value=u,o.getSnapshot=h,aI(o)&&sI(s)}function iI(s,o,u){return u(function(){aI(o)&&sI(s)})}function aI(s){var o=s.getSnapshot;s=s.value;try{var u=o();return!Hr(s,u)}catch{return!0}}function sI(s){var o=El(s,2);o!==null&&Mr(o,s,2)}function Yb(s){var o=br();if(typeof s=="function"){var u=s;if(s=u(),Rl){li(!0);try{u()}finally{li(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Za,lastRenderedState:s},o}function oI(s,o,u,h){return s.baseState=u,Kb(s,Ct,typeof h=="function"?h:Za)}function LU(s,o,u,h,v){if(Hp(s))throw Error(r(485));if(s=o.action,s!==null){var b={payload:v,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){b.listeners.push(C)}};W.T!==null?u(!0):b.isTransition=!1,h(b),u=o.pending,u===null?(b.next=o.pending=b,lI(o,b)):(b.next=u.next,o.pending=u.next=b)}}function lI(s,o){var u=o.action,h=o.payload,v=s.state;if(o.isTransition){var b=W.T,C={};W.T=C;try{var R=u(v,h),$=W.S;$!==null&&$(C,R),cI(s,o,R)}catch(Z){Wb(s,o,Z)}finally{b!==null&&C.types!==null&&(b.types=C.types),W.T=b}}else try{b=u(v,h),cI(s,o,b)}catch(Z){Wb(s,o,Z)}}function cI(s,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(h){uI(s,o,h)},function(h){return Wb(s,o,h)}):uI(s,o,u)}function uI(s,o,u){o.status="fulfilled",o.value=u,dI(o),s.state=u,o=s.pending,o!==null&&(u=o.next,u===o?s.pending=null:(u=u.next,o.next=u,lI(s,u)))}function Wb(s,o,u){var h=s.pending;if(s.pending=null,h!==null){h=h.next;do o.status="rejected",o.reason=u,dI(o),o=o.next;while(o!==h)}s.action=null}function dI(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function fI(s,o){return o}function hI(s,o){if(ot){var u=Rt.formState;if(u!==null){e:{var h=Qe;if(ot){if(Lt){t:{for(var v=Lt,b=vi;v.nodeType!==8;){if(!b){v=null;break t}if(v=bi(v.nextSibling),v===null){v=null;break t}}b=v.data,v=b==="F!"||b==="F"?v:null}if(v){Lt=bi(v.nextSibling),h=v.data==="F!";break e}}Js(h)}h=!1}h&&(o=u[0])}}return u=br(),u.memoizedState=u.baseState=o,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fI,lastRenderedState:o},u.queue=h,u=RI.bind(null,Qe,h),h.dispatch=u,h=Yb(!1),b=t_.bind(null,Qe,!1,h.queue),h=br(),v={state:o,dispatch:null,action:s,pending:null},h.queue=v,u=LU.bind(null,Qe,v,b,u),v.dispatch=u,h.memoizedState=s,[o,u,!1]}function mI(s){var o=cn();return pI(o,Ct,s)}function pI(s,o,u){if(o=Kb(s,o,fI)[0],s=Fp(Za)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var h=wf(o)}catch(C){throw C===tu?Rp:C}else h=o;o=cn();var v=o.queue,b=v.dispatch;return u!==o.memoizedState&&(Qe.flags|=2048,su(9,{destroy:void 0},zU.bind(null,v,u),null)),[h,b,s]}function zU(s,o){s.action=o}function gI(s){var o=cn(),u=Ct;if(u!==null)return pI(o,u,s);cn(),o=o.memoizedState,u=cn();var h=u.queue.dispatch;return u.memoizedState=s,[o,h,!1]}function su(s,o,u,h){return s={tag:s,create:u,deps:h,inst:o,next:null},o=Qe.updateQueue,o===null&&(o=Bp(),Qe.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=s.next=s:(h=u.next,u.next=s,s.next=h,o.lastEffect=s),s}function vI(){return cn().memoizedState}function qp(s,o,u,h){var v=br();Qe.flags|=s,v.memoizedState=su(1|o,{destroy:void 0},u,h===void 0?null:h)}function $p(s,o,u,h){var v=cn();h=h===void 0?null:h;var b=v.memoizedState.inst;Ct!==null&&h!==null&&Bb(h,Ct.memoizedState.deps)?v.memoizedState=su(o,b,u,h):(Qe.flags|=s,v.memoizedState=su(1|o,b,u,h))}function yI(s,o){qp(8390656,8,s,o)}function Xb(s,o){$p(2048,8,s,o)}function BU(s){Qe.flags|=4;var o=Qe.updateQueue;if(o===null)o=Bp(),Qe.updateQueue=o,o.events=[s];else{var u=o.events;u===null?o.events=[s]:u.push(s)}}function bI(s){var o=cn().memoizedState;return BU({ref:o,nextImpl:s}),function(){if((vt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function _I(s,o){return $p(4,2,s,o)}function xI(s,o){return $p(4,4,s,o)}function wI(s,o){if(typeof o=="function"){s=s();var u=o(s);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function EI(s,o,u){u=u!=null?u.concat([s]):null,$p(4,4,wI.bind(null,o,s),u)}function Qb(){}function TI(s,o){var u=cn();o=o===void 0?null:o;var h=u.memoizedState;return o!==null&&Bb(o,h[1])?h[0]:(u.memoizedState=[s,o],s)}function SI(s,o){var u=cn();o=o===void 0?null:o;var h=u.memoizedState;if(o!==null&&Bb(o,h[1]))return h[0];if(h=s(),Rl){li(!0);try{s()}finally{li(!1)}}return u.memoizedState=[h,o],h}function Zb(s,o,u){return u===void 0||(Qa&1073741824)!==0&&(it&261930)===0?s.memoizedState=o:(s.memoizedState=u,s=AO(),Qe.lanes|=s,lo|=s,u)}function AI(s,o,u,h){return Hr(u,o)?u:ru.current!==null?(s=Zb(s,u,h),Hr(s,o)||(bn=!0),s):(Qa&42)===0||(Qa&1073741824)!==0&&(it&261930)===0?(bn=!0,s.memoizedState=u):(s=AO(),Qe.lanes|=s,lo|=s,o)}function CI(s,o,u,h,v){var b=se.p;se.p=b!==0&&8>b?b:8;var C=W.T,R={};W.T=R,t_(s,!1,o,u);try{var $=v(),Z=W.S;if(Z!==null&&Z(R,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var ie=MU($,h);Ef(s,o,ie,Qr(s))}else Ef(s,o,h,Qr(s))}catch(ce){Ef(s,o,{then:function(){},status:"rejected",reason:ce},Qr())}finally{se.p=b,C!==null&&R.types!==null&&(C.types=R.types),W.T=C}}function UU(){}function Jb(s,o,u,h){if(s.tag!==5)throw Error(r(476));var v=II(s).queue;CI(s,v,o,me,u===null?UU:function(){return OI(s),u(h)})}function II(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Za,lastRenderedState:me},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Za,lastRenderedState:u},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function OI(s){var o=II(s);o.next===null&&(o=s.alternate.memoizedState),Ef(s,o.next.queue,{},Qr())}function e_(){return nr(Bf)}function NI(){return cn().memoizedState}function PI(){return cn().memoizedState}function FU(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var u=Qr();s=no(u);var h=ro(o,s,u);h!==null&&(Mr(h,o,u),yf(h,o,u)),o={cache:Ob()},s.payload=o;return}o=o.return}}function qU(s,o,u){var h=Qr();u={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Hp(s)?DI(o,u):(u=yb(s,o,u,h),u!==null&&(Mr(u,s,h),kI(u,o,h)))}function RI(s,o,u){var h=Qr();Ef(s,o,u,h)}function Ef(s,o,u,h){var v={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Hp(s))DI(o,v);else{var b=s.alternate;if(s.lanes===0&&(b===null||b.lanes===0)&&(b=o.lastRenderedReducer,b!==null))try{var C=o.lastRenderedState,R=b(C,u);if(v.hasEagerState=!0,v.eagerState=R,Hr(R,C))return Sp(s,o,v,0),Rt===null&&Tp(),!1}catch{}finally{}if(u=yb(s,o,v,h),u!==null)return Mr(u,s,h),kI(u,o,h),!0}return!1}function t_(s,o,u,h){if(h={lane:2,revertLane:D_(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Hp(s)){if(o)throw Error(r(479))}else o=yb(s,u,h,2),o!==null&&Mr(o,s,2)}function Hp(s){var o=s.alternate;return s===Qe||o!==null&&o===Qe}function DI(s,o){iu=Lp=!0;var u=s.pending;u===null?o.next=o:(o.next=u.next,u.next=o),s.pending=o}function kI(s,o,u){if((u&4194048)!==0){var h=o.lanes;h&=s.pendingLanes,u|=h,o.lanes=u,$d(s,u)}}var Tf={readContext:nr,use:Up,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useLayoutEffect:Jt,useInsertionEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useSyncExternalStore:Jt,useId:Jt,useHostTransitionStatus:Jt,useFormState:Jt,useActionState:Jt,useOptimistic:Jt,useMemoCache:Jt,useCacheRefresh:Jt};Tf.useEffectEvent=Jt;var MI={readContext:nr,use:Up,useCallback:function(s,o){return br().memoizedState=[s,o===void 0?null:o],s},useContext:nr,useEffect:yI,useImperativeHandle:function(s,o,u){u=u!=null?u.concat([s]):null,qp(4194308,4,wI.bind(null,o,s),u)},useLayoutEffect:function(s,o){return qp(4194308,4,s,o)},useInsertionEffect:function(s,o){qp(4,2,s,o)},useMemo:function(s,o){var u=br();o=o===void 0?null:o;var h=s();if(Rl){li(!0);try{s()}finally{li(!1)}}return u.memoizedState=[h,o],h},useReducer:function(s,o,u){var h=br();if(u!==void 0){var v=u(o);if(Rl){li(!0);try{u(o)}finally{li(!1)}}}else v=o;return h.memoizedState=h.baseState=v,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:v},h.queue=s,s=s.dispatch=qU.bind(null,Qe,s),[h.memoizedState,s]},useRef:function(s){var o=br();return s={current:s},o.memoizedState=s},useState:function(s){s=Yb(s);var o=s.queue,u=RI.bind(null,Qe,o);return o.dispatch=u,[s.memoizedState,u]},useDebugValue:Qb,useDeferredValue:function(s,o){var u=br();return Zb(u,s,o)},useTransition:function(){var s=Yb(!1);return s=CI.bind(null,Qe,s.queue,!0,!1),br().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,u){var h=Qe,v=br();if(ot){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),Rt===null)throw Error(r(349));(it&127)!==0||nI(h,o,u)}v.memoizedState=u;var b={value:u,getSnapshot:o};return v.queue=b,yI(iI.bind(null,h,b,s),[s]),h.flags|=2048,su(9,{destroy:void 0},rI.bind(null,h,b,u,o),null),u},useId:function(){var s=br(),o=Rt.identifierPrefix;if(ot){var u=Ea,h=wa;u=(h&~(1<<32-sn(h)-1)).toString(32)+u,o="_"+o+"R_"+u,u=zp++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=jU++,o="_"+o+"r_"+u.toString(32)+"_";return s.memoizedState=o},useHostTransitionStatus:e_,useFormState:hI,useActionState:hI,useOptimistic:function(s){var o=br();o.memoizedState=o.baseState=s;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=t_.bind(null,Qe,!0,u),u.dispatch=o,[s,o]},useMemoCache:Hb,useCacheRefresh:function(){return br().memoizedState=FU.bind(null,Qe)},useEffectEvent:function(s){var o=br(),u={impl:s};return o.memoizedState=u,function(){if((vt&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},n_={readContext:nr,use:Up,useCallback:TI,useContext:nr,useEffect:Xb,useImperativeHandle:EI,useInsertionEffect:_I,useLayoutEffect:xI,useMemo:SI,useReducer:Fp,useRef:vI,useState:function(){return Fp(Za)},useDebugValue:Qb,useDeferredValue:function(s,o){var u=cn();return AI(u,Ct.memoizedState,s,o)},useTransition:function(){var s=Fp(Za)[0],o=cn().memoizedState;return[typeof s=="boolean"?s:wf(s),o]},useSyncExternalStore:tI,useId:NI,useHostTransitionStatus:e_,useFormState:mI,useActionState:mI,useOptimistic:function(s,o){var u=cn();return oI(u,Ct,s,o)},useMemoCache:Hb,useCacheRefresh:PI};n_.useEffectEvent=bI;var jI={readContext:nr,use:Up,useCallback:TI,useContext:nr,useEffect:Xb,useImperativeHandle:EI,useInsertionEffect:_I,useLayoutEffect:xI,useMemo:SI,useReducer:Gb,useRef:vI,useState:function(){return Gb(Za)},useDebugValue:Qb,useDeferredValue:function(s,o){var u=cn();return Ct===null?Zb(u,s,o):AI(u,Ct.memoizedState,s,o)},useTransition:function(){var s=Gb(Za)[0],o=cn().memoizedState;return[typeof s=="boolean"?s:wf(s),o]},useSyncExternalStore:tI,useId:NI,useHostTransitionStatus:e_,useFormState:gI,useActionState:gI,useOptimistic:function(s,o){var u=cn();return Ct!==null?oI(u,Ct,s,o):(u.baseState=s,[s,u.queue.dispatch])},useMemoCache:Hb,useCacheRefresh:PI};jI.useEffectEvent=bI;function r_(s,o,u,h){o=s.memoizedState,u=u(h,o),u=u==null?o:p({},o,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var i_={enqueueSetState:function(s,o,u){s=s._reactInternals;var h=Qr(),v=no(h);v.payload=o,u!=null&&(v.callback=u),o=ro(s,v,h),o!==null&&(Mr(o,s,h),yf(o,s,h))},enqueueReplaceState:function(s,o,u){s=s._reactInternals;var h=Qr(),v=no(h);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=ro(s,v,h),o!==null&&(Mr(o,s,h),yf(o,s,h))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var u=Qr(),h=no(u);h.tag=2,o!=null&&(h.callback=o),o=ro(s,h,u),o!==null&&(Mr(o,s,u),yf(o,s,u))}};function VI(s,o,u,h,v,b,C){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,b,C):o.prototype&&o.prototype.isPureReactComponent?!uf(u,h)||!uf(v,b):!0}function LI(s,o,u,h){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,h),o.state!==s&&i_.enqueueReplaceState(o,o.state,null)}function Dl(s,o){var u=o;if("ref"in o){u={};for(var h in o)h!=="ref"&&(u[h]=o[h])}if(s=s.defaultProps){u===o&&(u=p({},u));for(var v in s)u[v]===void 0&&(u[v]=s[v])}return u}function zI(s){Ep(s)}function BI(s){console.error(s)}function UI(s){Ep(s)}function Kp(s,o){try{var u=s.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(h){setTimeout(function(){throw h})}}function FI(s,o,u){try{var h=s.onCaughtError;h(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function a_(s,o,u){return u=no(u),u.tag=3,u.payload={element:null},u.callback=function(){Kp(s,o)},u}function qI(s){return s=no(s),s.tag=3,s}function $I(s,o,u,h){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var b=h.value;s.payload=function(){return v(b)},s.callback=function(){FI(o,u,h)}}var C=u.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(s.callback=function(){FI(o,u,h),typeof v!="function"&&(co===null?co=new Set([this]):co.add(this));var R=h.stack;this.componentDidCatch(h.value,{componentStack:R!==null?R:""})})}function $U(s,o,u,h,v){if(u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(o=u.alternate,o!==null&&Zc(o,u,v,!0),u=Gr.current,u!==null){switch(u.tag){case 31:case 13:return yi===null?ig():u.alternate===null&&en===0&&(en=3),u.flags&=-257,u.flags|=65536,u.lanes=v,h===Dp?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([h]):o.add(h),N_(s,h,v)),!1;case 22:return u.flags|=65536,h===Dp?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([h])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([h]):u.add(h)),N_(s,h,v)),!1}throw Error(r(435,u.tag))}return N_(s,h,v),ig(),!1}if(ot)return o=Gr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=v,h!==Tb&&(s=Error(r(422),{cause:h}),hf(mi(s,u)))):(h!==Tb&&(o=Error(r(423),{cause:h}),hf(mi(o,u))),s=s.current.alternate,s.flags|=65536,v&=-v,s.lanes|=v,h=mi(h,u),v=a_(s.stateNode,h,v),Mb(s,v),en!==4&&(en=2)),!1;var b=Error(r(520),{cause:h});if(b=mi(b,u),Rf===null?Rf=[b]:Rf.push(b),en!==4&&(en=2),o===null)return!0;h=mi(h,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,s=v&-v,u.lanes|=s,s=a_(u.stateNode,h,s),Mb(u,s),!1;case 1:if(o=u.type,b=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(co===null||!co.has(b))))return u.flags|=65536,v&=-v,u.lanes|=v,v=qI(v),$I(v,s,u,h),Mb(u,v),!1}u=u.return}while(u!==null);return!1}var s_=Error(r(461)),bn=!1;function rr(s,o,u,h){o.child=s===null?YC(o,null,u,h):Pl(o,s.child,u,h)}function HI(s,o,u,h,v){u=u.render;var b=o.ref;if("ref"in h){var C={};for(var R in h)R!=="ref"&&(C[R]=h[R])}else C=h;return Cl(o),h=Ub(s,o,u,C,b,v),R=Fb(),s!==null&&!bn?(qb(s,o,v),Ja(s,o,v)):(ot&&R&&wb(o),o.flags|=1,rr(s,o,h,v),o.child)}function KI(s,o,u,h,v){if(s===null){var b=u.type;return typeof b=="function"&&!bb(b)&&b.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=b,GI(s,o,b,h,v)):(s=Cp(u.type,null,h,o,o.mode,v),s.ref=o.ref,s.return=o,o.child=s)}if(b=s.child,!m_(s,v)){var C=b.memoizedProps;if(u=u.compare,u=u!==null?u:uf,u(C,h)&&s.ref===o.ref)return Ja(s,o,v)}return o.flags|=1,s=Ga(b,h),s.ref=o.ref,s.return=o,o.child=s}function GI(s,o,u,h,v){if(s!==null){var b=s.memoizedProps;if(uf(b,h)&&s.ref===o.ref)if(bn=!1,o.pendingProps=h=b,m_(s,v))(s.flags&131072)!==0&&(bn=!0);else return o.lanes=s.lanes,Ja(s,o,v)}return o_(s,o,u,h,v)}function YI(s,o,u,h){var v=h.children,b=s!==null?s.memoizedState:null;if(s===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((o.flags&128)!==0){if(b=b!==null?b.baseLanes|u:u,s!==null){for(h=o.child=s.child,v=0;h!==null;)v=v|h.lanes|h.childLanes,h=h.sibling;h=v&~b}else h=0,o.child=null;return WI(s,o,b,u,h)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&Pp(o,b!==null?b.cachePool:null),b!==null?QC(o,b):Vb(),ZC(o);else return h=o.lanes=536870912,WI(s,o,b!==null?b.baseLanes|u:u,u,h)}else b!==null?(Pp(o,b.cachePool),QC(o,b),ao(),o.memoizedState=null):(s!==null&&Pp(o,null),Vb(),ao());return rr(s,o,v,u),o.child}function Sf(s,o){return s!==null&&s.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function WI(s,o,u,h,v){var b=Pb();return b=b===null?null:{parent:vn._currentValue,pool:b},o.memoizedState={baseLanes:u,cachePool:b},s!==null&&Pp(o,null),Vb(),ZC(o),s!==null&&Zc(s,o,h,!0),o.childLanes=v,null}function Gp(s,o){return o=Wp({mode:o.mode,children:o.children},s.mode),o.ref=s.ref,s.child=o,o.return=s,o}function XI(s,o,u){return Pl(o,s.child,null,u),s=Gp(o,o.pendingProps),s.flags|=2,Yr(o),o.memoizedState=null,s}function HU(s,o,u){var h=o.pendingProps,v=(o.flags&128)!==0;if(o.flags&=-129,s===null){if(ot){if(h.mode==="hidden")return s=Gp(o,h),o.lanes=536870912,Sf(null,s);if(zb(o),(s=Lt)?(s=l2(s,vi),s=s!==null&&s.data==="&"?s:null,s!==null&&(o.memoizedState={dehydrated:s,treeContext:Qs!==null?{id:wa,overflow:Ea}:null,retryLane:536870912,hydrationErrors:null},u=DC(s),u.return=o,o.child=u,tr=o,Lt=null)):s=null,s===null)throw Js(o);return o.lanes=536870912,null}return Gp(o,h)}var b=s.memoizedState;if(b!==null){var C=b.dehydrated;if(zb(o),v)if(o.flags&256)o.flags&=-257,o=XI(s,o,u);else if(o.memoizedState!==null)o.child=s.child,o.flags|=128,o=null;else throw Error(r(558));else if(bn||Zc(s,o,u,!1),v=(u&s.childLanes)!==0,bn||v){if(h=Rt,h!==null&&(C=Hd(h,u),C!==0&&C!==b.retryLane))throw b.retryLane=C,El(s,C),Mr(h,s,C),s_;ig(),o=XI(s,o,u)}else s=b.treeContext,Lt=bi(C.nextSibling),tr=o,ot=!0,Zs=null,vi=!1,s!==null&&jC(o,s),o=Gp(o,h),o.flags|=4096;return o}return s=Ga(s.child,{mode:h.mode,children:h.children}),s.ref=o.ref,o.child=s,s.return=o,s}function Yp(s,o){var u=o.ref;if(u===null)s!==null&&s.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(s===null||s.ref!==u)&&(o.flags|=4194816)}}function o_(s,o,u,h,v){return Cl(o),u=Ub(s,o,u,h,void 0,v),h=Fb(),s!==null&&!bn?(qb(s,o,v),Ja(s,o,v)):(ot&&h&&wb(o),o.flags|=1,rr(s,o,u,v),o.child)}function QI(s,o,u,h,v,b){return Cl(o),o.updateQueue=null,u=eI(o,h,u,v),JC(s),h=Fb(),s!==null&&!bn?(qb(s,o,b),Ja(s,o,b)):(ot&&h&&wb(o),o.flags|=1,rr(s,o,u,b),o.child)}function ZI(s,o,u,h,v){if(Cl(o),o.stateNode===null){var b=Yc,C=u.contextType;typeof C=="object"&&C!==null&&(b=nr(C)),b=new u(h,b),o.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=i_,o.stateNode=b,b._reactInternals=o,b=o.stateNode,b.props=h,b.state=o.memoizedState,b.refs={},Db(o),C=u.contextType,b.context=typeof C=="object"&&C!==null?nr(C):Yc,b.state=o.memoizedState,C=u.getDerivedStateFromProps,typeof C=="function"&&(r_(o,u,C,h),b.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(C=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),C!==b.state&&i_.enqueueReplaceState(b,b.state,null),_f(o,h,b,v),bf(),b.state=o.memoizedState),typeof b.componentDidMount=="function"&&(o.flags|=4194308),h=!0}else if(s===null){b=o.stateNode;var R=o.memoizedProps,$=Dl(u,R);b.props=$;var Z=b.context,ie=u.contextType;C=Yc,typeof ie=="object"&&ie!==null&&(C=nr(ie));var ce=u.getDerivedStateFromProps;ie=typeof ce=="function"||typeof b.getSnapshotBeforeUpdate=="function",R=o.pendingProps!==R,ie||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(R||Z!==C)&&LI(o,b,h,C),to=!1;var ee=o.memoizedState;b.state=ee,_f(o,h,b,v),bf(),Z=o.memoizedState,R||ee!==Z||to?(typeof ce=="function"&&(r_(o,u,ce,h),Z=o.memoizedState),($=to||VI(o,u,$,h,ee,Z,C))?(ie||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=Z),b.props=h,b.state=Z,b.context=C,h=$):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{b=o.stateNode,kb(s,o),C=o.memoizedProps,ie=Dl(u,C),b.props=ie,ce=o.pendingProps,ee=b.context,Z=u.contextType,$=Yc,typeof Z=="object"&&Z!==null&&($=nr(Z)),R=u.getDerivedStateFromProps,(Z=typeof R=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(C!==ce||ee!==$)&&LI(o,b,h,$),to=!1,ee=o.memoizedState,b.state=ee,_f(o,h,b,v),bf();var ne=o.memoizedState;C!==ce||ee!==ne||to||s!==null&&s.dependencies!==null&&Op(s.dependencies)?(typeof R=="function"&&(r_(o,u,R,h),ne=o.memoizedState),(ie=to||VI(o,u,ie,h,ee,ne,$)||s!==null&&s.dependencies!==null&&Op(s.dependencies))?(Z||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(h,ne,$),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(h,ne,$)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||C===s.memoizedProps&&ee===s.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||C===s.memoizedProps&&ee===s.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=ne),b.props=h,b.state=ne,b.context=$,h=ie):(typeof b.componentDidUpdate!="function"||C===s.memoizedProps&&ee===s.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||C===s.memoizedProps&&ee===s.memoizedState||(o.flags|=1024),h=!1)}return b=h,Yp(s,o),h=(o.flags&128)!==0,b||h?(b=o.stateNode,u=h&&typeof u.getDerivedStateFromError!="function"?null:b.render(),o.flags|=1,s!==null&&h?(o.child=Pl(o,s.child,null,v),o.child=Pl(o,null,u,v)):rr(s,o,u,v),o.memoizedState=b.state,s=o.child):s=Ja(s,o,v),s}function JI(s,o,u,h){return Sl(),o.flags|=256,rr(s,o,u,h),o.child}var l_={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function c_(s){return{baseLanes:s,cachePool:FC()}}function u_(s,o,u){return s=s!==null?s.childLanes&~u:0,o&&(s|=Xr),s}function eO(s,o,u){var h=o.pendingProps,v=!1,b=(o.flags&128)!==0,C;if((C=b)||(C=s!==null&&s.memoizedState===null?!1:(ln.current&2)!==0),C&&(v=!0,o.flags&=-129),C=(o.flags&32)!==0,o.flags&=-33,s===null){if(ot){if(v?io(o):ao(),(s=Lt)?(s=l2(s,vi),s=s!==null&&s.data!=="&"?s:null,s!==null&&(o.memoizedState={dehydrated:s,treeContext:Qs!==null?{id:wa,overflow:Ea}:null,retryLane:536870912,hydrationErrors:null},u=DC(s),u.return=o,o.child=u,tr=o,Lt=null)):s=null,s===null)throw Js(o);return K_(s)?o.lanes=32:o.lanes=536870912,null}var R=h.children;return h=h.fallback,v?(ao(),v=o.mode,R=Wp({mode:"hidden",children:R},v),h=Tl(h,v,u,null),R.return=o,h.return=o,R.sibling=h,o.child=R,h=o.child,h.memoizedState=c_(u),h.childLanes=u_(s,C,u),o.memoizedState=l_,Sf(null,h)):(io(o),d_(o,R))}var $=s.memoizedState;if($!==null&&(R=$.dehydrated,R!==null)){if(b)o.flags&256?(io(o),o.flags&=-257,o=f_(s,o,u)):o.memoizedState!==null?(ao(),o.child=s.child,o.flags|=128,o=null):(ao(),R=h.fallback,v=o.mode,h=Wp({mode:"visible",children:h.children},v),R=Tl(R,v,u,null),R.flags|=2,h.return=o,R.return=o,h.sibling=R,o.child=h,Pl(o,s.child,null,u),h=o.child,h.memoizedState=c_(u),h.childLanes=u_(s,C,u),o.memoizedState=l_,o=Sf(null,h));else if(io(o),K_(R)){if(C=R.nextSibling&&R.nextSibling.dataset,C)var Z=C.dgst;C=Z,h=Error(r(419)),h.stack="",h.digest=C,hf({value:h,source:null,stack:null}),o=f_(s,o,u)}else if(bn||Zc(s,o,u,!1),C=(u&s.childLanes)!==0,bn||C){if(C=Rt,C!==null&&(h=Hd(C,u),h!==0&&h!==$.retryLane))throw $.retryLane=h,El(s,h),Mr(C,s,h),s_;H_(R)||ig(),o=f_(s,o,u)}else H_(R)?(o.flags|=192,o.child=s.child,o=null):(s=$.treeContext,Lt=bi(R.nextSibling),tr=o,ot=!0,Zs=null,vi=!1,s!==null&&jC(o,s),o=d_(o,h.children),o.flags|=4096);return o}return v?(ao(),R=h.fallback,v=o.mode,$=s.child,Z=$.sibling,h=Ga($,{mode:"hidden",children:h.children}),h.subtreeFlags=$.subtreeFlags&65011712,Z!==null?R=Ga(Z,R):(R=Tl(R,v,u,null),R.flags|=2),R.return=o,h.return=o,h.sibling=R,o.child=h,Sf(null,h),h=o.child,R=s.child.memoizedState,R===null?R=c_(u):(v=R.cachePool,v!==null?($=vn._currentValue,v=v.parent!==$?{parent:$,pool:$}:v):v=FC(),R={baseLanes:R.baseLanes|u,cachePool:v}),h.memoizedState=R,h.childLanes=u_(s,C,u),o.memoizedState=l_,Sf(s.child,h)):(io(o),u=s.child,s=u.sibling,u=Ga(u,{mode:"visible",children:h.children}),u.return=o,u.sibling=null,s!==null&&(C=o.deletions,C===null?(o.deletions=[s],o.flags|=16):C.push(s)),o.child=u,o.memoizedState=null,u)}function d_(s,o){return o=Wp({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function Wp(s,o){return s=Kr(22,s,null,o),s.lanes=0,s}function f_(s,o,u){return Pl(o,s.child,null,u),s=d_(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function tO(s,o,u){s.lanes|=o;var h=s.alternate;h!==null&&(h.lanes|=o),Cb(s.return,o,u)}function h_(s,o,u,h,v,b){var C=s.memoizedState;C===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:v,treeForkCount:b}:(C.isBackwards=o,C.rendering=null,C.renderingStartTime=0,C.last=h,C.tail=u,C.tailMode=v,C.treeForkCount=b)}function nO(s,o,u){var h=o.pendingProps,v=h.revealOrder,b=h.tail;h=h.children;var C=ln.current,R=(C&2)!==0;if(R?(C=C&1|2,o.flags|=128):C&=1,pe(ln,C),rr(s,o,h,u),h=ot?ff:0,!R&&s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&tO(s,u,o);else if(s.tag===19)tO(s,u,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(v){case"forwards":for(u=o.child,v=null;u!==null;)s=u.alternate,s!==null&&Vp(s)===null&&(v=u),u=u.sibling;u=v,u===null?(v=o.child,o.child=null):(v=u.sibling,u.sibling=null),h_(o,!1,v,u,b,h);break;case"backwards":case"unstable_legacy-backwards":for(u=null,v=o.child,o.child=null;v!==null;){if(s=v.alternate,s!==null&&Vp(s)===null){o.child=v;break}s=v.sibling,v.sibling=u,u=v,v=s}h_(o,!0,u,null,b,h);break;case"together":h_(o,!1,null,null,void 0,h);break;default:o.memoizedState=null}return o.child}function Ja(s,o,u){if(s!==null&&(o.dependencies=s.dependencies),lo|=o.lanes,(u&o.childLanes)===0)if(s!==null){if(Zc(s,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(r(153));if(o.child!==null){for(s=o.child,u=Ga(s,s.pendingProps),o.child=u,u.return=o;s.sibling!==null;)s=s.sibling,u=u.sibling=Ga(s,s.pendingProps),u.return=o;u.sibling=null}return o.child}function m_(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&Op(s)))}function KU(s,o,u){switch(o.tag){case 3:Mt(o,o.stateNode.containerInfo),eo(o,vn,s.memoizedState.cache),Sl();break;case 27:case 5:Be(o);break;case 4:Mt(o,o.stateNode.containerInfo);break;case 10:eo(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,zb(o),null;break;case 13:var h=o.memoizedState;if(h!==null)return h.dehydrated!==null?(io(o),o.flags|=128,null):(u&o.child.childLanes)!==0?eO(s,o,u):(io(o),s=Ja(s,o,u),s!==null?s.sibling:null);io(o);break;case 19:var v=(s.flags&128)!==0;if(h=(u&o.childLanes)!==0,h||(Zc(s,o,u,!1),h=(u&o.childLanes)!==0),v){if(h)return nO(s,o,u);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),pe(ln,ln.current),h)break;return null;case 22:return o.lanes=0,YI(s,o,u,o.pendingProps);case 24:eo(o,vn,s.memoizedState.cache)}return Ja(s,o,u)}function rO(s,o,u){if(s!==null)if(s.memoizedProps!==o.pendingProps)bn=!0;else{if(!m_(s,u)&&(o.flags&128)===0)return bn=!1,KU(s,o,u);bn=(s.flags&131072)!==0}else bn=!1,ot&&(o.flags&1048576)!==0&&MC(o,ff,o.index);switch(o.lanes=0,o.tag){case 16:e:{var h=o.pendingProps;if(s=Ol(o.elementType),o.type=s,typeof s=="function")bb(s)?(h=Dl(s,h),o.tag=1,o=ZI(null,o,s,h,u)):(o.tag=0,o=o_(null,o,s,h,u));else{if(s!=null){var v=s.$$typeof;if(v===q){o.tag=11,o=HI(null,o,s,h,u);break e}else if(v===N){o.tag=14,o=KI(null,o,s,h,u);break e}}throw o=de(s)||s,Error(r(306,o,""))}}return o;case 0:return o_(s,o,o.type,o.pendingProps,u);case 1:return h=o.type,v=Dl(h,o.pendingProps),ZI(s,o,h,v,u);case 3:e:{if(Mt(o,o.stateNode.containerInfo),s===null)throw Error(r(387));h=o.pendingProps;var b=o.memoizedState;v=b.element,kb(s,o),_f(o,h,null,u);var C=o.memoizedState;if(h=C.cache,eo(o,vn,h),h!==b.cache&&Ib(o,[vn],u,!0),bf(),h=C.element,b.isDehydrated)if(b={element:h,isDehydrated:!1,cache:C.cache},o.updateQueue.baseState=b,o.memoizedState=b,o.flags&256){o=JI(s,o,h,u);break e}else if(h!==v){v=mi(Error(r(424)),o),hf(v),o=JI(s,o,h,u);break e}else{switch(s=o.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Lt=bi(s.firstChild),tr=o,ot=!0,Zs=null,vi=!0,u=YC(o,null,h,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Sl(),h===v){o=Ja(s,o,u);break e}rr(s,o,h,u)}o=o.child}return o;case 26:return Yp(s,o),s===null?(u=m2(o.type,null,o.pendingProps,null))?o.memoizedState=u:ot||(u=o.type,s=o.pendingProps,h=dg(le.current).createElement(u),h[mn]=o,h[Fn]=s,ir(h,u,s),pn(h),o.stateNode=h):o.memoizedState=m2(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return Be(o),s===null&&ot&&(h=o.stateNode=d2(o.type,o.pendingProps,le.current),tr=o,vi=!0,v=Lt,mo(o.type)?(G_=v,Lt=bi(h.firstChild)):Lt=v),rr(s,o,o.pendingProps.children,u),Yp(s,o),s===null&&(o.flags|=4194304),o.child;case 5:return s===null&&ot&&((v=h=Lt)&&(h=w9(h,o.type,o.pendingProps,vi),h!==null?(o.stateNode=h,tr=o,Lt=bi(h.firstChild),vi=!1,v=!0):v=!1),v||Js(o)),Be(o),v=o.type,b=o.pendingProps,C=s!==null?s.memoizedProps:null,h=b.children,F_(v,b)?h=null:C!==null&&F_(v,C)&&(o.flags|=32),o.memoizedState!==null&&(v=Ub(s,o,VU,null,null,u),Bf._currentValue=v),Yp(s,o),rr(s,o,h,u),o.child;case 6:return s===null&&ot&&((s=u=Lt)&&(u=E9(u,o.pendingProps,vi),u!==null?(o.stateNode=u,tr=o,Lt=null,s=!0):s=!1),s||Js(o)),null;case 13:return eO(s,o,u);case 4:return Mt(o,o.stateNode.containerInfo),h=o.pendingProps,s===null?o.child=Pl(o,null,h,u):rr(s,o,h,u),o.child;case 11:return HI(s,o,o.type,o.pendingProps,u);case 7:return rr(s,o,o.pendingProps,u),o.child;case 8:return rr(s,o,o.pendingProps.children,u),o.child;case 12:return rr(s,o,o.pendingProps.children,u),o.child;case 10:return h=o.pendingProps,eo(o,o.type,h.value),rr(s,o,h.children,u),o.child;case 9:return v=o.type._context,h=o.pendingProps.children,Cl(o),v=nr(v),h=h(v),o.flags|=1,rr(s,o,h,u),o.child;case 14:return KI(s,o,o.type,o.pendingProps,u);case 15:return GI(s,o,o.type,o.pendingProps,u);case 19:return nO(s,o,u);case 31:return HU(s,o,u);case 22:return YI(s,o,u,o.pendingProps);case 24:return Cl(o),h=nr(vn),s===null?(v=Pb(),v===null&&(v=Rt,b=Ob(),v.pooledCache=b,b.refCount++,b!==null&&(v.pooledCacheLanes|=u),v=b),o.memoizedState={parent:h,cache:v},Db(o),eo(o,vn,v)):((s.lanes&u)!==0&&(kb(s,o),_f(o,null,null,u),bf()),v=s.memoizedState,b=o.memoizedState,v.parent!==h?(v={parent:h,cache:h},o.memoizedState=v,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=v),eo(o,vn,h)):(h=b.cache,eo(o,vn,h),h!==v.cache&&Ib(o,[vn],u,!0))),rr(s,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function es(s){s.flags|=4}function p_(s,o,u,h,v){if((o=(s.mode&32)!==0)&&(o=!1),o){if(s.flags|=16777216,(v&335544128)===v)if(s.stateNode.complete)s.flags|=8192;else if(NO())s.flags|=8192;else throw Nl=Dp,Rb}else s.flags&=-16777217}function iO(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!b2(o))if(NO())s.flags|=8192;else throw Nl=Dp,Rb}function Xp(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?np():536870912,s.lanes|=o,uu|=o)}function Af(s,o){if(!ot)switch(s.tailMode){case"hidden":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function zt(s){var o=s.alternate!==null&&s.alternate.child===s.child,u=0,h=0;if(o)for(var v=s.child;v!==null;)u|=v.lanes|v.childLanes,h|=v.subtreeFlags&65011712,h|=v.flags&65011712,v.return=s,v=v.sibling;else for(v=s.child;v!==null;)u|=v.lanes|v.childLanes,h|=v.subtreeFlags,h|=v.flags,v.return=s,v=v.sibling;return s.subtreeFlags|=h,s.childLanes=u,o}function GU(s,o,u){var h=o.pendingProps;switch(Eb(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(o),null;case 1:return zt(o),null;case 3:return u=o.stateNode,h=null,s!==null&&(h=s.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),Xa(vn),ae(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(s===null||s.child===null)&&(Qc(o)?es(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Sb())),zt(o),null;case 26:var v=o.type,b=o.memoizedState;return s===null?(es(o),b!==null?(zt(o),iO(o,b)):(zt(o),p_(o,v,null,h,u))):b?b!==s.memoizedState?(es(o),zt(o),iO(o,b)):(zt(o),o.flags&=-16777217):(s=s.memoizedProps,s!==h&&es(o),zt(o),p_(o,v,s,h,u)),null;case 27:if(We(o),u=le.current,v=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==h&&es(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return zt(o),null}s=be.current,Qc(o)?VC(o):(s=d2(v,h,u),o.stateNode=s,es(o))}return zt(o),null;case 5:if(We(o),v=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==h&&es(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return zt(o),null}if(b=be.current,Qc(o))VC(o);else{var C=dg(le.current);switch(b){case 1:b=C.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:b=C.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":b=C.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":b=C.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":b=C.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof h.is=="string"?C.createElement("select",{is:h.is}):C.createElement("select"),h.multiple?b.multiple=!0:h.size&&(b.size=h.size);break;default:b=typeof h.is=="string"?C.createElement(v,{is:h.is}):C.createElement(v)}}b[mn]=o,b[Fn]=h;e:for(C=o.child;C!==null;){if(C.tag===5||C.tag===6)b.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===o)break e;for(;C.sibling===null;){if(C.return===null||C.return===o)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}o.stateNode=b;e:switch(ir(b,v,h),v){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&es(o)}}return zt(o),p_(o,o.type,s===null?null:s.memoizedProps,o.pendingProps,u),null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==h&&es(o);else{if(typeof h!="string"&&o.stateNode===null)throw Error(r(166));if(s=le.current,Qc(o)){if(s=o.stateNode,u=o.memoizedProps,h=null,v=tr,v!==null)switch(v.tag){case 27:case 5:h=v.memoizedProps}s[mn]=o,s=!!(s.nodeValue===u||h!==null&&h.suppressHydrationWarning===!0||e2(s.nodeValue,u)),s||Js(o,!0)}else s=dg(s).createTextNode(h),s[mn]=o,o.stateNode=s}return zt(o),null;case 31:if(u=o.memoizedState,s===null||s.memoizedState!==null){if(h=Qc(o),u!==null){if(s===null){if(!h)throw Error(r(318));if(s=o.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[mn]=o}else Sl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;zt(o),s=!1}else u=Sb(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=u),s=!0;if(!s)return o.flags&256?(Yr(o),o):(Yr(o),null);if((o.flags&128)!==0)throw Error(r(558))}return zt(o),null;case 13:if(h=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(v=Qc(o),h!==null&&h.dehydrated!==null){if(s===null){if(!v)throw Error(r(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[mn]=o}else Sl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;zt(o),v=!1}else v=Sb(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=v),v=!0;if(!v)return o.flags&256?(Yr(o),o):(Yr(o),null)}return Yr(o),(o.flags&128)!==0?(o.lanes=u,o):(u=h!==null,s=s!==null&&s.memoizedState!==null,u&&(h=o.child,v=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(v=h.alternate.memoizedState.cachePool.pool),b=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(b=h.memoizedState.cachePool.pool),b!==v&&(h.flags|=2048)),u!==s&&u&&(o.child.flags|=8192),Xp(o,o.updateQueue),zt(o),null);case 4:return ae(),s===null&&V_(o.stateNode.containerInfo),zt(o),null;case 10:return Xa(o.type),zt(o),null;case 19:if(re(ln),h=o.memoizedState,h===null)return zt(o),null;if(v=(o.flags&128)!==0,b=h.rendering,b===null)if(v)Af(h,!1);else{if(en!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(b=Vp(s),b!==null){for(o.flags|=128,Af(h,!1),s=b.updateQueue,o.updateQueue=s,Xp(o,s),o.subtreeFlags=0,s=u,u=o.child;u!==null;)RC(u,s),u=u.sibling;return pe(ln,ln.current&1|2),ot&&Ya(o,h.treeForkCount),o.child}s=s.sibling}h.tail!==null&&vr()>tg&&(o.flags|=128,v=!0,Af(h,!1),o.lanes=4194304)}else{if(!v)if(s=Vp(b),s!==null){if(o.flags|=128,v=!0,s=s.updateQueue,o.updateQueue=s,Xp(o,s),Af(h,!0),h.tail===null&&h.tailMode==="hidden"&&!b.alternate&&!ot)return zt(o),null}else 2*vr()-h.renderingStartTime>tg&&u!==536870912&&(o.flags|=128,v=!0,Af(h,!1),o.lanes=4194304);h.isBackwards?(b.sibling=o.child,o.child=b):(s=h.last,s!==null?s.sibling=b:o.child=b,h.last=b)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=vr(),s.sibling=null,u=ln.current,pe(ln,v?u&1|2:u&1),ot&&Ya(o,h.treeForkCount),s):(zt(o),null);case 22:case 23:return Yr(o),Lb(),h=o.memoizedState!==null,s!==null?s.memoizedState!==null!==h&&(o.flags|=8192):h&&(o.flags|=8192),h?(u&536870912)!==0&&(o.flags&128)===0&&(zt(o),o.subtreeFlags&6&&(o.flags|=8192)):zt(o),u=o.updateQueue,u!==null&&Xp(o,u.retryQueue),u=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==u&&(o.flags|=2048),s!==null&&re(Il),null;case 24:return u=null,s!==null&&(u=s.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Xa(vn),zt(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function YU(s,o){switch(Eb(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Xa(vn),ae(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return We(o),null;case 31:if(o.memoizedState!==null){if(Yr(o),o.alternate===null)throw Error(r(340));Sl()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 13:if(Yr(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Sl()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return re(ln),null;case 4:return ae(),null;case 10:return Xa(o.type),null;case 22:case 23:return Yr(o),Lb(),s!==null&&re(Il),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return Xa(vn),null;case 25:return null;default:return null}}function aO(s,o){switch(Eb(o),o.tag){case 3:Xa(vn),ae();break;case 26:case 27:case 5:We(o);break;case 4:ae();break;case 31:o.memoizedState!==null&&Yr(o);break;case 13:Yr(o);break;case 19:re(ln);break;case 10:Xa(o.type);break;case 22:case 23:Yr(o),Lb(),s!==null&&re(Il);break;case 24:Xa(vn)}}function Cf(s,o){try{var u=o.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var v=h.next;u=v;do{if((u.tag&s)===s){h=void 0;var b=u.create,C=u.inst;h=b(),C.destroy=h}u=u.next}while(u!==v)}}catch(R){Et(o,o.return,R)}}function so(s,o,u){try{var h=o.updateQueue,v=h!==null?h.lastEffect:null;if(v!==null){var b=v.next;h=b;do{if((h.tag&s)===s){var C=h.inst,R=C.destroy;if(R!==void 0){C.destroy=void 0,v=o;var $=u,Z=R;try{Z()}catch(ie){Et(v,$,ie)}}}h=h.next}while(h!==b)}}catch(ie){Et(o,o.return,ie)}}function sO(s){var o=s.updateQueue;if(o!==null){var u=s.stateNode;try{XC(o,u)}catch(h){Et(s,s.return,h)}}}function oO(s,o,u){u.props=Dl(s.type,s.memoizedProps),u.state=s.memoizedState;try{u.componentWillUnmount()}catch(h){Et(s,o,h)}}function If(s,o){try{var u=s.ref;if(u!==null){switch(s.tag){case 26:case 27:case 5:var h=s.stateNode;break;case 30:h=s.stateNode;break;default:h=s.stateNode}typeof u=="function"?s.refCleanup=u(h):u.current=h}}catch(v){Et(s,o,v)}}function Ta(s,o){var u=s.ref,h=s.refCleanup;if(u!==null)if(typeof h=="function")try{h()}catch(v){Et(s,o,v)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){Et(s,o,v)}else u.current=null}function lO(s){var o=s.type,u=s.memoizedProps,h=s.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&h.focus();break e;case"img":u.src?h.src=u.src:u.srcSet&&(h.srcset=u.srcSet)}}catch(v){Et(s,s.return,v)}}function g_(s,o,u){try{var h=s.stateNode;g9(h,s.type,u,o),h[Fn]=o}catch(v){Et(s,s.return,v)}}function cO(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&mo(s.type)||s.tag===4}function v_(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||cO(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&mo(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function y_(s,o,u){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(s,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(s),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Li));else if(h!==4&&(h===27&&mo(s.type)&&(u=s.stateNode,o=null),s=s.child,s!==null))for(y_(s,o,u),s=s.sibling;s!==null;)y_(s,o,u),s=s.sibling}function Qp(s,o,u){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?u.insertBefore(s,o):u.appendChild(s);else if(h!==4&&(h===27&&mo(s.type)&&(u=s.stateNode),s=s.child,s!==null))for(Qp(s,o,u),s=s.sibling;s!==null;)Qp(s,o,u),s=s.sibling}function uO(s){var o=s.stateNode,u=s.memoizedProps;try{for(var h=s.type,v=o.attributes;v.length;)o.removeAttributeNode(v[0]);ir(o,h,u),o[mn]=s,o[Fn]=u}catch(b){Et(s,s.return,b)}}var ts=!1,_n=!1,b_=!1,dO=typeof WeakSet=="function"?WeakSet:Set,$n=null;function WU(s,o){if(s=s.containerInfo,B_=yg,s=EC(s),fb(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var v=h.anchorOffset,b=h.focusNode;h=h.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break e}var C=0,R=-1,$=-1,Z=0,ie=0,ce=s,ee=null;t:for(;;){for(var ne;ce!==u||v!==0&&ce.nodeType!==3||(R=C+v),ce!==b||h!==0&&ce.nodeType!==3||($=C+h),ce.nodeType===3&&(C+=ce.nodeValue.length),(ne=ce.firstChild)!==null;)ee=ce,ce=ne;for(;;){if(ce===s)break t;if(ee===u&&++Z===v&&(R=C),ee===b&&++ie===h&&($=C),(ne=ce.nextSibling)!==null)break;ce=ee,ee=ce.parentNode}ce=ne}u=R===-1||$===-1?null:{start:R,end:$}}else u=null}u=u||{start:0,end:0}}else u=null;for(U_={focusedElem:s,selectionRange:u},yg=!1,$n=o;$n!==null;)if(o=$n,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,$n=s;else for(;$n!==null;){switch(o=$n,b=o.alternate,s=o.flags,o.tag){case 0:if((s&4)!==0&&(s=o.updateQueue,s=s!==null?s.events:null,s!==null))for(u=0;u<s.length;u++)v=s[u],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&b!==null){s=void 0,u=o,v=b.memoizedProps,b=b.memoizedState,h=u.stateNode;try{var Ae=Dl(u.type,v);s=h.getSnapshotBeforeUpdate(Ae,b),h.__reactInternalSnapshotBeforeUpdate=s}catch(ze){Et(u,u.return,ze)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,u=s.nodeType,u===9)$_(s);else if(u===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":$_(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=o.sibling,s!==null){s.return=o.return,$n=s;break}$n=o.return}}function fO(s,o,u){var h=u.flags;switch(u.tag){case 0:case 11:case 15:rs(s,u),h&4&&Cf(5,u);break;case 1:if(rs(s,u),h&4)if(s=u.stateNode,o===null)try{s.componentDidMount()}catch(C){Et(u,u.return,C)}else{var v=Dl(u.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(v,o,s.__reactInternalSnapshotBeforeUpdate)}catch(C){Et(u,u.return,C)}}h&64&&sO(u),h&512&&If(u,u.return);break;case 3:if(rs(s,u),h&64&&(s=u.updateQueue,s!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{XC(s,o)}catch(C){Et(u,u.return,C)}}break;case 27:o===null&&h&4&&uO(u);case 26:case 5:rs(s,u),o===null&&h&4&&lO(u),h&512&&If(u,u.return);break;case 12:rs(s,u);break;case 31:rs(s,u),h&4&&pO(s,u);break;case 13:rs(s,u),h&4&&gO(s,u),h&64&&(s=u.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(u=i9.bind(null,u),T9(s,u))));break;case 22:if(h=u.memoizedState!==null||ts,!h){o=o!==null&&o.memoizedState!==null||_n,v=ts;var b=_n;ts=h,(_n=o)&&!b?is(s,u,(u.subtreeFlags&8772)!==0):rs(s,u),ts=v,_n=b}break;case 30:break;default:rs(s,u)}}function hO(s){var o=s.alternate;o!==null&&(s.alternate=null,hO(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&kc(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Ft=null,Pr=!1;function ns(s,o,u){for(u=u.child;u!==null;)mO(s,o,u),u=u.sibling}function mO(s,o,u){if(Jn&&typeof Jn.onCommitFiberUnmount=="function")try{Jn.onCommitFiberUnmount(ki,u)}catch{}switch(u.tag){case 26:_n||Ta(u,o),ns(s,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:_n||Ta(u,o);var h=Ft,v=Pr;mo(u.type)&&(Ft=u.stateNode,Pr=!1),ns(s,o,u),Vf(u.stateNode),Ft=h,Pr=v;break;case 5:_n||Ta(u,o);case 6:if(h=Ft,v=Pr,Ft=null,ns(s,o,u),Ft=h,Pr=v,Ft!==null)if(Pr)try{(Ft.nodeType===9?Ft.body:Ft.nodeName==="HTML"?Ft.ownerDocument.body:Ft).removeChild(u.stateNode)}catch(b){Et(u,o,b)}else try{Ft.removeChild(u.stateNode)}catch(b){Et(u,o,b)}break;case 18:Ft!==null&&(Pr?(s=Ft,s2(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,u.stateNode),yu(s)):s2(Ft,u.stateNode));break;case 4:h=Ft,v=Pr,Ft=u.stateNode.containerInfo,Pr=!0,ns(s,o,u),Ft=h,Pr=v;break;case 0:case 11:case 14:case 15:so(2,u,o),_n||so(4,u,o),ns(s,o,u);break;case 1:_n||(Ta(u,o),h=u.stateNode,typeof h.componentWillUnmount=="function"&&oO(u,o,h)),ns(s,o,u);break;case 21:ns(s,o,u);break;case 22:_n=(h=_n)||u.memoizedState!==null,ns(s,o,u),_n=h;break;default:ns(s,o,u)}}function pO(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{yu(s)}catch(u){Et(o,o.return,u)}}}function gO(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{yu(s)}catch(u){Et(o,o.return,u)}}function XU(s){switch(s.tag){case 31:case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new dO),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new dO),o;default:throw Error(r(435,s.tag))}}function Zp(s,o){var u=XU(s);o.forEach(function(h){if(!u.has(h)){u.add(h);var v=a9.bind(null,s,h);h.then(v,v)}})}function Rr(s,o){var u=o.deletions;if(u!==null)for(var h=0;h<u.length;h++){var v=u[h],b=s,C=o,R=C;e:for(;R!==null;){switch(R.tag){case 27:if(mo(R.type)){Ft=R.stateNode,Pr=!1;break e}break;case 5:Ft=R.stateNode,Pr=!1;break e;case 3:case 4:Ft=R.stateNode.containerInfo,Pr=!0;break e}R=R.return}if(Ft===null)throw Error(r(160));mO(b,C,v),Ft=null,Pr=!1,b=v.alternate,b!==null&&(b.return=null),v.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)vO(o,s),o=o.sibling}var $i=null;function vO(s,o){var u=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Rr(o,s),Dr(s),h&4&&(so(3,s,s.return),Cf(3,s),so(5,s,s.return));break;case 1:Rr(o,s),Dr(s),h&512&&(_n||u===null||Ta(u,u.return)),h&64&&ts&&(s=s.updateQueue,s!==null&&(h=s.callbacks,h!==null&&(u=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=u===null?h:u.concat(h))));break;case 26:var v=$i;if(Rr(o,s),Dr(s),h&512&&(_n||u===null||Ta(u,u.return)),h&4){var b=u!==null?u.memoizedState:null;if(h=s.memoizedState,u===null)if(h===null)if(s.stateNode===null){e:{h=s.type,u=s.memoizedProps,v=v.ownerDocument||v;t:switch(h){case"title":b=v.getElementsByTagName("title")[0],(!b||b[ua]||b[mn]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=v.createElement(h),v.head.insertBefore(b,v.querySelector("head > title"))),ir(b,h,u),b[mn]=s,pn(b),h=b;break e;case"link":var C=v2("link","href",v).get(h+(u.href||""));if(C){for(var R=0;R<C.length;R++)if(b=C[R],b.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&b.getAttribute("rel")===(u.rel==null?null:u.rel)&&b.getAttribute("title")===(u.title==null?null:u.title)&&b.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){C.splice(R,1);break t}}b=v.createElement(h),ir(b,h,u),v.head.appendChild(b);break;case"meta":if(C=v2("meta","content",v).get(h+(u.content||""))){for(R=0;R<C.length;R++)if(b=C[R],b.getAttribute("content")===(u.content==null?null:""+u.content)&&b.getAttribute("name")===(u.name==null?null:u.name)&&b.getAttribute("property")===(u.property==null?null:u.property)&&b.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&b.getAttribute("charset")===(u.charSet==null?null:u.charSet)){C.splice(R,1);break t}}b=v.createElement(h),ir(b,h,u),v.head.appendChild(b);break;default:throw Error(r(468,h))}b[mn]=s,pn(b),h=b}s.stateNode=h}else y2(v,s.type,s.stateNode);else s.stateNode=g2(v,h,s.memoizedProps);else b!==h?(b===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):b.count--,h===null?y2(v,s.type,s.stateNode):g2(v,h,s.memoizedProps)):h===null&&s.stateNode!==null&&g_(s,s.memoizedProps,u.memoizedProps)}break;case 27:Rr(o,s),Dr(s),h&512&&(_n||u===null||Ta(u,u.return)),u!==null&&h&4&&g_(s,s.memoizedProps,u.memoizedProps);break;case 5:if(Rr(o,s),Dr(s),h&512&&(_n||u===null||Ta(u,u.return)),s.flags&32){v=s.stateNode;try{Nr(v,"")}catch(Ae){Et(s,s.return,Ae)}}h&4&&s.stateNode!=null&&(v=s.memoizedProps,g_(s,v,u!==null?u.memoizedProps:v)),h&1024&&(b_=!0);break;case 6:if(Rr(o,s),Dr(s),h&4){if(s.stateNode===null)throw Error(r(162));h=s.memoizedProps,u=s.stateNode;try{u.nodeValue=h}catch(Ae){Et(s,s.return,Ae)}}break;case 3:if(mg=null,v=$i,$i=fg(o.containerInfo),Rr(o,s),$i=v,Dr(s),h&4&&u!==null&&u.memoizedState.isDehydrated)try{yu(o.containerInfo)}catch(Ae){Et(s,s.return,Ae)}b_&&(b_=!1,yO(s));break;case 4:h=$i,$i=fg(s.stateNode.containerInfo),Rr(o,s),Dr(s),$i=h;break;case 12:Rr(o,s),Dr(s);break;case 31:Rr(o,s),Dr(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,Zp(s,h)));break;case 13:Rr(o,s),Dr(s),s.child.flags&8192&&s.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(eg=vr()),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,Zp(s,h)));break;case 22:v=s.memoizedState!==null;var $=u!==null&&u.memoizedState!==null,Z=ts,ie=_n;if(ts=Z||v,_n=ie||$,Rr(o,s),_n=ie,ts=Z,Dr(s),h&8192)e:for(o=s.stateNode,o._visibility=v?o._visibility&-2:o._visibility|1,v&&(u===null||$||ts||_n||kl(s)),u=null,o=s;;){if(o.tag===5||o.tag===26){if(u===null){$=u=o;try{if(b=$.stateNode,v)C=b.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{R=$.stateNode;var ce=$.memoizedProps.style,ee=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;R.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(Ae){Et($,$.return,Ae)}}}else if(o.tag===6){if(u===null){$=o;try{$.stateNode.nodeValue=v?"":$.memoizedProps}catch(Ae){Et($,$.return,Ae)}}}else if(o.tag===18){if(u===null){$=o;try{var ne=$.stateNode;v?o2(ne,!0):o2($.stateNode,!1)}catch(Ae){Et($,$.return,Ae)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}h&4&&(h=s.updateQueue,h!==null&&(u=h.retryQueue,u!==null&&(h.retryQueue=null,Zp(s,u))));break;case 19:Rr(o,s),Dr(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,Zp(s,h)));break;case 30:break;case 21:break;default:Rr(o,s),Dr(s)}}function Dr(s){var o=s.flags;if(o&2){try{for(var u,h=s.return;h!==null;){if(cO(h)){u=h;break}h=h.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var v=u.stateNode,b=v_(s);Qp(s,b,v);break;case 5:var C=u.stateNode;u.flags&32&&(Nr(C,""),u.flags&=-33);var R=v_(s);Qp(s,R,C);break;case 3:case 4:var $=u.stateNode.containerInfo,Z=v_(s);y_(s,Z,$);break;default:throw Error(r(161))}}catch(ie){Et(s,s.return,ie)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function yO(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;yO(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function rs(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)fO(s,o.alternate,o),o=o.sibling}function kl(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:so(4,o,o.return),kl(o);break;case 1:Ta(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&oO(o,o.return,u),kl(o);break;case 27:Vf(o.stateNode);case 26:case 5:Ta(o,o.return),kl(o);break;case 22:o.memoizedState===null&&kl(o);break;case 30:kl(o);break;default:kl(o)}s=s.sibling}}function is(s,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var h=o.alternate,v=s,b=o,C=b.flags;switch(b.tag){case 0:case 11:case 15:is(v,b,u),Cf(4,b);break;case 1:if(is(v,b,u),h=b,v=h.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(Z){Et(h,h.return,Z)}if(h=b,v=h.updateQueue,v!==null){var R=h.stateNode;try{var $=v.shared.hiddenCallbacks;if($!==null)for(v.shared.hiddenCallbacks=null,v=0;v<$.length;v++)WC($[v],R)}catch(Z){Et(h,h.return,Z)}}u&&C&64&&sO(b),If(b,b.return);break;case 27:uO(b);case 26:case 5:is(v,b,u),u&&h===null&&C&4&&lO(b),If(b,b.return);break;case 12:is(v,b,u);break;case 31:is(v,b,u),u&&C&4&&pO(v,b);break;case 13:is(v,b,u),u&&C&4&&gO(v,b);break;case 22:b.memoizedState===null&&is(v,b,u),If(b,b.return);break;case 30:break;default:is(v,b,u)}o=o.sibling}}function __(s,o){var u=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==u&&(s!=null&&s.refCount++,u!=null&&mf(u))}function x_(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&mf(s))}function Hi(s,o,u,h){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)bO(s,o,u,h),o=o.sibling}function bO(s,o,u,h){var v=o.flags;switch(o.tag){case 0:case 11:case 15:Hi(s,o,u,h),v&2048&&Cf(9,o);break;case 1:Hi(s,o,u,h);break;case 3:Hi(s,o,u,h),v&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&mf(s)));break;case 12:if(v&2048){Hi(s,o,u,h),s=o.stateNode;try{var b=o.memoizedProps,C=b.id,R=b.onPostCommit;typeof R=="function"&&R(C,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch($){Et(o,o.return,$)}}else Hi(s,o,u,h);break;case 31:Hi(s,o,u,h);break;case 13:Hi(s,o,u,h);break;case 23:break;case 22:b=o.stateNode,C=o.alternate,o.memoizedState!==null?b._visibility&2?Hi(s,o,u,h):Of(s,o):b._visibility&2?Hi(s,o,u,h):(b._visibility|=2,ou(s,o,u,h,(o.subtreeFlags&10256)!==0||!1)),v&2048&&__(C,o);break;case 24:Hi(s,o,u,h),v&2048&&x_(o.alternate,o);break;default:Hi(s,o,u,h)}}function ou(s,o,u,h,v){for(v=v&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var b=s,C=o,R=u,$=h,Z=C.flags;switch(C.tag){case 0:case 11:case 15:ou(b,C,R,$,v),Cf(8,C);break;case 23:break;case 22:var ie=C.stateNode;C.memoizedState!==null?ie._visibility&2?ou(b,C,R,$,v):Of(b,C):(ie._visibility|=2,ou(b,C,R,$,v)),v&&Z&2048&&__(C.alternate,C);break;case 24:ou(b,C,R,$,v),v&&Z&2048&&x_(C.alternate,C);break;default:ou(b,C,R,$,v)}o=o.sibling}}function Of(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=s,h=o,v=h.flags;switch(h.tag){case 22:Of(u,h),v&2048&&__(h.alternate,h);break;case 24:Of(u,h),v&2048&&x_(h.alternate,h);break;default:Of(u,h)}o=o.sibling}}var Nf=8192;function lu(s,o,u){if(s.subtreeFlags&Nf)for(s=s.child;s!==null;)_O(s,o,u),s=s.sibling}function _O(s,o,u){switch(s.tag){case 26:lu(s,o,u),s.flags&Nf&&s.memoizedState!==null&&j9(u,$i,s.memoizedState,s.memoizedProps);break;case 5:lu(s,o,u);break;case 3:case 4:var h=$i;$i=fg(s.stateNode.containerInfo),lu(s,o,u),$i=h;break;case 22:s.memoizedState===null&&(h=s.alternate,h!==null&&h.memoizedState!==null?(h=Nf,Nf=16777216,lu(s,o,u),Nf=h):lu(s,o,u));break;default:lu(s,o,u)}}function xO(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function Pf(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];$n=h,EO(h,s)}xO(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)wO(s),s=s.sibling}function wO(s){switch(s.tag){case 0:case 11:case 15:Pf(s),s.flags&2048&&so(9,s,s.return);break;case 3:Pf(s);break;case 12:Pf(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&2&&(s.return===null||s.return.tag!==13)?(o._visibility&=-3,Jp(s)):Pf(s);break;default:Pf(s)}}function Jp(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];$n=h,EO(h,s)}xO(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:so(8,o,o.return),Jp(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,Jp(o));break;default:Jp(o)}s=s.sibling}}function EO(s,o){for(;$n!==null;){var u=$n;switch(u.tag){case 0:case 11:case 15:so(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var h=u.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:mf(u.memoizedState.cache)}if(h=u.child,h!==null)h.return=u,$n=h;else e:for(u=s;$n!==null;){h=$n;var v=h.sibling,b=h.return;if(hO(h),h===u){$n=null;break e}if(v!==null){v.return=b,$n=v;break e}$n=b}}}var QU={getCacheForType:function(s){var o=nr(vn),u=o.data.get(s);return u===void 0&&(u=s(),o.data.set(s,u)),u},cacheSignal:function(){return nr(vn).controller.signal}},ZU=typeof WeakMap=="function"?WeakMap:Map,vt=0,Rt=null,nt=null,it=0,wt=0,Wr=null,oo=!1,cu=!1,w_=!1,as=0,en=0,lo=0,Ml=0,E_=0,Xr=0,uu=0,Rf=null,kr=null,T_=!1,eg=0,TO=0,tg=1/0,ng=null,co=null,Dn=0,uo=null,du=null,ss=0,S_=0,A_=null,SO=null,Df=0,C_=null;function Qr(){return(vt&2)!==0&&it!==0?it&-it:W.T!==null?D_():rp()}function AO(){if(Xr===0)if((it&536870912)===0||ot){var s=ll;ll<<=1,(ll&3932160)===0&&(ll=262144),Xr=s}else Xr=536870912;return s=Gr.current,s!==null&&(s.flags|=32),Xr}function Mr(s,o,u){(s===Rt&&(wt===2||wt===9)||s.cancelPendingCommit!==null)&&(fu(s,0),fo(s,it,Xr,!1)),cl(s,u),((vt&2)===0||s!==Rt)&&(s===Rt&&((vt&2)===0&&(Ml|=u),en===4&&fo(s,it,Xr,!1)),Sa(s))}function CO(s,o,u){if((vt&6)!==0)throw Error(r(327));var h=!u&&(o&127)===0&&(o&s.expiredLanes)===0||Mi(s,o),v=h?t9(s,o):O_(s,o,!0),b=h;do{if(v===0){cu&&!h&&fo(s,o,0,!1);break}else{if(u=s.current.alternate,b&&!JU(u)){v=O_(s,o,!1),b=!1;continue}if(v===2){if(b=o,s.errorRecoveryDisabledLanes&b)var C=0;else C=s.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){o=C;e:{var R=s;v=Rf;var $=R.current.memoizedState.isDehydrated;if($&&(fu(R,C).flags|=256),C=O_(R,C,!1),C!==2){if(w_&&!$){R.errorRecoveryDisabledLanes|=b,Ml|=b,v=4;break e}b=kr,kr=v,b!==null&&(kr===null?kr=b:kr.push.apply(kr,b))}v=C}if(b=!1,v!==2)continue}}if(v===1){fu(s,0),fo(s,o,0,!0);break}e:{switch(h=s,b=v,b){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:fo(h,o,Xr,!oo);break e;case 2:kr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(v=eg+300-vr(),10<v)){if(fo(h,o,Xr,!oo),oa(h,0,!0)!==0)break e;ss=o,h.timeoutHandle=i2(IO.bind(null,h,u,kr,ng,T_,o,Xr,Ml,uu,oo,b,"Throttled",-0,0),v);break e}IO(h,u,kr,ng,T_,o,Xr,Ml,uu,oo,b,null,-0,0)}}break}while(!0);Sa(s)}function IO(s,o,u,h,v,b,C,R,$,Z,ie,ce,ee,ne){if(s.timeoutHandle=-1,ce=o.subtreeFlags,ce&8192||(ce&16785408)===16785408){ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Li},_O(o,b,ce);var Ae=(b&62914560)===b?eg-vr():(b&4194048)===b?TO-vr():0;if(Ae=V9(ce,Ae),Ae!==null){ss=b,s.cancelPendingCommit=Ae(jO.bind(null,s,o,b,u,h,v,C,R,$,ie,ce,null,ee,ne)),fo(s,b,C,!Z);return}}jO(s,o,b,u,h,v,C,R,$)}function JU(s){for(var o=s;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var h=0;h<u.length;h++){var v=u[h],b=v.getSnapshot;v=v.value;try{if(!Hr(b(),v))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function fo(s,o,u,h){o&=~E_,o&=~Ml,s.suspendedLanes|=o,s.pingedLanes&=~o,h&&(s.warmLanes|=o),h=s.expirationTimes;for(var v=o;0<v;){var b=31-sn(v),C=1<<b;h[b]=-1,v&=~C}u!==0&&ul(s,u,o)}function rg(){return(vt&6)===0?(kf(0),!1):!0}function I_(){if(nt!==null){if(wt===0)var s=nt.return;else s=nt,Wa=Al=null,$b(s),nu=null,gf=0,s=nt;for(;s!==null;)aO(s.alternate,s),s=s.return;nt=null}}function fu(s,o){var u=s.timeoutHandle;u!==-1&&(s.timeoutHandle=-1,b9(u)),u=s.cancelPendingCommit,u!==null&&(s.cancelPendingCommit=null,u()),ss=0,I_(),Rt=s,nt=u=Ga(s.current,null),it=o,wt=0,Wr=null,oo=!1,cu=Mi(s,o),w_=!1,uu=Xr=E_=Ml=lo=en=0,kr=Rf=null,T_=!1,(o&8)!==0&&(o|=o&32);var h=s.entangledLanes;if(h!==0)for(s=s.entanglements,h&=o;0<h;){var v=31-sn(h),b=1<<v;o|=s[v],h&=~b}return as=o,Tp(),u}function OO(s,o){Qe=null,W.H=Tf,o===tu||o===Rp?(o=HC(),wt=3):o===Rb?(o=HC(),wt=4):wt=o===s_?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Wr=o,nt===null&&(en=1,Kp(s,mi(o,s.current)))}function NO(){var s=Gr.current;return s===null?!0:(it&4194048)===it?yi===null:(it&62914560)===it||(it&536870912)!==0?s===yi:!1}function PO(){var s=W.H;return W.H=Tf,s===null?Tf:s}function RO(){var s=W.A;return W.A=QU,s}function ig(){en=4,oo||(it&4194048)!==it&&Gr.current!==null||(cu=!0),(lo&134217727)===0&&(Ml&134217727)===0||Rt===null||fo(Rt,it,Xr,!1)}function O_(s,o,u){var h=vt;vt|=2;var v=PO(),b=RO();(Rt!==s||it!==o)&&(ng=null,fu(s,o)),o=!1;var C=en;e:do try{if(wt!==0&&nt!==null){var R=nt,$=Wr;switch(wt){case 8:I_(),C=6;break e;case 3:case 2:case 9:case 6:Gr.current===null&&(o=!0);var Z=wt;if(wt=0,Wr=null,hu(s,R,$,Z),u&&cu){C=0;break e}break;default:Z=wt,wt=0,Wr=null,hu(s,R,$,Z)}}e9(),C=en;break}catch(ie){OO(s,ie)}while(!0);return o&&s.shellSuspendCounter++,Wa=Al=null,vt=h,W.H=v,W.A=b,nt===null&&(Rt=null,it=0,Tp()),C}function e9(){for(;nt!==null;)DO(nt)}function t9(s,o){var u=vt;vt|=2;var h=PO(),v=RO();Rt!==s||it!==o?(ng=null,tg=vr()+500,fu(s,o)):cu=Mi(s,o);e:do try{if(wt!==0&&nt!==null){o=nt;var b=Wr;t:switch(wt){case 1:wt=0,Wr=null,hu(s,o,b,1);break;case 2:case 9:if(qC(b)){wt=0,Wr=null,kO(o);break}o=function(){wt!==2&&wt!==9||Rt!==s||(wt=7),Sa(s)},b.then(o,o);break e;case 3:wt=7;break e;case 4:wt=5;break e;case 7:qC(b)?(wt=0,Wr=null,kO(o)):(wt=0,Wr=null,hu(s,o,b,7));break;case 5:var C=null;switch(nt.tag){case 26:C=nt.memoizedState;case 5:case 27:var R=nt;if(C?b2(C):R.stateNode.complete){wt=0,Wr=null;var $=R.sibling;if($!==null)nt=$;else{var Z=R.return;Z!==null?(nt=Z,ag(Z)):nt=null}break t}}wt=0,Wr=null,hu(s,o,b,5);break;case 6:wt=0,Wr=null,hu(s,o,b,6);break;case 8:I_(),en=6;break e;default:throw Error(r(462))}}n9();break}catch(ie){OO(s,ie)}while(!0);return Wa=Al=null,W.H=h,W.A=v,vt=u,nt!==null?0:(Rt=null,it=0,Tp(),en)}function n9(){for(;nt!==null&&!ab();)DO(nt)}function DO(s){var o=rO(s.alternate,s,as);s.memoizedProps=s.pendingProps,o===null?ag(s):nt=o}function kO(s){var o=s,u=o.alternate;switch(o.tag){case 15:case 0:o=QI(u,o,o.pendingProps,o.type,void 0,it);break;case 11:o=QI(u,o,o.pendingProps,o.type.render,o.ref,it);break;case 5:$b(o);default:aO(u,o),o=nt=RC(o,as),o=rO(u,o,as)}s.memoizedProps=s.pendingProps,o===null?ag(s):nt=o}function hu(s,o,u,h){Wa=Al=null,$b(o),nu=null,gf=0;var v=o.return;try{if($U(s,v,o,u,it)){en=1,Kp(s,mi(u,s.current)),nt=null;return}}catch(b){if(v!==null)throw nt=v,b;en=1,Kp(s,mi(u,s.current)),nt=null;return}o.flags&32768?(ot||h===1?s=!0:cu||(it&536870912)!==0?s=!1:(oo=s=!0,(h===2||h===9||h===3||h===6)&&(h=Gr.current,h!==null&&h.tag===13&&(h.flags|=16384))),MO(o,s)):ag(o)}function ag(s){var o=s;do{if((o.flags&32768)!==0){MO(o,oo);return}s=o.return;var u=GU(o.alternate,o,as);if(u!==null){nt=u;return}if(o=o.sibling,o!==null){nt=o;return}nt=o=s}while(o!==null);en===0&&(en=5)}function MO(s,o){do{var u=YU(s.alternate,s);if(u!==null){u.flags&=32767,nt=u;return}if(u=s.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(s=s.sibling,s!==null)){nt=s;return}nt=s=u}while(s!==null);en=6,nt=null}function jO(s,o,u,h,v,b,C,R,$){s.cancelPendingCommit=null;do sg();while(Dn!==0);if((vt&6)!==0)throw Error(r(327));if(o!==null){if(o===s.current)throw Error(r(177));if(b=o.lanes|o.childLanes,b|=vb,lb(s,u,b,C,R,$),s===Rt&&(nt=Rt=null,it=0),du=o,uo=s,ss=u,S_=b,A_=v,SO=h,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,s9(Us,function(){return UO(),null})):(s.callbackNode=null,s.callbackPriority=0),h=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||h){h=W.T,W.T=null,v=se.p,se.p=2,C=vt,vt|=4;try{WU(s,o,u)}finally{vt=C,se.p=v,W.T=h}}Dn=1,VO(),LO(),zO()}}function VO(){if(Dn===1){Dn=0;var s=uo,o=du,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=W.T,W.T=null;var h=se.p;se.p=2;var v=vt;vt|=4;try{vO(o,s);var b=U_,C=EC(s.containerInfo),R=b.focusedElem,$=b.selectionRange;if(C!==R&&R&&R.ownerDocument&&wC(R.ownerDocument.documentElement,R)){if($!==null&&fb(R)){var Z=$.start,ie=$.end;if(ie===void 0&&(ie=Z),"selectionStart"in R)R.selectionStart=Z,R.selectionEnd=Math.min(ie,R.value.length);else{var ce=R.ownerDocument||document,ee=ce&&ce.defaultView||window;if(ee.getSelection){var ne=ee.getSelection(),Ae=R.textContent.length,ze=Math.min($.start,Ae),Ot=$.end===void 0?ze:Math.min($.end,Ae);!ne.extend&&ze>Ot&&(C=Ot,Ot=ze,ze=C);var G=xC(R,ze),K=xC(R,Ot);if(G&&K&&(ne.rangeCount!==1||ne.anchorNode!==G.node||ne.anchorOffset!==G.offset||ne.focusNode!==K.node||ne.focusOffset!==K.offset)){var Q=ce.createRange();Q.setStart(G.node,G.offset),ne.removeAllRanges(),ze>Ot?(ne.addRange(Q),ne.extend(K.node,K.offset)):(Q.setEnd(K.node,K.offset),ne.addRange(Q))}}}}for(ce=[],ne=R;ne=ne.parentNode;)ne.nodeType===1&&ce.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<ce.length;R++){var oe=ce[R];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}yg=!!B_,U_=B_=null}finally{vt=v,se.p=h,W.T=u}}s.current=o,Dn=2}}function LO(){if(Dn===2){Dn=0;var s=uo,o=du,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=W.T,W.T=null;var h=se.p;se.p=2;var v=vt;vt|=4;try{fO(s,o.alternate,o)}finally{vt=v,se.p=h,W.T=u}}Dn=3}}function zO(){if(Dn===4||Dn===3){Dn=0,Xm();var s=uo,o=du,u=ss,h=SO;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Dn=5:(Dn=0,du=uo=null,BO(s,s.pendingLanes));var v=s.pendingLanes;if(v===0&&(co=null),qa(u),o=o.stateNode,Jn&&typeof Jn.onCommitFiberRoot=="function")try{Jn.onCommitFiberRoot(ki,o,void 0,(o.current.flags&128)===128)}catch{}if(h!==null){o=W.T,v=se.p,se.p=2,W.T=null;try{for(var b=s.onRecoverableError,C=0;C<h.length;C++){var R=h[C];b(R.value,{componentStack:R.stack})}}finally{W.T=o,se.p=v}}(ss&3)!==0&&sg(),Sa(s),v=s.pendingLanes,(u&261930)!==0&&(v&42)!==0?s===C_?Df++:(Df=0,C_=s):Df=0,kf(0)}}function BO(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,mf(o)))}function sg(){return VO(),LO(),zO(),UO()}function UO(){if(Dn!==5)return!1;var s=uo,o=S_;S_=0;var u=qa(ss),h=W.T,v=se.p;try{se.p=32>u?32:u,W.T=null,u=A_,A_=null;var b=uo,C=ss;if(Dn=0,du=uo=null,ss=0,(vt&6)!==0)throw Error(r(331));var R=vt;if(vt|=4,wO(b.current),bO(b,b.current,C,u),vt=R,kf(0,!1),Jn&&typeof Jn.onPostCommitFiberRoot=="function")try{Jn.onPostCommitFiberRoot(ki,b)}catch{}return!0}finally{se.p=v,W.T=h,BO(s,o)}}function FO(s,o,u){o=mi(u,o),o=a_(s.stateNode,o,2),s=ro(s,o,2),s!==null&&(cl(s,2),Sa(s))}function Et(s,o,u){if(s.tag===3)FO(s,s,u);else for(;o!==null;){if(o.tag===3){FO(o,s,u);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(co===null||!co.has(h))){s=mi(u,s),u=qI(2),h=ro(o,u,2),h!==null&&($I(u,h,o,s),cl(h,2),Sa(h));break}}o=o.return}}function N_(s,o,u){var h=s.pingCache;if(h===null){h=s.pingCache=new ZU;var v=new Set;h.set(o,v)}else v=h.get(o),v===void 0&&(v=new Set,h.set(o,v));v.has(u)||(w_=!0,v.add(u),s=r9.bind(null,s,o,u),o.then(s,s))}function r9(s,o,u){var h=s.pingCache;h!==null&&h.delete(o),s.pingedLanes|=s.suspendedLanes&u,s.warmLanes&=~u,Rt===s&&(it&u)===u&&(en===4||en===3&&(it&62914560)===it&&300>vr()-eg?(vt&2)===0&&fu(s,0):E_|=u,uu===it&&(uu=0)),Sa(s)}function qO(s,o){o===0&&(o=np()),s=El(s,o),s!==null&&(cl(s,o),Sa(s))}function i9(s){var o=s.memoizedState,u=0;o!==null&&(u=o.retryLane),qO(s,u)}function a9(s,o){var u=0;switch(s.tag){case 31:case 13:var h=s.stateNode,v=s.memoizedState;v!==null&&(u=v.retryLane);break;case 19:h=s.stateNode;break;case 22:h=s.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(o),qO(s,u)}function s9(s,o){return Rn(s,o)}var og=null,mu=null,P_=!1,lg=!1,R_=!1,ho=0;function Sa(s){s!==mu&&s.next===null&&(mu===null?og=mu=s:mu=mu.next=s),lg=!0,P_||(P_=!0,l9())}function kf(s,o){if(!R_&&lg){R_=!0;do for(var u=!1,h=og;h!==null;){if(s!==0){var v=h.pendingLanes;if(v===0)var b=0;else{var C=h.suspendedLanes,R=h.pingedLanes;b=(1<<31-sn(42|s)+1)-1,b&=v&~(C&~R),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(u=!0,GO(h,b))}else b=it,b=oa(h,h===Rt?b:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(b&3)===0||Mi(h,b)||(u=!0,GO(h,b));h=h.next}while(u);R_=!1}}function o9(){$O()}function $O(){lg=P_=!1;var s=0;ho!==0&&y9()&&(s=ho);for(var o=vr(),u=null,h=og;h!==null;){var v=h.next,b=HO(h,o);b===0?(h.next=null,u===null?og=v:u.next=v,v===null&&(mu=u)):(u=h,(s!==0||(b&3)!==0)&&(lg=!0)),h=v}Dn!==0&&Dn!==5||kf(s),ho!==0&&(ho=0)}function HO(s,o){for(var u=s.suspendedLanes,h=s.pingedLanes,v=s.expirationTimes,b=s.pendingLanes&-62914561;0<b;){var C=31-sn(b),R=1<<C,$=v[C];$===-1?((R&u)===0||(R&h)!==0)&&(v[C]=ob(R,o)):$<=o&&(s.expiredLanes|=R),b&=~R}if(o=Rt,u=it,u=oa(s,s===o?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h=s.callbackNode,u===0||s===o&&(wt===2||wt===9)||s.cancelPendingCommit!==null)return h!==null&&h!==null&&Bs(h),s.callbackNode=null,s.callbackPriority=0;if((u&3)===0||Mi(s,u)){if(o=u&-u,o===s.callbackPriority)return o;switch(h!==null&&Bs(h),qa(u)){case 2:case 8:u=qd;break;case 32:u=Us;break;case 268435456:u=Qm;break;default:u=Us}return h=KO.bind(null,s),u=Rn(u,h),s.callbackPriority=o,s.callbackNode=u,o}return h!==null&&h!==null&&Bs(h),s.callbackPriority=2,s.callbackNode=null,2}function KO(s,o){if(Dn!==0&&Dn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var u=s.callbackNode;if(sg()&&s.callbackNode!==u)return null;var h=it;return h=oa(s,s===Rt?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h===0?null:(CO(s,h,o),HO(s,vr()),s.callbackNode!=null&&s.callbackNode===u?KO.bind(null,s):null)}function GO(s,o){if(sg())return null;CO(s,o,!0)}function l9(){_9(function(){(vt&6)!==0?Rn(Fd,o9):$O()})}function D_(){if(ho===0){var s=Jc;s===0&&(s=aa,aa<<=1,(aa&261888)===0&&(aa=256)),ho=s}return ho}function YO(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Lc(""+s)}function WO(s,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,s.id&&u.setAttribute("form",s.id),o.parentNode.insertBefore(u,o),s=new FormData(s),u.parentNode.removeChild(u),s}function c9(s,o,u,h,v){if(o==="submit"&&u&&u.stateNode===v){var b=YO((v[Fn]||null).action),C=h.submitter;C&&(o=(o=C[Fn]||null)?YO(o.formAction):C.getAttribute("formAction"),o!==null&&(b=o,C=null));var R=new ya("action","action",null,h,v);s.push({event:R,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(ho!==0){var $=C?WO(v,C):new FormData(v);Jb(u,{pending:!0,data:$,method:v.method,action:b},null,$)}}else typeof b=="function"&&(R.preventDefault(),$=C?WO(v,C):new FormData(v),Jb(u,{pending:!0,data:$,method:v.method,action:b},b,$))},currentTarget:v}]})}}for(var k_=0;k_<gb.length;k_++){var M_=gb[k_],u9=M_.toLowerCase(),d9=M_[0].toUpperCase()+M_.slice(1);qi(u9,"on"+d9)}qi(AC,"onAnimationEnd"),qi(CC,"onAnimationIteration"),qi(IC,"onAnimationStart"),qi("dblclick","onDoubleClick"),qi("focusin","onFocus"),qi("focusout","onBlur"),qi(CU,"onTransitionRun"),qi(IU,"onTransitionStart"),qi(OU,"onTransitionCancel"),qi(OC,"onTransitionEnd"),ma("onMouseEnter",["mouseout","mouseover"]),ma("onMouseLeave",["mouseout","mouseover"]),ma("onPointerEnter",["pointerout","pointerover"]),ma("onPointerLeave",["pointerout","pointerover"]),ha("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ha("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ha("onBeforeInput",["compositionend","keypress","textInput","paste"]),ha("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ha("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ha("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),f9=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Mf));function XO(s,o){o=(o&4)!==0;for(var u=0;u<s.length;u++){var h=s[u],v=h.event;h=h.listeners;e:{var b=void 0;if(o)for(var C=h.length-1;0<=C;C--){var R=h[C],$=R.instance,Z=R.currentTarget;if(R=R.listener,$!==b&&v.isPropagationStopped())break e;b=R,v.currentTarget=Z;try{b(v)}catch(ie){Ep(ie)}v.currentTarget=null,b=$}else for(C=0;C<h.length;C++){if(R=h[C],$=R.instance,Z=R.currentTarget,R=R.listener,$!==b&&v.isPropagationStopped())break e;b=R,v.currentTarget=Z;try{b(v)}catch(ie){Ep(ie)}v.currentTarget=null,b=$}}}}function rt(s,o){var u=o[Dc];u===void 0&&(u=o[Dc]=new Set);var h=s+"__bubble";u.has(h)||(QO(o,s,2,!1),u.add(h))}function j_(s,o,u){var h=0;o&&(h|=4),QO(u,s,h,o)}var cg="_reactListening"+Math.random().toString(36).slice(2);function V_(s){if(!s[cg]){s[cg]=!0,Kd.forEach(function(u){u!=="selectionchange"&&(f9.has(u)||j_(u,!1,s),j_(u,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[cg]||(o[cg]=!0,j_("selectionchange",!1,o))}}function QO(s,o,u,h){switch(A2(o)){case 2:var v=B9;break;case 8:v=U9;break;default:v=Z_}u=v.bind(null,o,u,s),v=void 0,!pl||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),h?v!==void 0?s.addEventListener(o,u,{capture:!0,passive:v}):s.addEventListener(o,u,!0):v!==void 0?s.addEventListener(o,u,{passive:v}):s.addEventListener(o,u,!1)}function L_(s,o,u,h,v){var b=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var C=h.tag;if(C===3||C===4){var R=h.stateNode.containerInfo;if(R===v)break;if(C===4)for(C=h.return;C!==null;){var $=C.tag;if(($===3||$===4)&&C.stateNode.containerInfo===v)return;C=C.return}for(;R!==null;){if(C=da(R),C===null)return;if($=C.tag,$===5||$===6||$===26||$===27){h=b=C;continue e}R=R.parentNode}}h=h.return}Gs(function(){var Z=b,ie=ui(u),ce=[];e:{var ee=NC.get(s);if(ee!==void 0){var ne=ya,Ae=s;switch(s){case"keypress":if(vl(u)===0)break e;case"keydown":case"keyup":ne=_p;break;case"focusin":Ae="focus",ne=bl;break;case"focusout":Ae="blur",ne=bl;break;case"beforeblur":case"afterblur":ne=bl;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=sf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=dp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=T;break;case AC:case CC:case IC:ne=hp;break;case OC:ne=V;break;case"scroll":case"scrollend":ne=af;break;case"wheel":ne=te;break;case"copy":case"cut":case"paste":ne=mp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=Ka;break;case"toggle":case"beforetoggle":ne=Xe}var ze=(o&4)!==0,Ot=!ze&&(s==="scroll"||s==="scrollend"),G=ze?ee!==null?ee+"Capture":null:ee;ze=[];for(var K=Z,Q;K!==null;){var oe=K;if(Q=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||Q===null||G===null||(oe=zi(K,G),oe!=null&&ze.push(jf(K,oe,Q))),Ot)break;K=K.return}0<ze.length&&(ee=new ne(ee,Ae,null,u,ie),ce.push({event:ee,listeners:ze}))}}if((o&7)===0){e:{if(ee=s==="mouseover"||s==="pointerover",ne=s==="mouseout"||s==="pointerout",ee&&u!==tf&&(Ae=u.relatedTarget||u.fromElement)&&(da(Ae)||Ae[ca]))break e;if((ne||ee)&&(ee=ie.window===ie?ie:(ee=ie.ownerDocument)?ee.defaultView||ee.parentWindow:window,ne?(Ae=u.relatedTarget||u.toElement,ne=Z,Ae=Ae?da(Ae):null,Ae!==null&&(Ot=a(Ae),ze=Ae.tag,Ae!==Ot||ze!==5&&ze!==27&&ze!==6)&&(Ae=null)):(ne=null,Ae=Z),ne!==Ae)){if(ze=sf,oe="onMouseLeave",G="onMouseEnter",K="mouse",(s==="pointerout"||s==="pointerover")&&(ze=Ka,oe="onPointerLeave",G="onPointerEnter",K="pointer"),Ot=ne==null?ee:qr(ne),Q=Ae==null?ee:qr(Ae),ee=new ze(oe,K+"leave",ne,u,ie),ee.target=Ot,ee.relatedTarget=Q,oe=null,da(ie)===Z&&(ze=new ze(G,K+"enter",Ae,u,ie),ze.target=Q,ze.relatedTarget=Ot,oe=ze),Ot=oe,ne&&Ae)t:{for(ze=h9,G=ne,K=Ae,Q=0,oe=G;oe;oe=ze(oe))Q++;oe=0;for(var Ve=K;Ve;Ve=ze(Ve))oe++;for(;0<Q-oe;)G=ze(G),Q--;for(;0<oe-Q;)K=ze(K),oe--;for(;Q--;){if(G===K||K!==null&&G===K.alternate){ze=G;break t}G=ze(G),K=ze(K)}ze=null}else ze=null;ne!==null&&ZO(ce,ee,ne,ze,!1),Ae!==null&&Ot!==null&&ZO(ce,Ot,Ae,ze,!0)}}e:{if(ee=Z?qr(Z):window,ne=ee.nodeName&&ee.nodeName.toLowerCase(),ne==="select"||ne==="input"&&ee.type==="file")var ft=pC;else if(hC(ee))if(gC)ft=TU;else{ft=wU;var Re=xU}else ne=ee.nodeName,!ne||ne.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?Z&&Vc(Z.elementType)&&(ft=pC):ft=EU;if(ft&&(ft=ft(s,Z))){mC(ce,ft,u,ie);break e}Re&&Re(s,ee,Z),s==="focusout"&&Z&&ee.type==="number"&&Z.memoizedProps.value!=null&&Zd(ee,"number",ee.value)}switch(Re=Z?qr(Z):window,s){case"focusin":(hC(Re)||Re.contentEditable==="true")&&(Hc=Re,hb=Z,df=null);break;case"focusout":df=hb=Hc=null;break;case"mousedown":mb=!0;break;case"contextmenu":case"mouseup":case"dragend":mb=!1,TC(ce,u,ie);break;case"selectionchange":if(AU)break;case"keydown":case"keyup":TC(ce,u,ie)}var Ze;if(gt)e:{switch(s){case"compositionstart":var at="onCompositionStart";break e;case"compositionend":at="onCompositionEnd";break e;case"compositionupdate":at="onCompositionUpdate";break e}at=void 0}else $c?_l(s,u)&&(at="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(at="onCompositionStart");at&&(xa&&u.locale!=="ko"&&($c||at!=="onCompositionStart"?at==="onCompositionEnd"&&$c&&(Ze=rf()):(va=ie,nf="value"in va?va.value:va.textContent,$c=!0)),Re=ug(Z,at),0<Re.length&&(at=new _a(at,s,null,u,ie),ce.push({event:at,listeners:Re}),Ze?at.data=Ze:(Ze=qc(u),Ze!==null&&(at.data=Ze)))),(Ze=fi?vU(s,u):yU(s,u))&&(at=ug(Z,"onBeforeInput"),0<at.length&&(Re=new _a("onBeforeInput","beforeinput",null,u,ie),ce.push({event:Re,listeners:at}),Re.data=Ze)),c9(ce,s,Z,u,ie)}XO(ce,o)})}function jf(s,o,u){return{instance:s,listener:o,currentTarget:u}}function ug(s,o){for(var u=o+"Capture",h=[];s!==null;){var v=s,b=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||b===null||(v=zi(s,u),v!=null&&h.unshift(jf(s,v,b)),v=zi(s,o),v!=null&&h.push(jf(s,v,b))),s.tag===3)return h;s=s.return}return[]}function h9(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function ZO(s,o,u,h,v){for(var b=o._reactName,C=[];u!==null&&u!==h;){var R=u,$=R.alternate,Z=R.stateNode;if(R=R.tag,$!==null&&$===h)break;R!==5&&R!==26&&R!==27||Z===null||($=Z,v?(Z=zi(u,b),Z!=null&&C.unshift(jf(u,Z,$))):v||(Z=zi(u,b),Z!=null&&C.push(jf(u,Z,$)))),u=u.return}C.length!==0&&s.push({event:o,listeners:C})}var m9=/\r\n?/g,p9=/\u0000|\uFFFD/g;function JO(s){return(typeof s=="string"?s:""+s).replace(m9,`
`).replace(p9,"")}function e2(s,o){return o=JO(o),JO(s)===o}function It(s,o,u,h,v,b){switch(u){case"children":typeof h=="string"?o==="body"||o==="textarea"&&h===""||Nr(s,h):(typeof h=="number"||typeof h=="bigint")&&o!=="body"&&Nr(s,""+h);break;case"className":$r(s,"class",h);break;case"tabIndex":$r(s,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":$r(s,u,h);break;case"style":ef(s,h,b);break;case"data":if(o!=="object"){$r(s,"data",h);break}case"src":case"href":if(h===""&&(o!=="a"||u!=="href")){s.removeAttribute(u);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(u);break}h=Lc(""+h),s.setAttribute(u,h);break;case"action":case"formAction":if(typeof h=="function"){s.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(u==="formAction"?(o!=="input"&&It(s,o,"name",v.name,v,null),It(s,o,"formEncType",v.formEncType,v,null),It(s,o,"formMethod",v.formMethod,v,null),It(s,o,"formTarget",v.formTarget,v,null)):(It(s,o,"encType",v.encType,v,null),It(s,o,"method",v.method,v,null),It(s,o,"target",v.target,v,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(u);break}h=Lc(""+h),s.setAttribute(u,h);break;case"onClick":h!=null&&(s.onclick=Li);break;case"onScroll":h!=null&&rt("scroll",s);break;case"onScrollEnd":h!=null&&rt("scrollend",s);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(v.children!=null)throw Error(r(60));s.innerHTML=u}}break;case"multiple":s.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":s.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){s.removeAttribute("xlink:href");break}u=Lc(""+h),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(u,""+h):s.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(u,""):s.removeAttribute(u);break;case"capture":case"download":h===!0?s.setAttribute(u,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(u,h):s.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?s.setAttribute(u,h):s.removeAttribute(u);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?s.removeAttribute(u):s.setAttribute(u,h);break;case"popover":rt("beforetoggle",s),rt("toggle",s),Mc(s,"popover",h);break;case"xlinkActuate":gn(s,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":gn(s,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":gn(s,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":gn(s,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":gn(s,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":gn(s,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":gn(s,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":gn(s,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":gn(s,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Mc(s,"is",h);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=up.get(u)||u,Mc(s,u,h))}}function z_(s,o,u,h,v,b){switch(u){case"style":ef(s,h,b);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(v.children!=null)throw Error(r(60));s.innerHTML=u}}break;case"children":typeof h=="string"?Nr(s,h):(typeof h=="number"||typeof h=="bigint")&&Nr(s,""+h);break;case"onScroll":h!=null&&rt("scroll",s);break;case"onScrollEnd":h!=null&&rt("scrollend",s);break;case"onClick":h!=null&&(s.onclick=Li);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gd.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),o=u.slice(2,v?u.length-7:void 0),b=s[Fn]||null,b=b!=null?b[u]:null,typeof b=="function"&&s.removeEventListener(o,b,v),typeof h=="function")){typeof b!="function"&&b!==null&&(u in s?s[u]=null:s.hasAttribute(u)&&s.removeAttribute(u)),s.addEventListener(o,h,v);break e}u in s?s[u]=h:h===!0?s.setAttribute(u,""):Mc(s,u,h)}}}function ir(s,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":rt("error",s),rt("load",s);var h=!1,v=!1,b;for(b in u)if(u.hasOwnProperty(b)){var C=u[b];if(C!=null)switch(b){case"src":h=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:It(s,o,b,C,u,null)}}v&&It(s,o,"srcSet",u.srcSet,u,null),h&&It(s,o,"src",u.src,u,null);return;case"input":rt("invalid",s);var R=b=C=v=null,$=null,Z=null;for(h in u)if(u.hasOwnProperty(h)){var ie=u[h];if(ie!=null)switch(h){case"name":v=ie;break;case"type":C=ie;break;case"checked":$=ie;break;case"defaultChecked":Z=ie;break;case"value":b=ie;break;case"defaultValue":R=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,o));break;default:It(s,o,h,ie,u,null)}}op(s,b,R,$,Z,C,v,!1);return;case"select":rt("invalid",s),h=C=b=null;for(v in u)if(u.hasOwnProperty(v)&&(R=u[v],R!=null))switch(v){case"value":b=R;break;case"defaultValue":C=R;break;case"multiple":h=R;default:It(s,o,v,R,u,null)}o=b,u=C,s.multiple=!!h,o!=null?qs(s,!!h,o,!1):u!=null&&qs(s,!!h,u,!0);return;case"textarea":rt("invalid",s),b=v=h=null;for(C in u)if(u.hasOwnProperty(C)&&(R=u[C],R!=null))switch(C){case"value":h=R;break;case"defaultValue":v=R;break;case"children":b=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(91));break;default:It(s,o,C,R,u,null)}$s(s,h,v,b);return;case"option":for($ in u)if(u.hasOwnProperty($)&&(h=u[$],h!=null))switch($){case"selected":s.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:It(s,o,$,h,u,null)}return;case"dialog":rt("beforetoggle",s),rt("toggle",s),rt("cancel",s),rt("close",s);break;case"iframe":case"object":rt("load",s);break;case"video":case"audio":for(h=0;h<Mf.length;h++)rt(Mf[h],s);break;case"image":rt("error",s),rt("load",s);break;case"details":rt("toggle",s);break;case"embed":case"source":case"link":rt("error",s),rt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in u)if(u.hasOwnProperty(Z)&&(h=u[Z],h!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:It(s,o,Z,h,u,null)}return;default:if(Vc(o)){for(ie in u)u.hasOwnProperty(ie)&&(h=u[ie],h!==void 0&&z_(s,o,ie,h,u,void 0));return}}for(R in u)u.hasOwnProperty(R)&&(h=u[R],h!=null&&It(s,o,R,h,u,null))}function g9(s,o,u,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,b=null,C=null,R=null,$=null,Z=null,ie=null;for(ne in u){var ce=u[ne];if(u.hasOwnProperty(ne)&&ce!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":$=ce;default:h.hasOwnProperty(ne)||It(s,o,ne,null,h,ce)}}for(var ee in h){var ne=h[ee];if(ce=u[ee],h.hasOwnProperty(ee)&&(ne!=null||ce!=null))switch(ee){case"type":b=ne;break;case"name":v=ne;break;case"checked":Z=ne;break;case"defaultChecked":ie=ne;break;case"value":C=ne;break;case"defaultValue":R=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,o));break;default:ne!==ce&&It(s,o,ee,ne,h,ce)}}jc(s,C,R,$,Z,ie,b,v);return;case"select":ne=C=R=ee=null;for(b in u)if($=u[b],u.hasOwnProperty(b)&&$!=null)switch(b){case"value":break;case"multiple":ne=$;default:h.hasOwnProperty(b)||It(s,o,b,null,h,$)}for(v in h)if(b=h[v],$=u[v],h.hasOwnProperty(v)&&(b!=null||$!=null))switch(v){case"value":ee=b;break;case"defaultValue":R=b;break;case"multiple":C=b;default:b!==$&&It(s,o,v,b,h,$)}o=R,u=C,h=ne,ee!=null?qs(s,!!u,ee,!1):!!h!=!!u&&(o!=null?qs(s,!!u,o,!0):qs(s,!!u,u?[]:"",!1));return;case"textarea":ne=ee=null;for(R in u)if(v=u[R],u.hasOwnProperty(R)&&v!=null&&!h.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:It(s,o,R,null,h,v)}for(C in h)if(v=h[C],b=u[C],h.hasOwnProperty(C)&&(v!=null||b!=null))switch(C){case"value":ee=v;break;case"defaultValue":ne=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==b&&It(s,o,C,v,h,b)}lp(s,ee,ne);return;case"option":for(var Ae in u)if(ee=u[Ae],u.hasOwnProperty(Ae)&&ee!=null&&!h.hasOwnProperty(Ae))switch(Ae){case"selected":s.selected=!1;break;default:It(s,o,Ae,null,h,ee)}for($ in h)if(ee=h[$],ne=u[$],h.hasOwnProperty($)&&ee!==ne&&(ee!=null||ne!=null))switch($){case"selected":s.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:It(s,o,$,ee,h,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ze in u)ee=u[ze],u.hasOwnProperty(ze)&&ee!=null&&!h.hasOwnProperty(ze)&&It(s,o,ze,null,h,ee);for(Z in h)if(ee=h[Z],ne=u[Z],h.hasOwnProperty(Z)&&ee!==ne&&(ee!=null||ne!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,o));break;default:It(s,o,Z,ee,h,ne)}return;default:if(Vc(o)){for(var Ot in u)ee=u[Ot],u.hasOwnProperty(Ot)&&ee!==void 0&&!h.hasOwnProperty(Ot)&&z_(s,o,Ot,void 0,h,ee);for(ie in h)ee=h[ie],ne=u[ie],!h.hasOwnProperty(ie)||ee===ne||ee===void 0&&ne===void 0||z_(s,o,ie,ee,h,ne);return}}for(var G in u)ee=u[G],u.hasOwnProperty(G)&&ee!=null&&!h.hasOwnProperty(G)&&It(s,o,G,null,h,ee);for(ce in h)ee=h[ce],ne=u[ce],!h.hasOwnProperty(ce)||ee===ne||ee==null&&ne==null||It(s,o,ce,ee,h,ne)}function t2(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function v9(){if(typeof performance.getEntriesByType=="function"){for(var s=0,o=0,u=performance.getEntriesByType("resource"),h=0;h<u.length;h++){var v=u[h],b=v.transferSize,C=v.initiatorType,R=v.duration;if(b&&R&&t2(C)){for(C=0,R=v.responseEnd,h+=1;h<u.length;h++){var $=u[h],Z=$.startTime;if(Z>R)break;var ie=$.transferSize,ce=$.initiatorType;ie&&t2(ce)&&($=$.responseEnd,C+=ie*($<R?1:(R-Z)/($-Z)))}if(--h,o+=8*(b+C)/(v.duration/1e3),s++,10<s)break}}if(0<s)return o/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var B_=null,U_=null;function dg(s){return s.nodeType===9?s:s.ownerDocument}function n2(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function r2(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function F_(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var q_=null;function y9(){var s=window.event;return s&&s.type==="popstate"?s===q_?!1:(q_=s,!0):(q_=null,!1)}var i2=typeof setTimeout=="function"?setTimeout:void 0,b9=typeof clearTimeout=="function"?clearTimeout:void 0,a2=typeof Promise=="function"?Promise:void 0,_9=typeof queueMicrotask=="function"?queueMicrotask:typeof a2<"u"?function(s){return a2.resolve(null).then(s).catch(x9)}:i2;function x9(s){setTimeout(function(){throw s})}function mo(s){return s==="head"}function s2(s,o){var u=o,h=0;do{var v=u.nextSibling;if(s.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"||u==="/&"){if(h===0){s.removeChild(v),yu(o);return}h--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")h++;else if(u==="html")Vf(s.ownerDocument.documentElement);else if(u==="head"){u=s.ownerDocument.head,Vf(u);for(var b=u.firstChild;b;){var C=b.nextSibling,R=b.nodeName;b[ua]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&b.rel.toLowerCase()==="stylesheet"||u.removeChild(b),b=C}}else u==="body"&&Vf(s.ownerDocument.body);u=v}while(u);yu(o)}function o2(s,o){var u=s;s=0;do{var h=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),h&&h.nodeType===8)if(u=h.data,u==="/$"){if(s===0)break;s--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||s++;u=h}while(u)}function $_(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":$_(u),kc(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}s.removeChild(u)}}function w9(s,o,u,h){for(;s.nodeType===1;){var v=u;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!h&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(h){if(!s[ua])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(b=s.getAttribute("rel"),b==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(b!==v.rel||s.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||s.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||s.getAttribute("title")!==(v.title==null?null:v.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(b=s.getAttribute("src"),(b!==(v.src==null?null:v.src)||s.getAttribute("type")!==(v.type==null?null:v.type)||s.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&b&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var b=v.name==null?null:""+v.name;if(v.type==="hidden"&&s.getAttribute("name")===b)return s}else return s;if(s=bi(s.nextSibling),s===null)break}return null}function E9(s,o,u){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!u||(s=bi(s.nextSibling),s===null))return null;return s}function l2(s,o){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=bi(s.nextSibling),s===null))return null;return s}function H_(s){return s.data==="$?"||s.data==="$~"}function K_(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function T9(s,o){var u=s.ownerDocument;if(s.data==="$~")s._reactRetry=o;else if(s.data!=="$?"||u.readyState!=="loading")o();else{var h=function(){o(),u.removeEventListener("DOMContentLoaded",h)};u.addEventListener("DOMContentLoaded",h),s._reactRetry=h}}function bi(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return s}var G_=null;function c2(s){s=s.nextSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"||u==="/&"){if(o===0)return bi(s.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}s=s.nextSibling}return null}function u2(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return s;o--}else u!=="/$"&&u!=="/&"||o++}s=s.previousSibling}return null}function d2(s,o,u){switch(o=dg(u),s){case"html":if(s=o.documentElement,!s)throw Error(r(452));return s;case"head":if(s=o.head,!s)throw Error(r(453));return s;case"body":if(s=o.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Vf(s){for(var o=s.attributes;o.length;)s.removeAttributeNode(o[0]);kc(s)}var _i=new Map,f2=new Set;function fg(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var os=se.d;se.d={f:S9,r:A9,D:C9,C:I9,L:O9,m:N9,X:R9,S:P9,M:D9};function S9(){var s=os.f(),o=rg();return s||o}function A9(s){var o=ci(s);o!==null&&o.tag===5&&o.type==="form"?OI(o):os.r(s)}var pu=typeof document>"u"?null:document;function h2(s,o,u){var h=pu;if(h&&typeof o=="string"&&o){var v=Or(o);v='link[rel="'+s+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),f2.has(v)||(f2.add(v),s={rel:s,crossOrigin:u,href:o},h.querySelector(v)===null&&(o=h.createElement("link"),ir(o,"link",s),pn(o),h.head.appendChild(o)))}}function C9(s){os.D(s),h2("dns-prefetch",s,null)}function I9(s,o){os.C(s,o),h2("preconnect",s,o)}function O9(s,o,u){os.L(s,o,u);var h=pu;if(h&&s&&o){var v='link[rel="preload"][as="'+Or(o)+'"]';o==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+Or(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+Or(u.imageSizes)+'"]')):v+='[href="'+Or(s)+'"]';var b=v;switch(o){case"style":b=gu(s);break;case"script":b=vu(s)}_i.has(b)||(s=p({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:s,as:o},u),_i.set(b,s),h.querySelector(v)!==null||o==="style"&&h.querySelector(Lf(b))||o==="script"&&h.querySelector(zf(b))||(o=h.createElement("link"),ir(o,"link",s),pn(o),h.head.appendChild(o)))}}function N9(s,o){os.m(s,o);var u=pu;if(u&&s){var h=o&&typeof o.as=="string"?o.as:"script",v='link[rel="modulepreload"][as="'+Or(h)+'"][href="'+Or(s)+'"]',b=v;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=vu(s)}if(!_i.has(b)&&(s=p({rel:"modulepreload",href:s},o),_i.set(b,s),u.querySelector(v)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(zf(b)))return}h=u.createElement("link"),ir(h,"link",s),pn(h),u.head.appendChild(h)}}}function P9(s,o,u){os.S(s,o,u);var h=pu;if(h&&s){var v=fa(h).hoistableStyles,b=gu(s);o=o||"default";var C=v.get(b);if(!C){var R={loading:0,preload:null};if(C=h.querySelector(Lf(b)))R.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":o},u),(u=_i.get(b))&&Y_(s,u);var $=C=h.createElement("link");pn($),ir($,"link",s),$._p=new Promise(function(Z,ie){$.onload=Z,$.onerror=ie}),$.addEventListener("load",function(){R.loading|=1}),$.addEventListener("error",function(){R.loading|=2}),R.loading|=4,hg(C,o,h)}C={type:"stylesheet",instance:C,count:1,state:R},v.set(b,C)}}}function R9(s,o){os.X(s,o);var u=pu;if(u&&s){var h=fa(u).hoistableScripts,v=vu(s),b=h.get(v);b||(b=u.querySelector(zf(v)),b||(s=p({src:s,async:!0},o),(o=_i.get(v))&&W_(s,o),b=u.createElement("script"),pn(b),ir(b,"link",s),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},h.set(v,b))}}function D9(s,o){os.M(s,o);var u=pu;if(u&&s){var h=fa(u).hoistableScripts,v=vu(s),b=h.get(v);b||(b=u.querySelector(zf(v)),b||(s=p({src:s,async:!0,type:"module"},o),(o=_i.get(v))&&W_(s,o),b=u.createElement("script"),pn(b),ir(b,"link",s),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},h.set(v,b))}}function m2(s,o,u,h){var v=(v=le.current)?fg(v):null;if(!v)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=gu(u.href),u=fa(v).hoistableStyles,h=u.get(o),h||(h={type:"style",instance:null,count:0,state:null},u.set(o,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){s=gu(u.href);var b=fa(v).hoistableStyles,C=b.get(s);if(C||(v=v.ownerDocument||v,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(s,C),(b=v.querySelector(Lf(s)))&&!b._p&&(C.instance=b,C.state.loading=5),_i.has(s)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},_i.set(s,u),b||k9(v,s,u,C.state))),o&&h===null)throw Error(r(528,""));return C}if(o&&h!==null)throw Error(r(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=vu(u),u=fa(v).hoistableScripts,h=u.get(o),h||(h={type:"script",instance:null,count:0,state:null},u.set(o,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function gu(s){return'href="'+Or(s)+'"'}function Lf(s){return'link[rel="stylesheet"]['+s+"]"}function p2(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function k9(s,o,u,h){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?h.loading=1:(o=s.createElement("link"),h.preload=o,o.addEventListener("load",function(){return h.loading|=1}),o.addEventListener("error",function(){return h.loading|=2}),ir(o,"link",u),pn(o),s.head.appendChild(o))}function vu(s){return'[src="'+Or(s)+'"]'}function zf(s){return"script[async]"+s}function g2(s,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var h=s.querySelector('style[data-href~="'+Or(u.href)+'"]');if(h)return o.instance=h,pn(h),h;var v=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return h=(s.ownerDocument||s).createElement("style"),pn(h),ir(h,"style",v),hg(h,u.precedence,s),o.instance=h;case"stylesheet":v=gu(u.href);var b=s.querySelector(Lf(v));if(b)return o.state.loading|=4,o.instance=b,pn(b),b;h=p2(u),(v=_i.get(v))&&Y_(h,v),b=(s.ownerDocument||s).createElement("link"),pn(b);var C=b;return C._p=new Promise(function(R,$){C.onload=R,C.onerror=$}),ir(b,"link",h),o.state.loading|=4,hg(b,u.precedence,s),o.instance=b;case"script":return b=vu(u.src),(v=s.querySelector(zf(b)))?(o.instance=v,pn(v),v):(h=u,(v=_i.get(b))&&(h=p({},u),W_(h,v)),s=s.ownerDocument||s,v=s.createElement("script"),pn(v),ir(v,"link",h),s.head.appendChild(v),o.instance=v);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(h=o.instance,o.state.loading|=4,hg(h,u.precedence,s));return o.instance}function hg(s,o,u){for(var h=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=h.length?h[h.length-1]:null,b=v,C=0;C<h.length;C++){var R=h[C];if(R.dataset.precedence===o)b=R;else if(b!==v)break}b?b.parentNode.insertBefore(s,b.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(s,o.firstChild))}function Y_(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function W_(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var mg=null;function v2(s,o,u){if(mg===null){var h=new Map,v=mg=new Map;v.set(u,h)}else v=mg,h=v.get(u),h||(h=new Map,v.set(u,h));if(h.has(s))return h;for(h.set(s,null),u=u.getElementsByTagName(s),v=0;v<u.length;v++){var b=u[v];if(!(b[ua]||b[mn]||s==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var C=b.getAttribute(o)||"";C=s+C;var R=h.get(C);R?R.push(b):h.set(C,[b])}}return h}function y2(s,o,u){s=s.ownerDocument||s,s.head.insertBefore(u,o==="title"?s.querySelector("head > title"):null)}function M9(s,o,u){if(u===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return s=o.disabled,typeof o.precedence=="string"&&s==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function b2(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function j9(s,o,u,h){if(u.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var v=gu(h.href),b=o.querySelector(Lf(v));if(b){o=b._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(s.count++,s=pg.bind(s),o.then(s,s)),u.state.loading|=4,u.instance=b,pn(b);return}b=o.ownerDocument||o,h=p2(h),(v=_i.get(v))&&Y_(h,v),b=b.createElement("link"),pn(b);var C=b;C._p=new Promise(function(R,$){C.onload=R,C.onerror=$}),ir(b,"link",h),u.instance=b}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(s.count++,u=pg.bind(s),o.addEventListener("load",u),o.addEventListener("error",u))}}var X_=0;function V9(s,o){return s.stylesheets&&s.count===0&&vg(s,s.stylesheets),0<s.count||0<s.imgCount?function(u){var h=setTimeout(function(){if(s.stylesheets&&vg(s,s.stylesheets),s.unsuspend){var b=s.unsuspend;s.unsuspend=null,b()}},6e4+o);0<s.imgBytes&&X_===0&&(X_=62500*v9());var v=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&vg(s,s.stylesheets),s.unsuspend)){var b=s.unsuspend;s.unsuspend=null,b()}},(s.imgBytes>X_?50:800)+o);return s.unsuspend=u,function(){s.unsuspend=null,clearTimeout(h),clearTimeout(v)}}:null}function pg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vg(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var gg=null;function vg(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,gg=new Map,o.forEach(L9,s),gg=null,pg.call(s))}function L9(s,o){if(!(o.state.loading&4)){var u=gg.get(s);if(u)var h=u.get(null);else{u=new Map,gg.set(s,u);for(var v=s.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<v.length;b++){var C=v[b];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(u.set(C.dataset.precedence,C),h=C)}h&&u.set(null,h)}v=o.instance,C=v.getAttribute("data-precedence"),b=u.get(C)||h,b===h&&u.set(null,v),u.set(C,v),this.count++,h=pg.bind(this),v.addEventListener("load",h),v.addEventListener("error",h),b?b.parentNode.insertBefore(v,b.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(v,s.firstChild)),o.state.loading|=4}}var Bf={$$typeof:j,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function z9(s,o,u,h,v,b,C,R,$){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=la(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=la(0),this.hiddenUpdates=la(null),this.identifierPrefix=h,this.onUncaughtError=v,this.onCaughtError=b,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=$,this.incompleteTransitions=new Map}function _2(s,o,u,h,v,b,C,R,$,Z,ie,ce){return s=new z9(s,o,u,C,$,Z,ie,ce,R),o=1,b===!0&&(o|=24),b=Kr(3,null,null,o),s.current=b,b.stateNode=s,o=Ob(),o.refCount++,s.pooledCache=o,o.refCount++,b.memoizedState={element:h,isDehydrated:u,cache:o},Db(b),s}function x2(s){return s?(s=Yc,s):Yc}function w2(s,o,u,h,v,b){v=x2(v),h.context===null?h.context=v:h.pendingContext=v,h=no(o),h.payload={element:u},b=b===void 0?null:b,b!==null&&(h.callback=b),u=ro(s,h,o),u!==null&&(Mr(u,s,o),yf(u,s,o))}function E2(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<o?u:o}}function Q_(s,o){E2(s,o),(s=s.alternate)&&E2(s,o)}function T2(s){if(s.tag===13||s.tag===31){var o=El(s,67108864);o!==null&&Mr(o,s,67108864),Q_(s,67108864)}}function S2(s){if(s.tag===13||s.tag===31){var o=Qr();o=dl(o);var u=El(s,o);u!==null&&Mr(u,s,o),Q_(s,o)}}var yg=!0;function B9(s,o,u,h){var v=W.T;W.T=null;var b=se.p;try{se.p=2,Z_(s,o,u,h)}finally{se.p=b,W.T=v}}function U9(s,o,u,h){var v=W.T;W.T=null;var b=se.p;try{se.p=8,Z_(s,o,u,h)}finally{se.p=b,W.T=v}}function Z_(s,o,u,h){if(yg){var v=J_(h);if(v===null)L_(s,o,h,bg,u),C2(s,h);else if(q9(v,s,o,u,h))h.stopPropagation();else if(C2(s,h),o&4&&-1<F9.indexOf(s)){for(;v!==null;){var b=ci(v);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var C=sa(b.pendingLanes);if(C!==0){var R=b;for(R.pendingLanes|=2,R.entangledLanes|=2;C;){var $=1<<31-sn(C);R.entanglements[1]|=$,C&=~$}Sa(b),(vt&6)===0&&(tg=vr()+500,kf(0))}}break;case 31:case 13:R=El(b,2),R!==null&&Mr(R,b,2),rg(),Q_(b,2)}if(b=J_(h),b===null&&L_(s,o,h,bg,u),b===v)break;v=b}v!==null&&h.stopPropagation()}else L_(s,o,h,null,u)}}function J_(s){return s=ui(s),ex(s)}var bg=null;function ex(s){if(bg=null,s=da(s),s!==null){var o=a(s);if(o===null)s=null;else{var u=o.tag;if(u===13){if(s=l(o),s!==null)return s;s=null}else if(u===31){if(s=c(o),s!==null)return s;s=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return bg=s,null}function A2(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ol()){case Fd:return 2;case qd:return 8;case Us:case sb:return 32;case Qm:return 268435456;default:return 32}default:return 32}}var tx=!1,po=null,go=null,vo=null,Uf=new Map,Ff=new Map,yo=[],F9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function C2(s,o){switch(s){case"focusin":case"focusout":po=null;break;case"dragenter":case"dragleave":go=null;break;case"mouseover":case"mouseout":vo=null;break;case"pointerover":case"pointerout":Uf.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ff.delete(o.pointerId)}}function qf(s,o,u,h,v,b){return s===null||s.nativeEvent!==b?(s={blockedOn:o,domEventName:u,eventSystemFlags:h,nativeEvent:b,targetContainers:[v]},o!==null&&(o=ci(o),o!==null&&T2(o)),s):(s.eventSystemFlags|=h,o=s.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),s)}function q9(s,o,u,h,v){switch(o){case"focusin":return po=qf(po,s,o,u,h,v),!0;case"dragenter":return go=qf(go,s,o,u,h,v),!0;case"mouseover":return vo=qf(vo,s,o,u,h,v),!0;case"pointerover":var b=v.pointerId;return Uf.set(b,qf(Uf.get(b)||null,s,o,u,h,v)),!0;case"gotpointercapture":return b=v.pointerId,Ff.set(b,qf(Ff.get(b)||null,s,o,u,h,v)),!0}return!1}function I2(s){var o=da(s.target);if(o!==null){var u=a(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){s.blockedOn=o,ji(s.priority,function(){S2(u)});return}}else if(o===31){if(o=c(u),o!==null){s.blockedOn=o,ji(s.priority,function(){S2(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function _g(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var u=J_(s.nativeEvent);if(u===null){u=s.nativeEvent;var h=new u.constructor(u.type,u);tf=h,u.target.dispatchEvent(h),tf=null}else return o=ci(u),o!==null&&T2(o),s.blockedOn=u,!1;o.shift()}return!0}function O2(s,o,u){_g(s)&&u.delete(o)}function $9(){tx=!1,po!==null&&_g(po)&&(po=null),go!==null&&_g(go)&&(go=null),vo!==null&&_g(vo)&&(vo=null),Uf.forEach(O2),Ff.forEach(O2)}function xg(s,o){s.blockedOn===o&&(s.blockedOn=null,tx||(tx=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,$9)))}var wg=null;function N2(s){wg!==s&&(wg=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){wg===s&&(wg=null);for(var o=0;o<s.length;o+=3){var u=s[o],h=s[o+1],v=s[o+2];if(typeof h!="function"){if(ex(h||u)===null)continue;break}var b=ci(u);b!==null&&(s.splice(o,3),o-=3,Jb(b,{pending:!0,data:v,method:u.method,action:h},h,v))}}))}function yu(s){function o($){return xg($,s)}po!==null&&xg(po,s),go!==null&&xg(go,s),vo!==null&&xg(vo,s),Uf.forEach(o),Ff.forEach(o);for(var u=0;u<yo.length;u++){var h=yo[u];h.blockedOn===s&&(h.blockedOn=null)}for(;0<yo.length&&(u=yo[0],u.blockedOn===null);)I2(u),u.blockedOn===null&&yo.shift();if(u=(s.ownerDocument||s).$$reactFormReplay,u!=null)for(h=0;h<u.length;h+=3){var v=u[h],b=u[h+1],C=v[Fn]||null;if(typeof b=="function")C||N2(u);else if(C){var R=null;if(b&&b.hasAttribute("formAction")){if(v=b,C=b[Fn]||null)R=C.formAction;else if(ex(v)!==null)continue}else R=C.action;typeof R=="function"?u[h+1]=R:(u.splice(h,3),h-=3),N2(u)}}}function P2(){function s(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(C){return v=C})},focusReset:"manual",scroll:"manual"})}function o(){v!==null&&(v(),v=null),h||setTimeout(u,20)}function u(){if(!h&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,v=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){h=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),v!==null&&(v(),v=null)}}}function nx(s){this._internalRoot=s}Eg.prototype.render=nx.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(r(409));var u=o.current,h=Qr();w2(u,h,s,o,null,null)},Eg.prototype.unmount=nx.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;w2(s.current,2,null,s,null,null),rg(),o[ca]=null}};function Eg(s){this._internalRoot=s}Eg.prototype.unstable_scheduleHydration=function(s){if(s){var o=rp();s={blockedOn:null,target:s,priority:o};for(var u=0;u<yo.length&&o!==0&&o<yo[u].priority;u++);yo.splice(u,0,s),u===0&&I2(s)}};var R2=e.version;if(R2!=="19.2.1")throw Error(r(527,R2,"19.2.1"));se.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=f(o),s=s!==null?m(s):null,s=s===null?null:s.stateNode,s};var H9={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tg.isDisabled&&Tg.supportsFiber)try{ki=Tg.inject(H9),Jn=Tg}catch{}}return Hf.createRoot=function(s,o){if(!i(s))throw Error(r(299));var u=!1,h="",v=zI,b=BI,C=UI;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError)),o=_2(s,1,!1,null,null,u,h,null,v,b,C,P2),s[ca]=o.current,V_(s),new nx(o)},Hf.hydrateRoot=function(s,o,u){if(!i(s))throw Error(r(299));var h=!1,v="",b=zI,C=BI,R=UI,$=null;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(b=u.onUncaughtError),u.onCaughtError!==void 0&&(C=u.onCaughtError),u.onRecoverableError!==void 0&&(R=u.onRecoverableError),u.formState!==void 0&&($=u.formState)),o=_2(s,1,!0,o,u??null,h,v,$,b,C,R,P2),o.context=x2(null),u=o.current,h=Qr(),h=dl(h),v=no(h),v.callback=null,ro(u,v,h),u=h,o.current.lanes=u,cl(o,u),Sa(o),s[ca]=o.current,V_(s),new Eg(o)},Hf.version="19.2.1",Hf}var F2;function i8(){if(F2)return sx.exports;F2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),sx.exports=r8(),sx.exports}var a8=i8();const s8=Fa(a8);var qt=(t=>(t.UTI="UTI",t.MEDIA="MEDIA",t))(qt||{}),Gn=(t=>(t.MEDICINA="Medicina Interna",t.CIRUGIA="Ciruga",t.TRAUMATOLOGIA="Traumatologa",t.GINECOLOGIA="Ginecologa",t.PSIQUIATRIA="Psiquiatra",t.PEDIATRIA="Pediatra",t.OBSTETRICIA="Obstetricia",t.OTRO="Otro",t.EMPTY="",t))(Gn||{}),bt=(t=>(t.GRAVE="Grave",t.DE_CUIDADO="De cuidado",t.ESTABLE="Estable",t.EMPTY="",t))(bt||{});const q2=18,or=[{id:"R1",name:"R1",type:qt.UTI,isCuna:!1},{id:"R2",name:"R2",type:qt.UTI,isCuna:!1},{id:"R3",name:"R3",type:qt.UTI,isCuna:!1},{id:"R4",name:"R4",type:qt.UTI,isCuna:!1},{id:"NEO1",name:"NEO 1",type:qt.MEDIA,isCuna:!1},{id:"NEO2",name:"NEO 2",type:qt.MEDIA,isCuna:!1},{id:"H1C1",name:"H1C1",type:qt.MEDIA,isCuna:!1},{id:"H1C2",name:"H1C2",type:qt.MEDIA,isCuna:!1},{id:"H2C1",name:"H2C1",type:qt.MEDIA,isCuna:!1},{id:"H2C2",name:"H2C2",type:qt.MEDIA,isCuna:!1},{id:"H3C1",name:"H3C1",type:qt.MEDIA,isCuna:!1},{id:"H3C2",name:"H3C2",type:qt.MEDIA,isCuna:!1},{id:"H4C1",name:"H4C1",type:qt.MEDIA,isCuna:!1},{id:"H4C2",name:"H4C2",type:qt.MEDIA,isCuna:!1},{id:"H5C1",name:"H5C1",type:qt.MEDIA,isCuna:!1},{id:"H5C2",name:"H5C2",type:qt.MEDIA,isCuna:!1},{id:"H6C1",name:"H6C1",type:qt.MEDIA,isCuna:!1},{id:"H6C2",name:"H6C2",type:qt.MEDIA,isCuna:!1},{id:"E1",name:"E1",type:qt.MEDIA,isCuna:!1,isExtra:!0},{id:"E2",name:"E2",type:qt.MEDIA,isCuna:!1,isExtra:!0},{id:"E3",name:"E3",type:qt.MEDIA,isCuna:!1,isExtra:!0},{id:"E4",name:"E4",type:qt.MEDIA,isCuna:!1,isExtra:!0},{id:"E5",name:"E5",type:qt.MEDIA,isCuna:!1,isExtra:!0}],o8=Object.values(Gn).filter(t=>t!==""),l8=Object.values(bt).filter(t=>t!==""),c8=["CAE","APS","Urgencias","Pabelln","Otro"],Xg=["VVP","CVC","LA","CUP","VMNI","CNAF","VMI"],lw=["Avin comercial","Aerocardal","Avin FACH"],cw=["Hospital Salvador","Instituto Nacional del Trax","Hospital Tisn","Hospital Dr. Luis Calvo Mackenna","Extrasistema","Otro"],u8={isBlocked:!1,blockedReason:"",bedMode:"Cama",hasCompanionCrib:!1,clinicalCrib:void 0,patientName:"",rut:"",documentType:"RUT",age:"",birthDate:"",biologicalSex:"Indeterminado",insurance:void 0,admissionOrigin:void 0,admissionOriginDetails:"",origin:void 0,isRapanui:!1,pathology:"",specialty:Gn.EMPTY,status:bt.EMPTY,admissionDate:"",hasWristband:!1,isBedridden:!1,devices:[],surgicalComplication:!1,isUPC:!1,location:""},Vj=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],d8=["ID Cama","Nombre Cama","Ubicacin","Tipo Cama","Mobiliario","Cuna RN Sano","Bloqueada","Motivo Bloqueo","Paciente","RUT","Edad","Sexo","F. Nacimiento","Previsin","Origen Ingreso","Cond. Permanencia","Rapanui","Diagnstico","Especialidad","Estado","F. Ingreso","Brazalete","Postrado","Dispositivos","Comp. Qx","UPC","Enfermero/a","Acompaante Traslado"],f8=()=>{};var $2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lj=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},h8=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],l=t[n++],c=t[n++],d=((i&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},zj={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],l=i+1<t.length,c=l?t[i+1]:0,d=i+2<t.length,f=d?t[i+2]:0,m=a>>2,p=(a&3)<<4|c>>4;let y=(c&15)<<2|f>>6,x=f&63;d||(x=64,l||(y=64)),r.push(n[m],n[p],n[y],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Lj(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):h8(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||c==null||f==null||p==null)throw new m8;const y=a<<2|c>>4;if(r.push(y),f!==64){const x=c<<4&240|f>>2;if(r.push(x),p!==64){const w=f<<6&192|p;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class m8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const p8=function(t){const e=Lj(t);return zj.encodeByteArray(e,!0)},Bj=function(t){return p8(t).replace(/\./g,"")},Uj=function(t){try{return zj.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g8=()=>Fj().__FIREBASE_DEFAULTS__,v8=()=>{if(typeof process>"u"||typeof $2>"u")return;const t=$2.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},y8=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Uj(t[1]);return e&&JSON.parse(e)},qy=()=>{try{return f8()||g8()||v8()||y8()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},b8=t=>{var e,n;return(n=(e=qy())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},qj=()=>{var t;return(t=qy())==null?void 0:t.config},$j=t=>{var e;return(e=qy())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sd(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Hj(t){return(await fetch(t,{credentials:"include"})).ok}const vh={};function x8(){const t={prod:[],emulator:[]};for(const e of Object.keys(vh))vh[e]?t.emulator.push(e):t.prod.push(e);return t}function w8(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let H2=!1;function E8(t,e){if(typeof window>"u"||typeof document>"u"||!Sd(window.location.host)||vh[t]===e||vh[t]||H2)return;vh[t]=e;function n(y){return`__firebase__banner__${y}`}const r="__firebase__banner",a=x8().prod.length>0;function l(){const y=document.getElementById(r);y&&y.remove()}function c(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function d(y,x){y.setAttribute("width","24"),y.setAttribute("id",x),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function f(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{H2=!0,l()},y}function m(y,x){y.setAttribute("id",x),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function p(){const y=w8(r),x=n("text"),w=document.getElementById(x)||document.createElement("span"),E=n("learnmore"),A=document.getElementById(E)||document.createElement("a"),O=n("preprendIcon"),D=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const j=y.element;c(j),m(A,E);const q=f();d(D,O),j.append(D,w,A,q),document.body.appendChild(j)}a?(w.innerText="Preview backend disconnected.",D.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(D.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function T8(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jn())}function Kj(){var e;const t=(e=qy())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function S8(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function A8(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function C8(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function I8(){const t=jn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Gj(){return!Kj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Yj(){return!Kj()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function Wj(){try{return typeof indexedDB=="object"}catch{return!1}}function O8(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N8="FirebaseError";class Ps extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=N8,Object.setPrototypeOf(this,Ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lm.prototype.create)}}class lm{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?P8(a,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new Ps(i,c,r)}}function P8(t,e){return t.replace(R8,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const R8=/\{\$([^}]+)}/g;function D8(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ac(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],l=e[i];if(K2(a)&&K2(l)){if(!ac(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function K2(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function sh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function oh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function k8(t,e){const n=new M8(t,e);return n.subscribe.bind(n)}class M8{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");j8(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=ux),i.error===void 0&&(i.error=ux),i.complete===void 0&&(i.complete=ux);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function j8(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ux(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(t){return t&&t._delegate?t._delegate:t}class sc{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let V8=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new _8;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(z8(e))try{this.getOrInitializeService({instanceIdentifier:Vl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Vl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vl){return this.instances.has(e)}getOptions(e=Vl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:L8(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Vl){return this.component?this.component.multipleInstances?e:Vl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function L8(t){return t===Vl?void 0:t}function z8(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B8{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new V8(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(st||(st={}));const U8={debug:st.DEBUG,verbose:st.VERBOSE,info:st.INFO,warn:st.WARN,error:st.ERROR,silent:st.SILENT},F8=st.INFO,q8={[st.DEBUG]:"log",[st.VERBOSE]:"log",[st.INFO]:"info",[st.WARN]:"warn",[st.ERROR]:"error"},$8=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=q8[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class tT{constructor(e){this.name=e,this._logLevel=F8,this._logHandler=$8,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in st))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?U8[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,st.DEBUG,...e),this._logHandler(this,st.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,st.VERBOSE,...e),this._logHandler(this,st.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,st.INFO,...e),this._logHandler(this,st.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,st.WARN,...e),this._logHandler(this,st.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,st.ERROR,...e),this._logHandler(this,st.ERROR,...e)}}const H8=(t,e)=>e.some(n=>t instanceof n);let G2,Y2;function K8(){return G2||(G2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function G8(){return Y2||(Y2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Xj=new WeakMap,uw=new WeakMap,Qj=new WeakMap,dx=new WeakMap,nT=new WeakMap;function Y8(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(ko(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&Xj.set(n,t)}).catch(()=>{}),nT.set(e,t),e}function W8(t){if(uw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});uw.set(t,e)}let dw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return uw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Qj.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ko(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function X8(t){dw=t(dw)}function Q8(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(fx(this),e,...n);return Qj.set(r,e.sort?e.sort():[e]),ko(r)}:G8().includes(t)?function(...e){return t.apply(fx(this),e),ko(Xj.get(this))}:function(...e){return ko(t.apply(fx(this),e))}}function Z8(t){return typeof t=="function"?Q8(t):(t instanceof IDBTransaction&&W8(t),H8(t,K8())?new Proxy(t,dw):t)}function ko(t){if(t instanceof IDBRequest)return Y8(t);if(dx.has(t))return dx.get(t);const e=Z8(t);return e!==t&&(dx.set(t,e),nT.set(e,t)),e}const fx=t=>nT.get(t);function J8(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(t,e),c=ko(l);return r&&l.addEventListener("upgradeneeded",d=>{r(ko(l.result),d.oldVersion,d.newVersion,ko(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{a&&d.addEventListener("close",()=>a()),i&&d.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const eF=["get","getKey","getAll","getAllKeys","count"],tF=["put","add","delete","clear"],hx=new Map;function W2(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(hx.get(e))return hx.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=tF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||eF.includes(n)))return;const a=async function(l,...c){const d=this.transaction(l,i?"readwrite":"readonly");let f=d.store;return r&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),i&&d.done]))[0]};return hx.set(e,a),a}X8(t=>({...t,get:(e,n,r)=>W2(e,n)||t.get(e,n,r),has:(e,n)=>!!W2(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(rF(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function rF(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const fw="@firebase/app",X2="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs=new tT("@firebase/app"),iF="@firebase/app-compat",aF="@firebase/analytics-compat",sF="@firebase/analytics",oF="@firebase/app-check-compat",lF="@firebase/app-check",cF="@firebase/auth",uF="@firebase/auth-compat",dF="@firebase/database",fF="@firebase/data-connect",hF="@firebase/database-compat",mF="@firebase/functions",pF="@firebase/functions-compat",gF="@firebase/installations",vF="@firebase/installations-compat",yF="@firebase/messaging",bF="@firebase/messaging-compat",_F="@firebase/performance",xF="@firebase/performance-compat",wF="@firebase/remote-config",EF="@firebase/remote-config-compat",TF="@firebase/storage",SF="@firebase/storage-compat",AF="@firebase/firestore",CF="@firebase/ai",IF="@firebase/firestore-compat",OF="firebase",NF="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw="[DEFAULT]",PF={[fw]:"fire-core",[iF]:"fire-core-compat",[sF]:"fire-analytics",[aF]:"fire-analytics-compat",[lF]:"fire-app-check",[oF]:"fire-app-check-compat",[cF]:"fire-auth",[uF]:"fire-auth-compat",[dF]:"fire-rtdb",[fF]:"fire-data-connect",[hF]:"fire-rtdb-compat",[mF]:"fire-fn",[pF]:"fire-fn-compat",[gF]:"fire-iid",[vF]:"fire-iid-compat",[yF]:"fire-fcm",[bF]:"fire-fcm-compat",[_F]:"fire-perf",[xF]:"fire-perf-compat",[wF]:"fire-rc",[EF]:"fire-rc-compat",[TF]:"fire-gcs",[SF]:"fire-gcs-compat",[AF]:"fire-fst",[IF]:"fire-fst-compat",[CF]:"fire-vertex","fire-js":"fire-js",[OF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv=new Map,RF=new Map,mw=new Map;function Q2(t,e){try{t.container.addComponent(e)}catch(n){bs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Gu(t){const e=t.name;if(mw.has(e))return bs.debug(`There were multiple attempts to register component ${e}.`),!1;mw.set(e,t);for(const n of yv.values())Q2(n,t);for(const n of RF.values())Q2(n,t);return!0}function rT(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Yi(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mo=new lm("app","Firebase",DF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kF{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new sc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Mo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ad=NF;function Zj(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:hw,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Mo.create("bad-app-name",{appName:String(i)});if(n||(n=qj()),!n)throw Mo.create("no-options");const a=yv.get(i);if(a){if(ac(n,a.options)&&ac(r,a.config))return a;throw Mo.create("duplicate-app",{appName:i})}const l=new B8(i);for(const d of mw.values())l.addComponent(d);const c=new kF(n,r,l);return yv.set(i,c),c}function MF(t=hw){const e=yv.get(t);if(!e&&t===hw&&qj())return Zj();if(!e)throw Mo.create("no-app",{appName:t});return e}function jo(t,e,n){let r=PF[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bs.warn(l.join(" "));return}Gu(new sc(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jF="firebase-heartbeat-database",VF=1,Oh="firebase-heartbeat-store";let mx=null;function Jj(){return mx||(mx=J8(jF,VF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Oh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Mo.create("idb-open",{originalErrorMessage:t.message})})),mx}async function LF(t){try{const n=(await Jj()).transaction(Oh),r=await n.objectStore(Oh).get(e4(t));return await n.done,r}catch(e){if(e instanceof Ps)bs.warn(e.message);else{const n=Mo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});bs.warn(n.message)}}}async function Z2(t,e){try{const r=(await Jj()).transaction(Oh,"readwrite");await r.objectStore(Oh).put(e,e4(t)),await r.done}catch(n){if(n instanceof Ps)bs.warn(n.message);else{const r=Mo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});bs.warn(r.message)}}}function e4(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zF=1024,BF=30;class UF{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new qF(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=J2();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>BF){const l=$F(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){bs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=J2(),{heartbeatsToSend:r,unsentEntries:i}=FF(this._heartbeatsCache.heartbeats),a=Bj(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return bs.warn(n),""}}}function J2(){return new Date().toISOString().substring(0,10)}function FF(t,e=zF){const n=[];let r=t.slice();for(const i of t){const a=n.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),eN(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),eN(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class qF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Wj()?O8().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await LF(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Z2(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Z2(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function eN(t){return Bj(JSON.stringify({version:2,heartbeats:t})).length}function $F(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HF(t){Gu(new sc("platform-logger",e=>new nF(e),"PRIVATE")),Gu(new sc("heartbeat",e=>new UF(e),"PRIVATE")),jo(fw,X2,t),jo(fw,X2,"esm2020"),jo("fire-js","")}HF("");var tN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vo,t4;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,P){function M(){}M.prototype=P.prototype,N.F=P.prototype,N.prototype=new M,N.prototype.constructor=N,N.D=function(B,k,L){for(var z=Array(arguments.length-2),de=2;de<arguments.length;de++)z[de-2]=arguments[de];return P.prototype[k].apply(B,z)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(N,P,M){M||(M=0);const B=Array(16);if(typeof P=="string")for(var k=0;k<16;++k)B[k]=P.charCodeAt(M++)|P.charCodeAt(M++)<<8|P.charCodeAt(M++)<<16|P.charCodeAt(M++)<<24;else for(k=0;k<16;++k)B[k]=P[M++]|P[M++]<<8|P[M++]<<16|P[M++]<<24;P=N.g[0],M=N.g[1],k=N.g[2];let L=N.g[3],z;z=P+(L^M&(k^L))+B[0]+3614090360&4294967295,P=M+(z<<7&4294967295|z>>>25),z=L+(k^P&(M^k))+B[1]+3905402710&4294967295,L=P+(z<<12&4294967295|z>>>20),z=k+(M^L&(P^M))+B[2]+606105819&4294967295,k=L+(z<<17&4294967295|z>>>15),z=M+(P^k&(L^P))+B[3]+3250441966&4294967295,M=k+(z<<22&4294967295|z>>>10),z=P+(L^M&(k^L))+B[4]+4118548399&4294967295,P=M+(z<<7&4294967295|z>>>25),z=L+(k^P&(M^k))+B[5]+1200080426&4294967295,L=P+(z<<12&4294967295|z>>>20),z=k+(M^L&(P^M))+B[6]+2821735955&4294967295,k=L+(z<<17&4294967295|z>>>15),z=M+(P^k&(L^P))+B[7]+4249261313&4294967295,M=k+(z<<22&4294967295|z>>>10),z=P+(L^M&(k^L))+B[8]+1770035416&4294967295,P=M+(z<<7&4294967295|z>>>25),z=L+(k^P&(M^k))+B[9]+2336552879&4294967295,L=P+(z<<12&4294967295|z>>>20),z=k+(M^L&(P^M))+B[10]+4294925233&4294967295,k=L+(z<<17&4294967295|z>>>15),z=M+(P^k&(L^P))+B[11]+2304563134&4294967295,M=k+(z<<22&4294967295|z>>>10),z=P+(L^M&(k^L))+B[12]+1804603682&4294967295,P=M+(z<<7&4294967295|z>>>25),z=L+(k^P&(M^k))+B[13]+4254626195&4294967295,L=P+(z<<12&4294967295|z>>>20),z=k+(M^L&(P^M))+B[14]+2792965006&4294967295,k=L+(z<<17&4294967295|z>>>15),z=M+(P^k&(L^P))+B[15]+1236535329&4294967295,M=k+(z<<22&4294967295|z>>>10),z=P+(k^L&(M^k))+B[1]+4129170786&4294967295,P=M+(z<<5&4294967295|z>>>27),z=L+(M^k&(P^M))+B[6]+3225465664&4294967295,L=P+(z<<9&4294967295|z>>>23),z=k+(P^M&(L^P))+B[11]+643717713&4294967295,k=L+(z<<14&4294967295|z>>>18),z=M+(L^P&(k^L))+B[0]+3921069994&4294967295,M=k+(z<<20&4294967295|z>>>12),z=P+(k^L&(M^k))+B[5]+3593408605&4294967295,P=M+(z<<5&4294967295|z>>>27),z=L+(M^k&(P^M))+B[10]+38016083&4294967295,L=P+(z<<9&4294967295|z>>>23),z=k+(P^M&(L^P))+B[15]+3634488961&4294967295,k=L+(z<<14&4294967295|z>>>18),z=M+(L^P&(k^L))+B[4]+3889429448&4294967295,M=k+(z<<20&4294967295|z>>>12),z=P+(k^L&(M^k))+B[9]+568446438&4294967295,P=M+(z<<5&4294967295|z>>>27),z=L+(M^k&(P^M))+B[14]+3275163606&4294967295,L=P+(z<<9&4294967295|z>>>23),z=k+(P^M&(L^P))+B[3]+4107603335&4294967295,k=L+(z<<14&4294967295|z>>>18),z=M+(L^P&(k^L))+B[8]+1163531501&4294967295,M=k+(z<<20&4294967295|z>>>12),z=P+(k^L&(M^k))+B[13]+2850285829&4294967295,P=M+(z<<5&4294967295|z>>>27),z=L+(M^k&(P^M))+B[2]+4243563512&4294967295,L=P+(z<<9&4294967295|z>>>23),z=k+(P^M&(L^P))+B[7]+1735328473&4294967295,k=L+(z<<14&4294967295|z>>>18),z=M+(L^P&(k^L))+B[12]+2368359562&4294967295,M=k+(z<<20&4294967295|z>>>12),z=P+(M^k^L)+B[5]+4294588738&4294967295,P=M+(z<<4&4294967295|z>>>28),z=L+(P^M^k)+B[8]+2272392833&4294967295,L=P+(z<<11&4294967295|z>>>21),z=k+(L^P^M)+B[11]+1839030562&4294967295,k=L+(z<<16&4294967295|z>>>16),z=M+(k^L^P)+B[14]+4259657740&4294967295,M=k+(z<<23&4294967295|z>>>9),z=P+(M^k^L)+B[1]+2763975236&4294967295,P=M+(z<<4&4294967295|z>>>28),z=L+(P^M^k)+B[4]+1272893353&4294967295,L=P+(z<<11&4294967295|z>>>21),z=k+(L^P^M)+B[7]+4139469664&4294967295,k=L+(z<<16&4294967295|z>>>16),z=M+(k^L^P)+B[10]+3200236656&4294967295,M=k+(z<<23&4294967295|z>>>9),z=P+(M^k^L)+B[13]+681279174&4294967295,P=M+(z<<4&4294967295|z>>>28),z=L+(P^M^k)+B[0]+3936430074&4294967295,L=P+(z<<11&4294967295|z>>>21),z=k+(L^P^M)+B[3]+3572445317&4294967295,k=L+(z<<16&4294967295|z>>>16),z=M+(k^L^P)+B[6]+76029189&4294967295,M=k+(z<<23&4294967295|z>>>9),z=P+(M^k^L)+B[9]+3654602809&4294967295,P=M+(z<<4&4294967295|z>>>28),z=L+(P^M^k)+B[12]+3873151461&4294967295,L=P+(z<<11&4294967295|z>>>21),z=k+(L^P^M)+B[15]+530742520&4294967295,k=L+(z<<16&4294967295|z>>>16),z=M+(k^L^P)+B[2]+3299628645&4294967295,M=k+(z<<23&4294967295|z>>>9),z=P+(k^(M|~L))+B[0]+4096336452&4294967295,P=M+(z<<6&4294967295|z>>>26),z=L+(M^(P|~k))+B[7]+1126891415&4294967295,L=P+(z<<10&4294967295|z>>>22),z=k+(P^(L|~M))+B[14]+2878612391&4294967295,k=L+(z<<15&4294967295|z>>>17),z=M+(L^(k|~P))+B[5]+4237533241&4294967295,M=k+(z<<21&4294967295|z>>>11),z=P+(k^(M|~L))+B[12]+1700485571&4294967295,P=M+(z<<6&4294967295|z>>>26),z=L+(M^(P|~k))+B[3]+2399980690&4294967295,L=P+(z<<10&4294967295|z>>>22),z=k+(P^(L|~M))+B[10]+4293915773&4294967295,k=L+(z<<15&4294967295|z>>>17),z=M+(L^(k|~P))+B[1]+2240044497&4294967295,M=k+(z<<21&4294967295|z>>>11),z=P+(k^(M|~L))+B[8]+1873313359&4294967295,P=M+(z<<6&4294967295|z>>>26),z=L+(M^(P|~k))+B[15]+4264355552&4294967295,L=P+(z<<10&4294967295|z>>>22),z=k+(P^(L|~M))+B[6]+2734768916&4294967295,k=L+(z<<15&4294967295|z>>>17),z=M+(L^(k|~P))+B[13]+1309151649&4294967295,M=k+(z<<21&4294967295|z>>>11),z=P+(k^(M|~L))+B[4]+4149444226&4294967295,P=M+(z<<6&4294967295|z>>>26),z=L+(M^(P|~k))+B[11]+3174756917&4294967295,L=P+(z<<10&4294967295|z>>>22),z=k+(P^(L|~M))+B[2]+718787259&4294967295,k=L+(z<<15&4294967295|z>>>17),z=M+(L^(k|~P))+B[9]+3951481745&4294967295,N.g[0]=N.g[0]+P&4294967295,N.g[1]=N.g[1]+(k+(z<<21&4294967295|z>>>11))&4294967295,N.g[2]=N.g[2]+k&4294967295,N.g[3]=N.g[3]+L&4294967295}r.prototype.v=function(N,P){P===void 0&&(P=N.length);const M=P-this.blockSize,B=this.C;let k=this.h,L=0;for(;L<P;){if(k==0)for(;L<=M;)i(this,N,L),L+=this.blockSize;if(typeof N=="string"){for(;L<P;)if(B[k++]=N.charCodeAt(L++),k==this.blockSize){i(this,B),k=0;break}}else for(;L<P;)if(B[k++]=N[L++],k==this.blockSize){i(this,B),k=0;break}}this.h=k,this.o+=P},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var P=1;P<N.length-8;++P)N[P]=0;P=this.o*8;for(var M=N.length-8;M<N.length;++M)N[M]=P&255,P/=256;for(this.v(N),N=Array(16),P=0,M=0;M<4;++M)for(let B=0;B<32;B+=8)N[P++]=this.g[M]>>>B&255;return N};function a(N,P){var M=c;return Object.prototype.hasOwnProperty.call(M,N)?M[N]:M[N]=P(N)}function l(N,P){this.h=P;const M=[];let B=!0;for(let k=N.length-1;k>=0;k--){const L=N[k]|0;B&&L==P||(M[k]=L,B=!1)}this.g=M}var c={};function d(N){return-128<=N&&N<128?a(N,function(P){return new l([P|0],P<0?-1:0)}):new l([N|0],N<0?-1:0)}function f(N){if(isNaN(N)||!isFinite(N))return p;if(N<0)return A(f(-N));const P=[];let M=1;for(let B=0;N>=M;B++)P[B]=N/M|0,M*=4294967296;return new l(P,0)}function m(N,P){if(N.length==0)throw Error("number format error: empty string");if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(N.charAt(0)=="-")return A(m(N.substring(1),P));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const M=f(Math.pow(P,8));let B=p;for(let L=0;L<N.length;L+=8){var k=Math.min(8,N.length-L);const z=parseInt(N.substring(L,L+k),P);k<8?(k=f(Math.pow(P,k)),B=B.j(k).add(f(z))):(B=B.j(M),B=B.add(f(z)))}return B}var p=d(0),y=d(1),x=d(16777216);t=l.prototype,t.m=function(){if(E(this))return-A(this).m();let N=0,P=1;for(let M=0;M<this.g.length;M++){const B=this.i(M);N+=(B>=0?B:4294967296+B)*P,P*=4294967296}return N},t.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(w(this))return"0";if(E(this))return"-"+A(this).toString(N);const P=f(Math.pow(N,6));var M=this;let B="";for(;;){const k=q(M,P).g;M=O(M,k.j(P));let L=((M.g.length>0?M.g[0]:M.h)>>>0).toString(N);if(M=k,w(M))return L+B;for(;L.length<6;)L="0"+L;B=L+B}},t.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function w(N){if(N.h!=0)return!1;for(let P=0;P<N.g.length;P++)if(N.g[P]!=0)return!1;return!0}function E(N){return N.h==-1}t.l=function(N){return N=O(this,N),E(N)?-1:w(N)?0:1};function A(N){const P=N.g.length,M=[];for(let B=0;B<P;B++)M[B]=~N.g[B];return new l(M,~N.h).add(y)}t.abs=function(){return E(this)?A(this):this},t.add=function(N){const P=Math.max(this.g.length,N.g.length),M=[];let B=0;for(let k=0;k<=P;k++){let L=B+(this.i(k)&65535)+(N.i(k)&65535),z=(L>>>16)+(this.i(k)>>>16)+(N.i(k)>>>16);B=z>>>16,L&=65535,z&=65535,M[k]=z<<16|L}return new l(M,M[M.length-1]&-2147483648?-1:0)};function O(N,P){return N.add(A(P))}t.j=function(N){if(w(this)||w(N))return p;if(E(this))return E(N)?A(this).j(A(N)):A(A(this).j(N));if(E(N))return A(this.j(A(N)));if(this.l(x)<0&&N.l(x)<0)return f(this.m()*N.m());const P=this.g.length+N.g.length,M=[];for(var B=0;B<2*P;B++)M[B]=0;for(B=0;B<this.g.length;B++)for(let k=0;k<N.g.length;k++){const L=this.i(B)>>>16,z=this.i(B)&65535,de=N.i(k)>>>16,Ee=N.i(k)&65535;M[2*B+2*k]+=z*Ee,D(M,2*B+2*k),M[2*B+2*k+1]+=L*Ee,D(M,2*B+2*k+1),M[2*B+2*k+1]+=z*de,D(M,2*B+2*k+1),M[2*B+2*k+2]+=L*de,D(M,2*B+2*k+2)}for(N=0;N<P;N++)M[N]=M[2*N+1]<<16|M[2*N];for(N=P;N<2*P;N++)M[N]=0;return new l(M,0)};function D(N,P){for(;(N[P]&65535)!=N[P];)N[P+1]+=N[P]>>>16,N[P]&=65535,P++}function j(N,P){this.g=N,this.h=P}function q(N,P){if(w(P))throw Error("division by zero");if(w(N))return new j(p,p);if(E(N))return P=q(A(N),P),new j(A(P.g),A(P.h));if(E(P))return P=q(N,A(P)),new j(A(P.g),P.h);if(N.g.length>30){if(E(N)||E(P))throw Error("slowDivide_ only works with positive integers.");for(var M=y,B=P;B.l(N)<=0;)M=U(M),B=U(B);var k=F(M,1),L=F(B,1);for(B=F(B,2),M=F(M,2);!w(B);){var z=L.add(B);z.l(N)<=0&&(k=k.add(M),L=z),B=F(B,1),M=F(M,1)}return P=O(N,k.j(P)),new j(k,P)}for(k=p;N.l(P)>=0;){for(M=Math.max(1,Math.floor(N.m()/P.m())),B=Math.ceil(Math.log(M)/Math.LN2),B=B<=48?1:Math.pow(2,B-48),L=f(M),z=L.j(P);E(z)||z.l(N)>0;)M-=B,L=f(M),z=L.j(P);w(L)&&(L=y),k=k.add(L),N=O(N,z)}return new j(k,N)}t.B=function(N){return q(this,N).h},t.and=function(N){const P=Math.max(this.g.length,N.g.length),M=[];for(let B=0;B<P;B++)M[B]=this.i(B)&N.i(B);return new l(M,this.h&N.h)},t.or=function(N){const P=Math.max(this.g.length,N.g.length),M=[];for(let B=0;B<P;B++)M[B]=this.i(B)|N.i(B);return new l(M,this.h|N.h)},t.xor=function(N){const P=Math.max(this.g.length,N.g.length),M=[];for(let B=0;B<P;B++)M[B]=this.i(B)^N.i(B);return new l(M,this.h^N.h)};function U(N){const P=N.g.length+1,M=[];for(let B=0;B<P;B++)M[B]=N.i(B)<<1|N.i(B-1)>>>31;return new l(M,N.h)}function F(N,P){const M=P>>5;P%=32;const B=N.g.length-M,k=[];for(let L=0;L<B;L++)k[L]=P>0?N.i(L+M)>>>P|N.i(L+M+1)<<32-P:N.i(L+M);return new l(k,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,t4=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=m,Vo=l}).apply(typeof tN<"u"?tN:typeof self<"u"?self:typeof window<"u"?window:{});var Sg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var n4,lh,r4,Qg,pw,i4,a4,s4;(function(){var t,e=Object.defineProperty;function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sg=="object"&&Sg];for(var T=0;T<g.length;++T){var I=g[T];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=n(this);function i(g,T){if(T)e:{var I=r;g=g.split(".");for(var V=0;V<g.length-1;V++){var X=g[V];if(!(X in I))break e;I=I[X]}g=g[g.length-1],V=I[g],T=T(V),T!=V&&T!=null&&e(I,g,{configurable:!0,writable:!0,value:T})}}i("Symbol.dispose",function(g){return g||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(g){return g||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(g){return g||function(T){var I=[],V;for(V in T)Object.prototype.hasOwnProperty.call(T,V)&&I.push([V,T[V]]);return I}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function c(g){var T=typeof g;return T=="object"&&g!=null||T=="function"}function d(g,T,I){return g.call.apply(g.bind,arguments)}function f(g,T,I){return f=d,f.apply(null,arguments)}function m(g,T){var I=Array.prototype.slice.call(arguments,1);return function(){var V=I.slice();return V.push.apply(V,arguments),g.apply(this,V)}}function p(g,T){function I(){}I.prototype=T.prototype,g.Z=T.prototype,g.prototype=new I,g.prototype.constructor=g,g.Ob=function(V,X,te){for(var ye=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)ye[Xe-2]=arguments[Xe];return T.prototype[X].apply(V,ye)}}var y=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?g=>g&&AsyncContext.Snapshot.wrap(g):g=>g;function x(g){const T=g.length;if(T>0){const I=Array(T);for(let V=0;V<T;V++)I[V]=g[V];return I}return[]}function w(g,T){for(let V=1;V<arguments.length;V++){const X=arguments[V];var I=typeof X;if(I=I!="object"?I:X?Array.isArray(X)?"array":I:"null",I=="array"||I=="object"&&typeof X.length=="number"){I=g.length||0;const te=X.length||0;g.length=I+te;for(let ye=0;ye<te;ye++)g[I+ye]=X[ye]}else g.push(X)}}class E{constructor(T,I){this.i=T,this.j=I,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function A(g){l.setTimeout(()=>{throw g},0)}function O(){var g=N;let T=null;return g.g&&(T=g.g,g.g=g.g.next,g.g||(g.h=null),T.next=null),T}class D{constructor(){this.h=this.g=null}add(T,I){const V=j.get();V.set(T,I),this.h?this.h.next=V:this.g=V,this.h=V}}var j=new E(()=>new q,g=>g.reset());class q{constructor(){this.next=this.g=this.h=null}set(T,I){this.h=T,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let U,F=!1,N=new D,P=()=>{const g=Promise.resolve(void 0);U=()=>{g.then(M)}};function M(){for(var g;g=O();){try{g.h.call(g.g)}catch(I){A(I)}var T=j;T.j(g),T.h<100&&(T.h++,g.next=T.g,T.g=g)}F=!1}function B(){this.u=this.u,this.C=this.C}B.prototype.u=!1,B.prototype.dispose=function(){this.u||(this.u=!0,this.N())},B.prototype[Symbol.dispose]=function(){this.dispose()},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(g,T){this.type=g,this.g=this.target=T,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var g=!1,T=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const I=()=>{};l.addEventListener("test",I,T),l.removeEventListener("test",I,T)}catch{}return g})();function z(g){return/^[\s\xa0]*$/.test(g)}function de(g,T){k.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g&&this.init(g,T)}p(de,k),de.prototype.init=function(g,T){const I=this.type=g.type,V=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;this.target=g.target||g.srcElement,this.g=T,T=g.relatedTarget,T||(I=="mouseover"?T=g.fromElement:I=="mouseout"&&(T=g.toElement)),this.relatedTarget=T,V?(this.clientX=V.clientX!==void 0?V.clientX:V.pageX,this.clientY=V.clientY!==void 0?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=g.pointerType,this.state=g.state,this.i=g,g.defaultPrevented&&de.Z.h.call(this)},de.prototype.h=function(){de.Z.h.call(this);const g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var Ee="closure_listenable_"+(Math.random()*1e6|0),W=0;function se(g,T,I,V,X){this.listener=g,this.proxy=null,this.src=T,this.type=I,this.capture=!!V,this.ha=X,this.key=++W,this.da=this.fa=!1}function me(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function ve(g,T,I){for(const V in g)T.call(I,g[V],V,g)}function De(g,T){for(const I in g)T.call(void 0,g[I],I,g)}function H(g){const T={};for(const I in g)T[I]=g[I];return T}const re="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pe(g,T){let I,V;for(let X=1;X<arguments.length;X++){V=arguments[X];for(I in V)g[I]=V[I];for(let te=0;te<re.length;te++)I=re[te],Object.prototype.hasOwnProperty.call(V,I)&&(g[I]=V[I])}}function be(g){this.src=g,this.g={},this.h=0}be.prototype.add=function(g,T,I,V,X){const te=g.toString();g=this.g[te],g||(g=this.g[te]=[],this.h++);const ye=le(g,T,V,X);return ye>-1?(T=g[ye],I||(T.fa=!1)):(T=new se(T,this.src,te,!!V,X),T.fa=I,g.push(T)),T};function je(g,T){const I=T.type;if(I in g.g){var V=g.g[I],X=Array.prototype.indexOf.call(V,T,void 0),te;(te=X>=0)&&Array.prototype.splice.call(V,X,1),te&&(me(T),g.g[I].length==0&&(delete g.g[I],g.h--))}}function le(g,T,I,V){for(let X=0;X<g.length;++X){const te=g[X];if(!te.da&&te.listener==T&&te.capture==!!I&&te.ha==V)return X}return-1}var Pe="closure_lm_"+(Math.random()*1e6|0),Mt={};function ae(g,T,I,V,X){if(Array.isArray(T)){for(let te=0;te<T.length;te++)ae(g,T[te],I,V,X);return null}return I=zs(I),g&&g[Ee]?g.J(T,I,c(V)?!!V.capture:!1,X):Be(g,T,I,!1,V,X)}function Be(g,T,I,V,X,te){if(!T)throw Error("Invalid event type");const ye=c(X)?!!X.capture:!!X;let Xe=an(g);if(Xe||(g[Pe]=Xe=new be(g)),I=Xe.add(T,I,V,ye,te),I.proxy)return I;if(V=We(),I.proxy=V,V.src=g,V.listener=I,g.addEventListener)L||(X=ye),X===void 0&&(X=!1),g.addEventListener(T.toString(),V,X);else if(g.attachEvent)g.attachEvent(tt(T.toString()),V);else if(g.addListener&&g.removeListener)g.addListener(V);else throw Error("addEventListener and attachEvent are unavailable.");return I}function We(){function g(I){return T.call(g.src,g.listener,I)}const T=Pn;return g}function fe(g,T,I,V,X){if(Array.isArray(T))for(var te=0;te<T.length;te++)fe(g,T[te],I,V,X);else V=c(V)?!!V.capture:!!V,I=zs(I),g&&g[Ee]?(g=g.i,te=String(T).toString(),te in g.g&&(T=g.g[te],I=le(T,I,V,X),I>-1&&(me(T[I]),Array.prototype.splice.call(T,I,1),T.length==0&&(delete g.g[te],g.h--)))):g&&(g=an(g))&&(T=g.g[T.toString()],g=-1,T&&(g=le(T,I,V,X)),(I=g>-1?T[g]:null)&&rn(I))}function rn(g){if(typeof g!="number"&&g&&!g.da){var T=g.src;if(T&&T[Ee])je(T.i,g);else{var I=g.type,V=g.proxy;T.removeEventListener?T.removeEventListener(I,V,g.capture):T.detachEvent?T.detachEvent(tt(I),V):T.addListener&&T.removeListener&&T.removeListener(V),(I=an(T))?(je(I,g),I.h==0&&(I.src=null,T[Pe]=null)):me(g)}}}function tt(g){return g in Mt?Mt[g]:Mt[g]="on"+g}function Pn(g,T){if(g.da)g=!0;else{T=new de(T,this);const I=g.listener,V=g.ha||g.src;g.fa&&rn(g),g=I.call(V,T)}return g}function an(g){return g=g[Pe],g instanceof be?g:null}var Fr="__closure_events_fn_"+(Math.random()*1e9>>>0);function zs(g){return typeof g=="function"?g:(g[Fr]||(g[Fr]=function(T){return g.handleEvent(T)}),g[Fr])}function fn(){B.call(this),this.i=new be(this),this.M=this,this.G=null}p(fn,B),fn.prototype[Ee]=!0,fn.prototype.removeEventListener=function(g,T,I,V){fe(this,g,T,I,V)};function Rn(g,T){var I,V=g.G;if(V)for(I=[];V;V=V.G)I.push(V);if(g=g.M,V=T.type||T,typeof T=="string")T=new k(T,g);else if(T instanceof k)T.target=T.target||g;else{var X=T;T=new k(V,g),pe(T,X)}X=!0;let te,ye;if(I)for(ye=I.length-1;ye>=0;ye--)te=T.g=I[ye],X=Bs(te,V,!0,T)&&X;if(te=T.g=g,X=Bs(te,V,!0,T)&&X,X=Bs(te,V,!1,T)&&X,I)for(ye=0;ye<I.length;ye++)te=T.g=I[ye],X=Bs(te,V,!1,T)&&X}fn.prototype.N=function(){if(fn.Z.N.call(this),this.i){var g=this.i;for(const T in g.g){const I=g.g[T];for(let V=0;V<I.length;V++)me(I[V]);delete g.g[T],g.h--}}this.G=null},fn.prototype.J=function(g,T,I,V){return this.i.add(String(g),T,!1,I,V)},fn.prototype.K=function(g,T,I,V){return this.i.add(String(g),T,!0,I,V)};function Bs(g,T,I,V){if(T=g.i.g[String(T)],!T)return!0;T=T.concat();let X=!0;for(let te=0;te<T.length;++te){const ye=T[te];if(ye&&!ye.da&&ye.capture==I){const Xe=ye.listener,on=ye.ha||ye.src;ye.fa&&je(g.i,ye),X=Xe.call(on,V)!==!1&&X}}return X&&!V.defaultPrevented}function ab(g,T){if(typeof g!="function")if(g&&typeof g.handleEvent=="function")g=f(g.handleEvent,g);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:l.setTimeout(g,T||0)}function Xm(g){g.g=ab(()=>{g.g=null,g.i&&(g.i=!1,Xm(g))},g.l);const T=g.h;g.h=null,g.m.apply(null,T)}class vr extends B{constructor(T,I){super(),this.m=T,this.l=I,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:Xm(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ol(g){B.call(this),this.h=g,this.g={}}p(ol,B);var Fd=[];function qd(g){ve(g.g,function(T,I){this.g.hasOwnProperty(I)&&rn(T)},g),g.g={}}ol.prototype.N=function(){ol.Z.N.call(this),qd(this)},ol.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Us=l.JSON.stringify,sb=l.JSON.parse,Qm=class{stringify(g){return l.JSON.stringify(g,void 0)}parse(g){return l.JSON.parse(g,void 0)}};function Zm(){}function Jm(){}var ki={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Jn(){k.call(this,"d")}p(Jn,k);function li(){k.call(this,"c")}p(li,k);var sn={},ep=null;function Rc(){return ep=ep||new fn}sn.Ia="serverreachability";function tp(g){k.call(this,sn.Ia,g)}p(tp,k);function aa(g){const T=Rc();Rn(T,new tp(T))}sn.STAT_EVENT="statevent";function ll(g,T){k.call(this,sn.STAT_EVENT,g),this.stat=T}p(ll,k);function hn(g){const T=Rc();Rn(T,new ll(T,g))}sn.Ja="timingevent";function sa(g,T){k.call(this,sn.Ja,g),this.size=T}p(sa,k);function oa(g,T){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){g()},T)}function Mi(){this.g=!0}Mi.prototype.ua=function(){this.g=!1};function ob(g,T,I,V,X,te){g.info(function(){if(g.g)if(te){var ye="",Xe=te.split("&");for(let gt=0;gt<Xe.length;gt++){var on=Xe[gt].split("=");if(on.length>1){const Ut=on[0];on=on[1];const fi=Ut.split("_");ye=fi.length>=2&&fi[1]=="type"?ye+(Ut+"="+on+"&"):ye+(Ut+"=redacted&")}}}else ye=null;else ye=te;return"XMLHTTP REQ ("+V+") [attempt "+X+"]: "+T+`
`+I+`
`+ye})}function np(g,T,I,V,X,te,ye){g.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+X+"]: "+T+`
`+I+`
`+te+" "+ye})}function la(g,T,I,V){g.info(function(){return"XMLHTTP TEXT ("+T+"): "+lb(g,I)+(V?" "+V:"")})}function cl(g,T){g.info(function(){return"TIMEOUT: "+T})}Mi.prototype.info=function(){};function lb(g,T){if(!g.g)return T;if(!T)return null;try{const te=JSON.parse(T);if(te){for(g=0;g<te.length;g++)if(Array.isArray(te[g])){var I=te[g];if(!(I.length<2)){var V=I[1];if(Array.isArray(V)&&!(V.length<1)){var X=V[0];if(X!="noop"&&X!="stop"&&X!="close")for(let ye=1;ye<V.length;ye++)V[ye]=""}}}}return Us(te)}catch{return T}}var ul={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},$d={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Hd;function dl(){}p(dl,Zm),dl.prototype.g=function(){return new XMLHttpRequest},Hd=new dl;function qa(g){return encodeURIComponent(String(g))}function rp(g){var T=1;g=g.split(":");const I=[];for(;T>0&&g.length;)I.push(g.shift()),T--;return g.length&&I.push(g.join(":")),I}function ji(g,T,I,V){this.j=g,this.i=T,this.l=I,this.S=V||1,this.V=new ol(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Vi}function Vi(){this.i=null,this.g="",this.h=!1}var mn={},Fn={};function ca(g,T,I){g.M=1,g.A=fl(gn(T)),g.u=I,g.R=!0,Dc(g,null)}function Dc(g,T){g.F=Date.now(),ua(g),g.B=gn(g.A);var I=g.B,V=g.S;Array.isArray(V)||(V=[String(V)]),Vc(I.i,"t",V),g.C=0,I=g.j.L,g.h=new Vi,g.g=yp(g.j,I?T:null,!g.u),g.P>0&&(g.O=new vr(f(g.Y,g,g.g),g.P)),T=g.V,I=g.g,V=g.ba;var X="readystatechange";Array.isArray(X)||(X&&(Fd[0]=X.toString()),X=Fd);for(let te=0;te<X.length;te++){const ye=ae(I,X[te],V||T.handleEvent,!1,T.h||T);if(!ye)break;T.g[ye.key]=ye}T=g.J?H(g.J):{},g.u?(g.v||(g.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.B,g.v,g.u,T)):(g.v="GET",g.g.ea(g.B,g.v,null,T)),aa(),ob(g.i,g.v,g.B,g.l,g.S,g.u)}ji.prototype.ba=function(g){g=g.target;const T=this.O;T&&Bi(g)==3?T.j():this.Y(g)},ji.prototype.Y=function(g){try{if(g==this.g)e:{const Xe=Bi(this.g),on=this.g.ya(),gt=this.g.ca();if(!(Xe<3)&&(Xe!=3||this.g&&(this.h.h||this.g.la()||er(this.g)))){this.K||Xe!=4||on==7||(on==8||gt<=0?aa(3):aa(2)),da(this);var T=this.g.ca();this.X=T;var I=cb(this);if(this.o=T==200,np(this.i,this.v,this.B,this.l,this.S,Xe,T),this.o){if(this.U&&!this.L){t:{if(this.g){var V,X=this.g;if((V=X.g?X.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(V)){var te=V;break t}}te=null}if(g=te)la(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,fa(this,g);else{this.o=!1,this.m=3,hn(12),qr(this),ci(this);break e}}if(this.R){g=!0;let Ut;for(;!this.K&&this.C<I.length;)if(Ut=ap(this,I),Ut==Fn){Xe==4&&(this.m=4,hn(14),g=!1),la(this.i,this.l,null,"[Incomplete Response]");break}else if(Ut==mn){this.m=4,hn(15),la(this.i,this.l,I,"[Invalid Chunk]"),g=!1;break}else la(this.i,this.l,Ut,null),fa(this,Ut);if(ip(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Xe!=4||I.length!=0||this.h.h||(this.m=1,hn(16),g=!1),this.o=this.o&&g,!g)la(this.i,this.l,I,"[Invalid Chunked Response]"),qr(this),ci(this);else if(I.length>0&&!this.W){this.W=!0;var ye=this.j;ye.g==this&&ye.aa&&!ye.P&&(ye.j.info("Great, no buffering proxy detected. Bytes received: "+I.length),of(ye),ye.P=!0,hn(11))}}else la(this.i,this.l,I,null),fa(this,I);Xe==4&&qr(this),this.o&&!this.K&&(Xe==4?mp(this.j,this):(this.o=!1,ua(this)))}else Ha(this.g),T==400&&I.indexOf("Unknown SID")>0?(this.m=3,hn(12)):(this.m=0,hn(13)),qr(this),ci(this)}}}catch{}finally{}};function cb(g){if(!ip(g))return g.g.la();const T=er(g.g);if(T==="")return"";let I="";const V=T.length,X=Bi(g.g)==4;if(!g.h.i){if(typeof TextDecoder>"u")return qr(g),ci(g),"";g.h.i=new l.TextDecoder}for(let te=0;te<V;te++)g.h.h=!0,I+=g.h.i.decode(T[te],{stream:!(X&&te==V-1)});return T.length=0,g.h.g+=I,g.C=0,g.h.g}function ip(g){return g.g?g.v=="GET"&&g.M!=2&&g.j.Aa:!1}function ap(g,T){var I=g.C,V=T.indexOf(`
`,I);return V==-1?Fn:(I=Number(T.substring(I,V)),isNaN(I)?mn:(V+=1,V+I>T.length?Fn:(T=T.slice(V,V+I),g.C=V+I,T)))}ji.prototype.cancel=function(){this.K=!0,qr(this)};function ua(g){g.T=Date.now()+g.H,kc(g,g.H)}function kc(g,T){if(g.D!=null)throw Error("WatchDog timer not null");g.D=oa(f(g.aa,g),T)}function da(g){g.D&&(l.clearTimeout(g.D),g.D=null)}ji.prototype.aa=function(){this.D=null;const g=Date.now();g-this.T>=0?(cl(this.i,this.B),this.M!=2&&(aa(),hn(17)),qr(this),this.m=2,ci(this)):kc(this,this.T-g)};function ci(g){g.j.I==0||g.K||mp(g.j,g)}function qr(g){da(g);var T=g.O;T&&typeof T.dispose=="function"&&T.dispose(),g.O=null,qd(g.V),g.g&&(T=g.g,g.g=null,T.abort(),T.dispose())}function fa(g,T){try{var I=g.j;if(I.I!=0&&(I.g==g||ma(I.h,g))){if(!g.L&&ma(I.h,g)&&I.I==3){try{var V=I.Ba.g.parse(T)}catch{V=null}if(Array.isArray(V)&&V.length==3){var X=V;if(X[0]==0){e:if(!I.v){if(I.g)if(I.g.F+3e3<g.F)Fc(I),Ws(I);else break e;bl(I),hn(18)}}else I.xa=X[1],0<I.xa-I.K&&X[2]<37500&&I.F&&I.A==0&&!I.C&&(I.C=oa(f(I.Va,I),6e3));ha(I.h)<=1&&I.ta&&(I.ta=void 0)}else _a(I,11)}else if((g.L||I.g==g)&&Fc(I),!z(T))for(X=I.Ba.g.parse(T),T=0;T<X.length;T++){let gt=X[T];const Ut=gt[0];if(!(Ut<=I.K))if(I.K=Ut,gt=gt[1],I.I==2)if(gt[0]=="c"){I.M=gt[1],I.ba=gt[2];const fi=gt[3];fi!=null&&(I.ka=fi,I.j.info("VER="+I.ka));const xa=gt[4];xa!=null&&(I.za=xa,I.j.info("SVER="+I.za));const Ui=gt[5];Ui!=null&&typeof Ui=="number"&&Ui>0&&(V=1.5*Ui,I.O=V,I.j.info("backChannelRequestTimeoutMs_="+V)),V=I;const Fi=g.g;if(Fi){const _l=Fi.g?Fi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_l){var te=V.h;te.g||_l.indexOf("spdy")==-1&&_l.indexOf("quic")==-1&&_l.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(Yd(te,te.h),te.h=null))}if(V.G){const qc=Fi.g?Fi.g.getResponseHeader("X-HTTP-Session-Id"):null;qc&&(V.wa=qc,xt(V.J,V.G,qc))}}I.I=3,I.l&&I.l.ra(),I.aa&&(I.T=Date.now()-g.F,I.j.info("Handshake RTT: "+I.T+"ms")),V=I;var ye=g;if(V.na=vp(V,V.L?V.ba:null,V.W),ye.L){Wd(V.h,ye);var Xe=ye,on=V.O;on&&(Xe.H=on),Xe.D&&(da(Xe),ua(Xe)),V.g=ye}else fp(V);I.i.length>0&&ba(I)}else gt[0]!="stop"&&gt[0]!="close"||_a(I,7);else I.I==3&&(gt[0]=="stop"||gt[0]=="close"?gt[0]=="stop"?_a(I,7):af(I):gt[0]!="noop"&&I.l&&I.l.qa(gt),I.A=0)}}aa(4)}catch{}}var pn=class{constructor(g,T){this.g=g,this.map=T}};function Kd(g){this.l=g||10,l.PerformanceNavigationTiming?(g=l.performance.getEntriesByType("navigation"),g=g.length>0&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Gd(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function ha(g){return g.h?1:g.g?g.g.size:0}function ma(g,T){return g.h?g.h==T:g.g?g.g.has(T):!1}function Yd(g,T){g.g?g.g.add(T):g.h=T}function Wd(g,T){g.h&&g.h==T?g.h=null:g.g&&g.g.has(T)&&g.g.delete(T)}Kd.prototype.cancel=function(){if(this.i=Xd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Xd(g){if(g.h!=null)return g.i.concat(g.h.G);if(g.g!=null&&g.g.size!==0){let T=g.i;for(const I of g.g.values())T=T.concat(I.G);return T}return x(g.i)}var sp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Mc(g,T){if(g){g=g.split("&");for(let I=0;I<g.length;I++){const V=g[I].indexOf("=");let X,te=null;V>=0?(X=g[I].substring(0,V),te=g[I].substring(V+1)):X=g[I],T(X,te?decodeURIComponent(te.replace(/\+/g," ")):"")}}}function $r(g){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;g instanceof $r?(this.l=g.l,qn(this,g.j),this.o=g.o,this.g=g.g,Fs(this,g.u),this.h=g.h,Qd(this,up(g.i)),this.m=g.m):g&&(T=String(g).match(sp))?(this.l=!1,qn(this,T[1]||"",!0),this.o=pa(T[2]||""),this.g=pa(T[3]||"",!0),Fs(this,T[4]),this.h=pa(T[5]||"",!0),Qd(this,T[6]||"",!0),this.m=pa(T[7]||"")):(this.l=!1,this.i=new $s(null,this.l))}$r.prototype.toString=function(){const g=[];var T=this.j;T&&g.push(hl(T,jc,!0),":");var I=this.g;return(I||T=="file")&&(g.push("//"),(T=this.o)&&g.push(hl(T,jc,!0),"@"),g.push(qa(I).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.u,I!=null&&g.push(":",String(I))),(I=this.h)&&(this.g&&I.charAt(0)!="/"&&g.push("/"),g.push(hl(I,I.charAt(0)=="/"?Zd:op,!0))),(I=this.i.toString())&&g.push("?",I),(I=this.m)&&g.push("#",hl(I,lp)),g.join("")},$r.prototype.resolve=function(g){const T=gn(this);let I=!!g.j;I?qn(T,g.j):I=!!g.o,I?T.o=g.o:I=!!g.g,I?T.g=g.g:I=g.u!=null;var V=g.h;if(I)Fs(T,g.u);else if(I=!!g.h){if(V.charAt(0)!="/")if(this.g&&!this.h)V="/"+V;else{var X=T.h.lastIndexOf("/");X!=-1&&(V=T.h.slice(0,X+1)+V)}if(X=V,X==".."||X==".")V="";else if(X.indexOf("./")!=-1||X.indexOf("/.")!=-1){V=X.lastIndexOf("/",0)==0,X=X.split("/");const te=[];for(let ye=0;ye<X.length;){const Xe=X[ye++];Xe=="."?V&&ye==X.length&&te.push(""):Xe==".."?((te.length>1||te.length==1&&te[0]!="")&&te.pop(),V&&ye==X.length&&te.push("")):(te.push(Xe),V=!0)}V=te.join("/")}else V=X}return I?T.h=V:I=g.i.toString()!=="",I?Qd(T,up(g.i)):I=!!g.m,I&&(T.m=g.m),T};function gn(g){return new $r(g)}function qn(g,T,I){g.j=I?pa(T,!0):T,g.j&&(g.j=g.j.replace(/:$/,""))}function Fs(g,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);g.u=T}else g.u=null}function Qd(g,T,I){T instanceof $s?(g.i=T,Lc(g.i,g.l)):(I||(T=hl(T,qs)),g.i=new $s(T,g.l))}function xt(g,T,I){g.i.set(T,I)}function fl(g){return xt(g,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),g}function pa(g,T){return g?T?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function hl(g,T,I){return typeof g=="string"?(g=encodeURI(g).replace(T,Or),I&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function Or(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var jc=/[#\/\?@]/g,op=/[#\?:]/g,Zd=/[#\?]/g,qs=/[#\?@]/g,lp=/#/g;function $s(g,T){this.h=this.g=null,this.i=g||null,this.j=!!T}function Nr(g){g.g||(g.g=new Map,g.h=0,g.i&&Mc(g.i,function(T,I){g.add(decodeURIComponent(T.replace(/\+/g," ")),I)}))}t=$s.prototype,t.add=function(g,T){Nr(this),this.i=null,g=Hs(this,g);let I=this.g.get(g);return I||this.g.set(g,I=[]),I.push(T),this.h+=1,this};function cp(g,T){Nr(g),T=Hs(g,T),g.g.has(T)&&(g.i=null,g.h-=g.g.get(T).length,g.g.delete(T))}function Jd(g,T){return Nr(g),T=Hs(g,T),g.g.has(T)}t.forEach=function(g,T){Nr(this),this.g.forEach(function(I,V){I.forEach(function(X){g.call(T,X,V,this)},this)},this)};function ef(g,T){Nr(g);let I=[];if(typeof T=="string")Jd(g,T)&&(I=I.concat(g.g.get(Hs(g,T))));else for(g=Array.from(g.g.values()),T=0;T<g.length;T++)I=I.concat(g[T]);return I}t.set=function(g,T){return Nr(this),this.i=null,g=Hs(this,g),Jd(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[T]),this.h+=1,this},t.get=function(g,T){return g?(g=ef(this,g),g.length>0?String(g[0]):T):T};function Vc(g,T,I){cp(g,T),I.length>0&&(g.i=null,g.g.set(Hs(g,T),x(I)),g.h+=I.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],T=Array.from(this.g.keys());for(let V=0;V<T.length;V++){var I=T[V];const X=qa(I);I=ef(this,I);for(let te=0;te<I.length;te++){let ye=X;I[te]!==""&&(ye+="="+qa(I[te])),g.push(ye)}}return this.i=g.join("&")};function up(g){const T=new $s;return T.i=g.i,g.g&&(T.g=new Map(g.g),T.h=g.h),T}function Hs(g,T){return T=String(T),g.j&&(T=T.toLowerCase()),T}function Lc(g,T){T&&!g.j&&(Nr(g),g.i=null,g.g.forEach(function(I,V){const X=V.toLowerCase();V!=X&&(cp(this,V),Vc(this,X,I))},g)),g.j=T}function Li(g,T){const I=new Mi;if(l.Image){const V=new Image;V.onload=m(ui,I,"TestLoadImage: loaded",!0,T,V),V.onerror=m(ui,I,"TestLoadImage: error",!1,T,V),V.onabort=m(ui,I,"TestLoadImage: abort",!1,T,V),V.ontimeout=m(ui,I,"TestLoadImage: timeout",!1,T,V),l.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=g}else T(!1)}function tf(g,T){const I=new Mi,V=new AbortController,X=setTimeout(()=>{V.abort(),ui(I,"TestPingServer: timeout",!1,T)},1e4);fetch(g,{signal:V.signal}).then(te=>{clearTimeout(X),te.ok?ui(I,"TestPingServer: ok",!0,T):ui(I,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(X),ui(I,"TestPingServer: error",!1,T)})}function ui(g,T,I,V,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),V(I)}catch{}}function Ks(){this.g=new Qm}function ga(g){this.i=g.Sb||null,this.h=g.ab||!1}p(ga,Zm),ga.prototype.g=function(){return new ml(this.i,this.h)};function ml(g,T){fn.call(this),this.H=g,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(ml,fn),t=ml.prototype,t.open=function(g,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=g,this.D=T,this.readyState=1,zi(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};g&&(T.body=g),(this.H||l).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Gs(this)),this.readyState=0},t.Pa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,zi(this)),this.g&&(this.readyState=3,zi(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;zc(this)}else g.text().then(this.Oa.bind(this),this.ga.bind(this))};function zc(g){g.j.read().then(g.Ma.bind(g)).catch(g.ga.bind(g))}t.Ma=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var T=g.value?g.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!g.done}))&&(this.response=this.responseText+=T)}g.done?Gs(this):zi(this),this.readyState==3&&zc(this)}},t.Oa=function(g){this.g&&(this.response=this.responseText=g,Gs(this))},t.Na=function(g){this.g&&(this.response=g,Gs(this))},t.ga=function(){this.g&&Gs(this)};function Gs(g){g.readyState=4,g.l=null,g.j=null,g.B=null,zi(g)}t.setRequestHeader=function(g,T){this.A.append(g,T)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],T=this.h.entries();for(var I=T.next();!I.done;)I=I.value,g.push(I[0]+": "+I[1]),I=T.next();return g.join(`\r
`)};function zi(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(ml.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function di(g){let T="";return ve(g,function(I,V){T+=V,T+=":",T+=I,T+=`\r
`}),T}function pl(g,T,I){e:{for(V in I){var V=!1;break e}V=!0}V||(I=di(I),typeof g=="string"?I!=null&&qa(I):xt(g,T,I))}function At(g){fn.call(this),this.headers=new Map,this.L=g||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(At,fn);var va=/^https?$/i,nf=["POST","PUT"];t=At.prototype,t.Fa=function(g){this.H=g},t.ea=function(g,T,I,V){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);T=T?T.toUpperCase():"GET",this.D=g,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Hd.g(),this.g.onreadystatechange=y(f(this.Ca,this));try{this.B=!0,this.g.open(T,String(g),!0),this.B=!1}catch(te){gl(this,te);return}if(g=I||"",I=new Map(this.headers),V)if(Object.getPrototypeOf(V)===Object.prototype)for(var X in V)I.set(X,V[X]);else if(typeof V.keys=="function"&&typeof V.get=="function")for(const te of V.keys())I.set(te,V.get(te));else throw Error("Unknown input type for opt_headers: "+String(V));V=Array.from(I.keys()).find(te=>te.toLowerCase()=="content-type"),X=l.FormData&&g instanceof l.FormData,!(Array.prototype.indexOf.call(nf,T,void 0)>=0)||V||X||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,ye]of I)this.g.setRequestHeader(te,ye);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(g),this.v=!1}catch(te){gl(this,te)}};function gl(g,T){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=T,g.o=5,rf(g),$a(g)}function rf(g){g.A||(g.A=!0,Rn(g,"complete"),Rn(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=g||7,Rn(this,"complete"),Rn(this,"abort"),$a(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$a(this,!0)),At.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?vl(this):this.Xa())},t.Xa=function(){vl(this)};function vl(g){if(g.h&&typeof a<"u"){if(g.v&&Bi(g)==4)setTimeout(g.Ca.bind(g),0);else if(Rn(g,"readystatechange"),Bi(g)==4){g.h=!1;try{const te=g.ca();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var I;if(!(I=T)){var V;if(V=te===0){let ye=String(g.D).match(sp)[1]||null;!ye&&l.self&&l.self.location&&(ye=l.self.location.protocol.slice(0,-1)),V=!va.test(ye?ye.toLowerCase():"")}I=V}if(I)Rn(g,"complete"),Rn(g,"success");else{g.o=6;try{var X=Bi(g)>2?g.g.statusText:""}catch{X=""}g.l=X+" ["+g.ca()+"]",rf(g)}}finally{$a(g)}}}}function $a(g,T){if(g.g){g.m&&(clearTimeout(g.m),g.m=null);const I=g.g;g.g=null,T||Rn(g,"ready");try{I.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Bi(g){return g.g?g.g.readyState:0}t.ca=function(){try{return Bi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(g){if(this.g){var T=this.g.responseText;return g&&T.indexOf(g)==0&&(T=T.substring(g.length)),sb(T)}};function er(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.F){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Ha(g){const T={};g=(g.g&&Bi(g)>=2&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let V=0;V<g.length;V++){if(z(g[V]))continue;var I=rp(g[V]);const X=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const te=T[X]||[];T[X]=te,te.push(I)}De(T,function(V){return V.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ya(g,T,I){return I&&I.internalChannelParams&&I.internalChannelParams[g]||T}function Ys(g){this.za=0,this.i=[],this.j=new Mi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ya("failFast",!1,g),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ya("baseRetryDelayMs",5e3,g),this.Za=ya("retryDelaySeedMs",1e4,g),this.Ta=ya("forwardChannelMaxRetries",2,g),this.va=ya("forwardChannelRequestTimeoutMs",2e4,g),this.ma=g&&g.xmlHttpFactory||void 0,this.Ua=g&&g.Rb||void 0,this.Aa=g&&g.useFetchStreams||!1,this.O=void 0,this.L=g&&g.supportsCrossDomainXhr||!1,this.M="",this.h=new Kd(g&&g.concurrentRequestLimit),this.Ba=new Ks,this.S=g&&g.fastHandshake||!1,this.R=g&&g.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=g&&g.Pb||!1,g&&g.ua&&this.j.ua(),g&&g.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&g&&g.detectBufferingProxy||!1,this.ia=void 0,g&&g.longPollingTimeout&&g.longPollingTimeout>0&&(this.ia=g.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ys.prototype,t.ka=8,t.I=1,t.connect=function(g,T,I,V){hn(0),this.W=g,this.H=T||{},I&&V!==void 0&&(this.H.OSID=I,this.H.OAID=V),this.F=this.X,this.J=vp(this,null,this.W),ba(this)};function af(g){if(Bc(g),g.I==3){var T=g.V++,I=gn(g.J);if(xt(I,"SID",g.M),xt(I,"RID",T),xt(I,"TYPE","terminate"),yl(g,I),T=new ji(g,g.j,T),T.M=2,T.A=fl(gn(I)),I=!1,l.navigator&&l.navigator.sendBeacon)try{I=l.navigator.sendBeacon(T.A.toString(),"")}catch{}!I&&l.Image&&(new Image().src=T.A,I=!0),I||(T.g=yp(T.j,null),T.g.ea(T.A)),T.F=Date.now(),ua(T)}gp(g)}function Ws(g){g.g&&(of(g),g.g.cancel(),g.g=null)}function Bc(g){Ws(g),g.v&&(l.clearTimeout(g.v),g.v=null),Fc(g),g.h.cancel(),g.m&&(typeof g.m=="number"&&l.clearTimeout(g.m),g.m=null)}function ba(g){if(!Gd(g.h)&&!g.m){g.m=!0;var T=g.Ea;U||P(),F||(U(),F=!0),N.add(T,g),g.D=0}}function Uc(g,T){return ha(g.h)>=g.h.j-(g.m?1:0)?!1:g.m?(g.i=T.G.concat(g.i),!0):g.I==1||g.I==2||g.D>=(g.Sa?0:g.Ta)?!1:(g.m=oa(f(g.Ea,g,T),pp(g,g.D)),g.D++,!0)}t.Ea=function(g){if(this.m)if(this.m=null,this.I==1){if(!g){this.V=Math.floor(Math.random()*1e5),g=this.V++;const X=new ji(this,this.j,g);let te=this.o;if(this.U&&(te?(te=H(te),pe(te,this.U)):te=this.U),this.u!==null||this.R||(X.J=te,te=null),this.S)e:{for(var T=0,I=0;I<this.i.length;I++){t:{var V=this.i[I];if("__data__"in V.map&&(V=V.map.__data__,typeof V=="string")){V=V.length;break t}V=void 0}if(V===void 0)break;if(T+=V,T>4096){T=I;break e}if(T===4096||I===this.i.length-1){T=I+1;break e}}T=1e3}else T=1e3;T=dp(this,X,T),I=gn(this.J),xt(I,"RID",g),xt(I,"CVER",22),this.G&&xt(I,"X-HTTP-Session-Id",this.G),yl(this,I),te&&(this.R?T="headers="+qa(di(te))+"&"+T:this.u&&pl(I,this.u,te)),Yd(this.h,X),this.Ra&&xt(I,"TYPE","init"),this.S?(xt(I,"$req",T),xt(I,"SID","null"),X.U=!0,ca(X,I,null)):ca(X,I,T),this.I=2}}else this.I==3&&(g?sf(this,g):this.i.length==0||Gd(this.h)||sf(this))};function sf(g,T){var I;T?I=T.l:I=g.V++;const V=gn(g.J);xt(V,"SID",g.M),xt(V,"RID",I),xt(V,"AID",g.K),yl(g,V),g.u&&g.o&&pl(V,g.u,g.o),I=new ji(g,g.j,I,g.D+1),g.u===null&&(I.J=g.o),T&&(g.i=T.G.concat(g.i)),T=dp(g,I,1e3),I.H=Math.round(g.va*.5)+Math.round(g.va*.5*Math.random()),Yd(g.h,I),ca(I,V,T)}function yl(g,T){g.H&&ve(g.H,function(I,V){xt(T,V,I)}),g.l&&ve({},function(I,V){xt(T,V,I)})}function dp(g,T,I){I=Math.min(g.i.length,I);const V=g.l?f(g.l.Ka,g.l,g):null;e:{var X=g.i;let Xe=-1;for(;;){const on=["count="+I];Xe==-1?I>0?(Xe=X[0].g,on.push("ofs="+Xe)):Xe=0:on.push("ofs="+Xe);let gt=!0;for(let Ut=0;Ut<I;Ut++){var te=X[Ut].g;const fi=X[Ut].map;if(te-=Xe,te<0)Xe=Math.max(0,X[Ut].g-100),gt=!1;else try{te="req"+te+"_"||"";try{var ye=fi instanceof Map?fi:Object.entries(fi);for(const[xa,Ui]of ye){let Fi=Ui;c(Ui)&&(Fi=Us(Ui)),on.push(te+xa+"="+encodeURIComponent(Fi))}}catch(xa){throw on.push(te+"type="+encodeURIComponent("_badmap")),xa}}catch{V&&V(fi)}}if(gt){ye=on.join("&");break e}}ye=void 0}return g=g.i.splice(0,I),T.G=g,ye}function fp(g){if(!g.g&&!g.v){g.Y=1;var T=g.Da;U||P(),F||(U(),F=!0),N.add(T,g),g.A=0}}function bl(g){return g.g||g.v||g.A>=3?!1:(g.Y++,g.v=oa(f(g.Da,g),pp(g,g.A)),g.A++,!0)}t.Da=function(){if(this.v=null,hp(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var g=4*this.T;this.j.info("BP detection timer enabled: "+g),this.B=oa(f(this.Wa,this),g)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,hn(10),Ws(this),hp(this))};function of(g){g.B!=null&&(l.clearTimeout(g.B),g.B=null)}function hp(g){g.g=new ji(g,g.j,"rpc",g.Y),g.u===null&&(g.g.J=g.o),g.g.P=0;var T=gn(g.na);xt(T,"RID","rpc"),xt(T,"SID",g.M),xt(T,"AID",g.K),xt(T,"CI",g.F?"0":"1"),!g.F&&g.ia&&xt(T,"TO",g.ia),xt(T,"TYPE","xmlhttp"),yl(g,T),g.u&&g.o&&pl(T,g.u,g.o),g.O&&(g.g.H=g.O);var I=g.g;g=g.ba,I.M=1,I.A=fl(gn(T)),I.u=null,I.R=!0,Dc(I,g)}t.Va=function(){this.C!=null&&(this.C=null,Ws(this),bl(this),hn(19))};function Fc(g){g.C!=null&&(l.clearTimeout(g.C),g.C=null)}function mp(g,T){var I=null;if(g.g==T){Fc(g),of(g),g.g=null;var V=2}else if(ma(g.h,T))I=T.G,Wd(g.h,T),V=1;else return;if(g.I!=0){if(T.o)if(V==1){I=T.u?T.u.length:0,T=Date.now()-T.F;var X=g.D;V=Rc(),Rn(V,new sa(V,I)),ba(g)}else fp(g);else if(X=T.m,X==3||X==0&&T.X>0||!(V==1&&Uc(g,T)||V==2&&bl(g)))switch(I&&I.length>0&&(T=g.h,T.i=T.i.concat(I)),X){case 1:_a(g,5);break;case 4:_a(g,10);break;case 3:_a(g,6);break;default:_a(g,2)}}}function pp(g,T){let I=g.Qa+Math.floor(Math.random()*g.Za);return g.isActive()||(I*=2),I*T}function _a(g,T){if(g.j.info("Error code "+T),T==2){var I=f(g.bb,g),V=g.Ua;const X=!V;V=new $r(V||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||qn(V,"https"),fl(V),X?Li(V.toString(),I):tf(V.toString(),I)}else hn(2);g.I=0,g.l&&g.l.pa(T),gp(g),Bc(g)}t.bb=function(g){g?(this.j.info("Successfully pinged google.com"),hn(2)):(this.j.info("Failed to ping google.com"),hn(1))};function gp(g){if(g.I=0,g.ja=[],g.l){const T=Xd(g.h);(T.length!=0||g.i.length!=0)&&(w(g.ja,T),w(g.ja,g.i),g.h.i.length=0,x(g.i),g.i.length=0),g.l.oa()}}function vp(g,T,I){var V=I instanceof $r?gn(I):new $r(I);if(V.g!="")T&&(V.g=T+"."+V.g),Fs(V,V.u);else{var X=l.location;V=X.protocol,T=T?T+"."+X.hostname:X.hostname,X=+X.port;const te=new $r(null);V&&qn(te,V),T&&(te.g=T),X&&Fs(te,X),I&&(te.h=I),V=te}return I=g.G,T=g.wa,I&&T&&xt(V,I,T),xt(V,"VER",g.ka),yl(g,V),V}function yp(g,T,I){if(T&&!g.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=g.Aa&&!g.ma?new At(new ga({ab:I})):new At(g.ma),T.Fa(g.L),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function bp(){}t=bp.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Xs(){}Xs.prototype.g=function(g,T){return new yr(g,T)};function yr(g,T){fn.call(this),this.g=new Ys(T),this.l=g,this.h=T&&T.messageUrlParams||null,g=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(g?g["X-WebChannel-Content-Type"]=T.messageContentType:g={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(g?g["X-WebChannel-Client-Profile"]=T.sa:g={"X-WebChannel-Client-Profile":T.sa}),this.g.U=g,(g=T&&T.Qb)&&!z(g)&&(this.g.u=g),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!z(T)&&(this.g.G=T,g=this.h,g!==null&&T in g&&(g=this.h,T in g&&delete g[T])),this.j=new Ka(this)}p(yr,fn),yr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yr.prototype.close=function(){af(this.g)},yr.prototype.o=function(g){var T=this.g;if(typeof g=="string"){var I={};I.__data__=g,g=I}else this.v&&(I={},I.__data__=Us(g),g=I);T.i.push(new pn(T.Ya++,g)),T.I==3&&ba(T)},yr.prototype.N=function(){this.g.l=null,delete this.j,af(this.g),delete this.g,yr.Z.N.call(this)};function _p(g){Jn.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var T=g.__sm__;if(T){e:{for(const I in T){g=I;break e}g=void 0}(this.i=g)&&(g=this.i,T=T!==null&&g in T?T[g]:void 0),this.data=T}else this.data=g}p(_p,Jn);function xp(){li.call(this),this.status=1}p(xp,li);function Ka(g){this.g=g}p(Ka,bp),Ka.prototype.ra=function(){Rn(this.g,"a")},Ka.prototype.qa=function(g){Rn(this.g,new _p(g))},Ka.prototype.pa=function(g){Rn(this.g,new xp)},Ka.prototype.oa=function(){Rn(this.g,"b")},Xs.prototype.createWebChannel=Xs.prototype.g,yr.prototype.send=yr.prototype.o,yr.prototype.open=yr.prototype.m,yr.prototype.close=yr.prototype.close,s4=function(){return new Xs},a4=function(){return Rc()},i4=sn,pw={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ul.NO_ERROR=0,ul.TIMEOUT=8,ul.HTTP_ERROR=6,Qg=ul,$d.COMPLETE="complete",r4=$d,Jm.EventType=ki,ki.OPEN="a",ki.CLOSE="b",ki.ERROR="c",ki.MESSAGE="d",fn.prototype.listen=fn.prototype.J,lh=Jm,At.prototype.listenOnce=At.prototype.K,At.prototype.getLastError=At.prototype.Ha,At.prototype.getLastErrorCode=At.prototype.ya,At.prototype.getStatus=At.prototype.ca,At.prototype.getResponseJson=At.prototype.La,At.prototype.getResponseText=At.prototype.la,At.prototype.send=At.prototype.ea,At.prototype.setWithCredentials=At.prototype.Fa,n4=At}).apply(typeof Sg<"u"?Sg:typeof self<"u"?self:typeof window<"u"?window:{});const nN="@firebase/firestore",rN="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _r=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};_r.UNAUTHENTICATED=new _r(null),_r.GOOGLE_CREDENTIALS=new _r("google-credentials-uid"),_r.FIRST_PARTY=new _r("first-party-uid"),_r.MOCK_USER=new _r("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cd="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oc=new tT("@firebase/firestore");function Iu(){return oc.logLevel}function he(t,...e){if(oc.logLevel<=st.DEBUG){const n=e.map(iT);oc.debug(`Firestore (${Cd}): ${t}`,...n)}}function wr(t,...e){if(oc.logLevel<=st.ERROR){const n=e.map(iT);oc.error(`Firestore (${Cd}): ${t}`,...n)}}function Yu(t,...e){if(oc.logLevel<=st.WARN){const n=e.map(iT);oc.warn(`Firestore (${Cd}): ${t}`,...n)}}function iT(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,o4(t,r,n)}function o4(t,e,n){let r=`FIRESTORE (${Cd}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw wr(r),new Error(r)}function Me(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||o4(e,i,r)}function Ke(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends Ps{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class GF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(_r.UNAUTHENTICATED)))}shutdown(){}}class YF{constructor(e){this.t=e,this.currentUser=_r.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Me(this.o===void 0,42304);let r=this.i;const i=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let a=new Lo;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Lo,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const d=a;e.enqueueRetryable((async()=>{await d.promise,await i(this.currentUser)}))},c=d=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((d=>c(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Lo)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Me(typeof r.accessToken=="string",31837,{l:r}),new KF(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Me(e===null||typeof e=="string",2055,{h:e}),new _r(e)}}class WF{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=_r.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class XF{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new WF(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(_r.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class iN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class QF{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Me(this.o===void 0,3512);const r=a=>{a.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,he("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new iN(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Me(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new iN(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZF(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=ZF(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function $e(t,e){return t<e?-1:t>e?1:0}function gw(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return px(i)===px(a)?$e(i,a):px(i)?1:-1}return $e(t.length,e.length)}const JF=55296,e7=57343;function px(t){const e=t.charCodeAt(0);return e>=JF&&e<=e7}function Wu(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}function l4(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN="__name__";class Aa{constructor(e,n,r){n===void 0?n=0:n>e.length&&Oe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Oe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Aa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Aa?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Aa.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return $e(e.length,n.length)}static compareSegments(e,n){const r=Aa.isNumericId(e),i=Aa.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Aa.extractNumericId(e).compare(Aa.extractNumericId(n)):gw(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Vo.fromString(e.substring(4,e.length-2))}}class _t extends Aa{construct(e,n,r){return new _t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new we(ue.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new _t(n)}static emptyPath(){return new _t([])}}const t7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends Aa{construct(e,n,r){return new Qt(e,n,r)}static isValidIdentifier(e){return t7.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===aN}static keyField(){return new Qt([aN])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new we(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new we(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new we(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(a(),i++)}if(a(),l)throw new we(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(n)}static emptyPath(){return new Qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(_t.fromString(e))}static fromName(e){return new _e(_t.fromString(e).popFirst(5))}static empty(){return new _e(_t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return _t.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new _t(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c4(t,e,n){if(!n)throw new we(ue.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function n7(t,e,n,r){if(e===!0&&r===!0)throw new we(ue.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function sN(t){if(!_e.isDocumentKey(t))throw new we(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function oN(t){if(_e.isDocumentKey(t))throw new we(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function u4(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function sT(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Oe(12329,{type:typeof t})}function Lu(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new we(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=sT(t);throw new we(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(t,e){const n={typeString:t};return e&&(n.value=e),n}function um(t,e){if(!u4(t))throw new we(ue.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&l!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new we(ue.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=-62135596800,cN=1e6;class yt{static now(){return yt.fromMillis(Date.now())}static fromDate(e){return yt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*cN);return new yt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new we(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new we(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<lN)throw new we(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/cN}_compareTo(e){return this.seconds===e.seconds?$e(this.nanoseconds,e.nanoseconds):$e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:yt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(um(e,yt._jsonSchema))return new yt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-lN;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}yt._jsonSchemaVersion="firestore/timestamp/1.0",yt._jsonSchema={type:Sn("string",yt._jsonSchemaVersion),seconds:Sn("number"),nanoseconds:Sn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{static fromTimestamp(e){return new Le(e)}static min(){return new Le(new yt(0,0))}static max(){return new Le(new yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh=-1;class bv{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function vw(t){return t.fields.find((e=>e.kind===2))}function Ll(t){return t.fields.filter((e=>e.kind!==2))}bv.UNKNOWN_ID=-1;class Zg{constructor(e,n){this.fieldPath=e,this.kind=n}}class Ph{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Ph(0,ai.min())}}function r7(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Le.fromTimestamp(r===1e9?new yt(n+1,0):new yt(n,r));return new ai(i,_e.empty(),e)}function d4(t){return new ai(t.readTime,t.key,Nh)}class ai{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ai(Le.min(),_e.empty(),Nh)}static max(){return new ai(Le.max(),_e.empty(),Nh)}}function oT(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(t.documentKey,e.documentKey),n!==0?n:$e(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class h4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ec(t){if(t.code!==ue.FAILED_PRECONDITION||t.message!==f4)throw t;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Y(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Y?n:Y.resolve(n)}catch(n){return Y.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Y.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Y.reject(n)}static resolve(e){return new Y(((n,r)=>{n(e)}))}static reject(e){return new Y(((n,r)=>{r(e)}))}static waitFor(e){return new Y(((n,r)=>{let i=0,a=0,l=!1;e.forEach((c=>{++i,c.next((()=>{++a,l&&a===i&&n()}),(d=>r(d)))})),l=!0,a===i&&n()}))}static or(e){let n=Y.resolve(!1);for(const r of e)n=n.next((i=>i?Y.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new Y(((r,i)=>{const a=e.length,l=new Array(a);let c=0;for(let d=0;d<a;d++){const f=d;n(e[f]).next((m=>{l[f]=m,++c,c===a&&r(l)}),(m=>i(m)))}}))}static doWhile(e,n){return new Y(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr="SimpleDb";class $y{static open(e,n,r,i){try{return new $y(n,e.transaction(i,r))}catch(a){throw new yh(n,a)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new Lo,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new yh(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=lT(r.target.error);this.S.reject(new yh(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(he(Zr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new a7(n)}}class zo{static delete(e){return he(Zr,"Removing database:",e),$l(Fj().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!Wj())return!1;if(zo.F())return!0;const e=jn(),n=zo.M(e),r=0<n&&n<10,i=m4(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)==null?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,zo.M(jn())===12.2&&wr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(he(Zr,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=a=>{const l=a.target.result;n(l)},i.onblocked=()=>{r(new yh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=a=>{const l=a.target.error;l.name==="VersionError"?r(new we(ue.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):l.name==="InvalidStateError"?r(new we(ue.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+l)):r(new yh(e,l))},i.onupgradeneeded=a=>{he(Zr,'Database "'+this.name+'" requires upgrade from version:',a.oldVersion);const l=a.target.result;this.N.k(l,i.transaction,a.oldVersion,this.version).next((()=>{he(Zr,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const a=n==="readonly";let l=0;for(;;){++l;try{this.db=await this.L(e);const c=$y.open(this.db,e,a?"readonly":"readwrite",r),d=i(c).next((f=>(c.C(),f))).catch((f=>(c.abort(f),Y.reject(f)))).toPromise();return d.catch((()=>{})),await c.D,d}catch(c){const d=c,f=d.name!=="FirebaseError"&&l<3;if(he(Zr,"Transaction failed with error:",d.message,"Retrying:",f),this.close(),!f)return Promise.reject(d)}}}close(){this.db&&this.db.close(),this.db=void 0}}function m4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class i7{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return $l(this.U.delete())}}class yh extends we{constructor(e,n){super(ue.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function el(t){return t.name==="IndexedDbTransactionError"}class a7{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(he(Zr,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(he(Zr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),$l(r)}add(e){return he(Zr,"ADD",this.store.name,e,e),$l(this.store.add(e))}get(e){return $l(this.store.get(e)).next((n=>(n===void 0&&(n=null),he(Zr,"GET",this.store.name,e,n),n)))}delete(e){return he(Zr,"DELETE",this.store.name,e),$l(this.store.delete(e))}count(){return he(Zr,"COUNT",this.store.name),$l(this.store.count())}J(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const a=i.getAll(r.range);return new Y(((l,c)=>{a.onerror=d=>{c(d.target.error)},a.onsuccess=d=>{l(d.target.result)}}))}{const a=this.cursor(r),l=[];return this.H(a,((c,d)=>{l.push(d)})).next((()=>l))}}Y(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new Y(((i,a)=>{r.onerror=l=>{a(l.target.error)},r.onsuccess=l=>{i(l.target.result)}}))}Z(e,n){he(Zr,"DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const i=this.cursor(r);return this.H(i,((a,l,c)=>c.delete()))}ee(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.H(i,n)}te(e){const n=this.cursor({});return new Y(((r,i)=>{n.onerror=a=>{const l=lT(a.target.error);i(l)},n.onsuccess=a=>{const l=a.target.result;l?e(l.primaryKey,l.value).next((c=>{c?l.continue():r()})):r()}}))}H(e,n){const r=[];return new Y(((i,a)=>{e.onerror=l=>{a(l.target.error)},e.onsuccess=l=>{const c=l.target.result;if(!c)return void i();const d=new i7(c),f=n(c.primaryKey,c.value,d);if(f instanceof Y){const m=f.catch((p=>(d.done(),Y.reject(p))));r.push(m)}d.isDone?i():d.G===null?c.continue():c.continue(d.G)}})).next((()=>Y.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function $l(t){return new Y(((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=lT(r.target.error);n(i)}}))}let uN=!1;function lT(t){const e=zo.M(jn());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new we("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return uN||(uN=!0,setTimeout((()=>{throw r}),0)),r}}return t}const bh="IndexBackfiller";class s7{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){he(bh,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const n=await this.ne.ie();he(bh,`Documents written: ${n}`)}catch(n){el(n)?he(bh,"Ignoring IndexedDB error during index backfill: ",n):await Ec(n)}await this.re(6e4)}))}}class o7{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,e)))}se(e,n){const r=new Set;let i=n,a=!0;return Y.doWhile((()=>a===!0&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((l=>{if(l!==null&&!r.has(l))return he(bh,`Processing collection: ${l}`),this.oe(e,l,i).next((c=>{i-=c,r.add(l)}));a=!1})))).next((()=>n-i))}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next((a=>{const l=a.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next((()=>this._e(i,a))).next((c=>(he(bh,`Updating offset: ${c}`),this.localStore.indexManager.updateCollectionGroup(e,n,c)))).next((()=>l.size))}))))}_e(e,n){let r=e;return n.changes.forEach(((i,a)=>{const l=d4(a);oT(l,r)>0&&(r=l)})),new ai(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ai.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl=-1;function Hy(t){return t==null}function Rh(t){return t===0&&1/t==-1/0}function l7(t){return typeof t=="number"&&Number.isInteger(t)&&!Rh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v="";function mr(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=dN(e)),e=c7(t.get(n),e);return dN(e)}function c7(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case _v:n+="";break;default:n+=a}}return n}function dN(t){return t+_v+""}function Ia(t){const e=t.length;if(Me(e>=2,64408,{path:t}),e===2)return Me(t.charAt(0)===_v&&t.charAt(1)==="",56145,{path:t}),_t.emptyPath();const n=e-2,r=[];let i="";for(let a=0;a<e;){const l=t.indexOf(_v,a);switch((l<0||l>n)&&Oe(50515,{path:t}),t.charAt(l+1)){case"":const c=t.substring(a,l);let d;i.length===0?d=c:(i+=c,d=i,i=""),r.push(d);break;case"":i+=t.substring(a,l),i+="\0";break;case"":i+=t.substring(a,l+1);break;default:Oe(61167,{path:t})}a=l+2}return new _t(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zl="remoteDocuments",dm="owner",bu="owner",Dh="mutationQueues",u7="userId",Ki="mutations",fN="batchId",Yl="userMutationsIndex",hN=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jg(t,e){return[t,mr(e)]}function p4(t,e,n){return[t,mr(e),n]}const d7={},Xu="documentMutations",xv="remoteDocumentsV14",f7=["prefixPath","collectionGroup","readTime","documentId"],ev="documentKeyIndex",h7=["prefixPath","collectionGroup","documentId"],g4="collectionGroupIndex",m7=["collectionGroup","readTime","prefixPath","documentId"],kh="remoteDocumentGlobal",yw="remoteDocumentGlobalKey",Qu="targets",v4="queryTargetsIndex",p7=["canonicalId","targetId"],Zu="targetDocuments",g7=["targetId","path"],cT="documentTargetsIndex",v7=["path","targetId"],wv="targetGlobalKey",Jl="targetGlobal",Mh="collectionParents",y7=["collectionId","parent"],Ju="clientMetadata",b7="clientId",Ky="bundles",_7="bundleId",Gy="namedQueries",x7="name",uT="indexConfiguration",w7="indexId",bw="collectionGroupIndex",E7="collectionGroup",_h="indexState",T7=["indexId","uid"],y4="sequenceNumberIndex",S7=["uid","sequenceNumber"],xh="indexEntries",A7=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],b4="documentKeyIndex",C7=["indexId","uid","orderedDocumentKey"],Yy="documentOverlays",I7=["userId","collectionPath","documentId"],_w="collectionPathOverlayIndex",O7=["userId","collectionPath","largestBatchId"],_4="collectionGroupOverlayIndex",N7=["userId","collectionGroup","largestBatchId"],dT="globals",P7="name",x4=[Dh,Ki,Xu,zl,Qu,dm,Jl,Zu,Ju,kh,Mh,Ky,Gy],R7=[...x4,Yy],w4=[Dh,Ki,Xu,xv,Qu,dm,Jl,Zu,Ju,kh,Mh,Ky,Gy,Yy],E4=w4,fT=[...E4,uT,_h,xh],D7=fT,T4=[...fT,dT],k7=T4;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw extends h4{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function Vn(t,e){const n=Ke(t);return zo.O(n.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Tc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function S4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n){this.comparator=e,this.root=n||sr.EMPTY}insert(e,n){return new Wt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,sr.BLACK,null,null))}remove(e){return new Wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ag(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ag(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ag(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ag(this.root,e,this.comparator,!0)}}class Ag{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sr{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??sr.RED,this.left=i??sr.EMPTY,this.right=a??sr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new sr(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return sr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return sr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Oe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Oe(27949);return e+(this.isRed()?0:1)}}sr.EMPTY=null,sr.RED=!0,sr.BLACK=!1;sr.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe(57766)}get value(){throw Oe(16141)}get color(){throw Oe(16727)}get left(){throw Oe(29726)}get right(){throw Oe(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new sr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.comparator=e,this.data=new Wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new pN(this.data.getIterator())}getIteratorFrom(e){return new pN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof St)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new St(this.comparator);return n.data=e,n}}class pN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function _u(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new Ci([])}unionWith(e){let n=new St(Qt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ci(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Wu(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new A4("Invalid base64 string: "+a):a}})(e);return new On(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a})(e);return new On(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}On.EMPTY_BYTE_STRING=new On("");const M7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _s(t){if(Me(!!t,39018),typeof t=="string"){let e=0;const n=M7.exec(t);if(Me(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ht(t.seconds),nanos:Ht(t.nanos)}}function Ht(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function xs(t){return typeof t=="string"?On.fromBase64String(t):On.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4="server_timestamp",I4="__type__",O4="__previous_value__",N4="__local_write_time__";function hT(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[I4])==null?void 0:r.stringValue)===C4}function Wy(t){const e=t.mapValue.fields[O4];return hT(e)?Wy(e):e}function jh(t){const e=_s(t.mapValue.fields[N4].timestampValue);return new yt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j7{constructor(e,n,r,i,a,l,c,d,f,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=f,this.isUsingEmulator=m}}const Ev="(default)";class lc{constructor(e,n){this.projectId=e,this.database=n||Ev}static empty(){return new lc("","")}get isDefaultDatabase(){return this.database===Ev}isEqual(e){return e instanceof lc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="__type__",P4="__max__",Do={mapValue:{fields:{__type__:{stringValue:P4}}}},pT="__vector__",ed="value",tv={nullValue:"NULL_VALUE"};function $o(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?hT(t)?4:R4(t)?9007199254740991:Xy(t)?10:11:Oe(28295,{value:t})}function Va(t,e){if(t===e)return!0;const n=$o(t);if(n!==$o(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return jh(t).isEqual(jh(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=_s(i.timestampValue),c=_s(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return xs(i.bytesValue).isEqual(xs(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return Ht(i.geoPointValue.latitude)===Ht(a.geoPointValue.latitude)&&Ht(i.geoPointValue.longitude)===Ht(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return Ht(i.integerValue)===Ht(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=Ht(i.doubleValue),c=Ht(a.doubleValue);return l===c?Rh(l)===Rh(c):isNaN(l)&&isNaN(c)}return!1})(t,e);case 9:return Wu(t.arrayValue.values||[],e.arrayValue.values||[],Va);case 10:case 11:return(function(i,a){const l=i.mapValue.fields||{},c=a.mapValue.fields||{};if(mN(l)!==mN(c))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(c[d]===void 0||!Va(l[d],c[d])))return!1;return!0})(t,e);default:return Oe(52216,{left:t})}}function Vh(t,e){return(t.values||[]).find((n=>Va(n,e)))!==void 0}function Ho(t,e){if(t===e)return 0;const n=$o(t),r=$o(e);if(n!==r)return $e(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return $e(t.booleanValue,e.booleanValue);case 2:return(function(a,l){const c=Ht(a.integerValue||a.doubleValue),d=Ht(l.integerValue||l.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1})(t,e);case 3:return gN(t.timestampValue,e.timestampValue);case 4:return gN(jh(t),jh(e));case 5:return gw(t.stringValue,e.stringValue);case 6:return(function(a,l){const c=xs(a),d=xs(l);return c.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(a,l){const c=a.split("/"),d=l.split("/");for(let f=0;f<c.length&&f<d.length;f++){const m=$e(c[f],d[f]);if(m!==0)return m}return $e(c.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,l){const c=$e(Ht(a.latitude),Ht(l.latitude));return c!==0?c:$e(Ht(a.longitude),Ht(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return vN(t.arrayValue,e.arrayValue);case 10:return(function(a,l){var y,x,w,E;const c=a.fields||{},d=l.fields||{},f=(y=c[ed])==null?void 0:y.arrayValue,m=(x=d[ed])==null?void 0:x.arrayValue,p=$e(((w=f==null?void 0:f.values)==null?void 0:w.length)||0,((E=m==null?void 0:m.values)==null?void 0:E.length)||0);return p!==0?p:vN(f,m)})(t.mapValue,e.mapValue);case 11:return(function(a,l){if(a===Do.mapValue&&l===Do.mapValue)return 0;if(a===Do.mapValue)return 1;if(l===Do.mapValue)return-1;const c=a.fields||{},d=Object.keys(c),f=l.fields||{},m=Object.keys(f);d.sort(),m.sort();for(let p=0;p<d.length&&p<m.length;++p){const y=gw(d[p],m[p]);if(y!==0)return y;const x=Ho(c[d[p]],f[m[p]]);if(x!==0)return x}return $e(d.length,m.length)})(t.mapValue,e.mapValue);default:throw Oe(23264,{he:n})}}function gN(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return $e(t,e);const n=_s(t),r=_s(e),i=$e(n.seconds,r.seconds);return i!==0?i:$e(n.nanos,r.nanos)}function vN(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=Ho(n[i],r[i]);if(a)return a}return $e(n.length,r.length)}function td(t){return ww(t)}function ww(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=_s(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return xs(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return _e.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=ww(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${ww(n.fields[l])}`;return i+"}"})(t.mapValue):Oe(61005,{value:t})}function nv(t){switch($o(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Wy(t);return e?16+nv(e):16;case 5:return 2*t.stringValue.length;case 6:return xs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+nv(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Tc(r.fields,((a,l)=>{i+=a.length+nv(l)})),i})(t.mapValue);default:throw Oe(13486,{value:t})}}function gT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ew(t){return!!t&&"integerValue"in t}function Lh(t){return!!t&&"arrayValue"in t}function yN(t){return!!t&&"nullValue"in t}function bN(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function rv(t){return!!t&&"mapValue"in t}function Xy(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[mT])==null?void 0:r.stringValue)===pT}function wh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Tc(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=wh(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=wh(t.arrayValue.values[n]);return e}return{...t}}function R4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===P4}const D4={mapValue:{fields:{[mT]:{stringValue:pT},[ed]:{arrayValue:{}}}}};function V7(t){return"nullValue"in t?tv:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?gT(lc.empty(),_e.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?Xy(t)?D4:{mapValue:{}}:Oe(35942,{value:t})}function L7(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?gT(lc.empty(),_e.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?D4:"mapValue"in t?Xy(t)?{mapValue:{}}:Do:Oe(61959,{value:t})}function _N(t,e){const n=Ho(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function xN(t,e){const n=Ho(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e){this.value=e}static empty(){return new Lr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!rv(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=wh(n)}setAll(e){let n=Qt.emptyPath(),r={},i=[];e.forEach(((l,c)=>{if(!n.isImmediateParentOf(c)){const d=this.getFieldsMap(n);this.applyChanges(d,r,i),r={},i=[],n=c.popLast()}l?r[c.lastSegment()]=wh(l):i.push(c.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());rv(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Va(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];rv(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Tc(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new Lr(wh(this.value))}}function k4(t){const e=[];return Tc(t.fields,((n,r)=>{const i=new Qt([n]);if(rv(r)){const a=k4(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)})),new Ci(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,n,r,i,a,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(e){return new nn(e,0,Le.min(),Le.min(),Le.min(),Lr.empty(),0)}static newFoundDocument(e,n,r,i){return new nn(e,1,n,Le.min(),r,i,0)}static newNoDocument(e,n){return new nn(e,2,n,Le.min(),Le.min(),Lr.empty(),0)}static newUnknownDocument(e,n){return new nn(e,3,n,Le.min(),Le.min(),Lr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Lr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Lr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e,n){this.position=e,this.inclusive=n}}function wN(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],l=t.position[i];if(a.field.isKeyField()?r=_e.comparator(_e.fromName(l.referenceValue),n.key):r=Ho(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function EN(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Va(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e,n="asc"){this.field=e,this.dir=n}}function z7(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{}class lt extends M4{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new B7(e,n,r):n==="array-contains"?new q7(e,r):n==="in"?new U4(e,r):n==="not-in"?new $7(e,r):n==="array-contains-any"?new H7(e,r):new lt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new U7(e,r):new F7(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ho(n,this.value)):n!==null&&$o(this.value)===$o(n)&&this.matchesComparison(Ho(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pt extends M4{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Pt(e,n)}matches(e){return rd(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function rd(t){return t.op==="and"}function Tw(t){return t.op==="or"}function vT(t){return j4(t)&&rd(t)}function j4(t){for(const e of t.filters)if(e instanceof Pt)return!1;return!0}function Sw(t){if(t instanceof lt)return t.field.canonicalString()+t.op.toString()+td(t.value);if(vT(t))return t.filters.map((e=>Sw(e))).join(",");{const e=t.filters.map((n=>Sw(n))).join(",");return`${t.op}(${e})`}}function V4(t,e){return t instanceof lt?(function(r,i){return i instanceof lt&&r.op===i.op&&r.field.isEqual(i.field)&&Va(r.value,i.value)})(t,e):t instanceof Pt?(function(r,i){return i instanceof Pt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,l,c)=>a&&V4(l,i.filters[c])),!0):!1})(t,e):void Oe(19439)}function L4(t,e){const n=t.filters.concat(e);return Pt.create(n,t.op)}function z4(t){return t instanceof lt?(function(n){return`${n.field.canonicalString()} ${n.op} ${td(n.value)}`})(t):t instanceof Pt?(function(n){return n.op.toString()+" {"+n.getFilters().map(z4).join(" ,")+"}"})(t):"Filter"}class B7 extends lt{constructor(e,n,r){super(e,n,r),this.key=_e.fromName(r.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class U7 extends lt{constructor(e,n){super(e,"in",n),this.keys=B4("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class F7 extends lt{constructor(e,n){super(e,"not-in",n),this.keys=B4("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function B4(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>_e.fromName(r.referenceValue)))}class q7 extends lt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Lh(n)&&Vh(n.arrayValue,this.value)}}class U4 extends lt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Vh(this.value.arrayValue,n)}}class $7 extends lt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Vh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Vh(this.value.arrayValue,n)}}class H7 extends lt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Lh(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Vh(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K7{constructor(e,n=null,r=[],i=[],a=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=c,this.Te=null}}function Aw(t,e=null,n=[],r=[],i=null,a=null,l=null){return new K7(t,e,n,r,i,a,l)}function cc(t){const e=Ke(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Sw(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),Hy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>td(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>td(r))).join(",")),e.Te=n}return e.Te}function fm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!z7(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!V4(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!EN(t.startAt,e.startAt)&&EN(t.endAt,e.endAt)}function Sv(t){return _e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Av(t,e){return t.filters.filter((n=>n instanceof lt&&n.field.isEqual(e)))}function TN(t,e,n){let r=tv,i=!0;for(const a of Av(t,e)){let l=tv,c=!0;switch(a.op){case"<":case"<=":l=V7(a.value);break;case"==":case"in":case">=":l=a.value;break;case">":l=a.value,c=!1;break;case"!=":case"not-in":l=tv}_N({value:r,inclusive:i},{value:l,inclusive:c})<0&&(r=l,i=c)}if(n!==null){for(let a=0;a<t.orderBy.length;++a)if(t.orderBy[a].field.isEqual(e)){const l=n.position[a];_N({value:r,inclusive:i},{value:l,inclusive:n.inclusive})<0&&(r=l,i=n.inclusive);break}}return{value:r,inclusive:i}}function SN(t,e,n){let r=Do,i=!0;for(const a of Av(t,e)){let l=Do,c=!0;switch(a.op){case">=":case">":l=L7(a.value),c=!1;break;case"==":case"in":case"<=":l=a.value;break;case"<":l=a.value,c=!1;break;case"!=":case"not-in":l=Do}xN({value:r,inclusive:i},{value:l,inclusive:c})>0&&(r=l,i=c)}if(n!==null){for(let a=0;a<t.orderBy.length;++a)if(t.orderBy[a].field.isEqual(e)){const l=n.position[a];xN({value:r,inclusive:i},{value:l,inclusive:n.inclusive})>0&&(r=l,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(e,n=null,r=[],i=[],a=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function G7(t,e,n,r,i,a,l,c){return new Qy(t,e,n,r,i,a,l,c)}function Zy(t){return new Qy(t)}function AN(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Y7(t){return t.collectionGroup!==null}function Eh(t){const e=Ke(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new St(Qt.comparator);return l.filters.forEach((d=>{d.getFlattenedFilters().forEach((f=>{f.isInequality()&&(c=c.add(f.field))}))})),c})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Tv(a,r))})),n.has(Qt.keyField().canonicalString())||e.Ie.push(new Tv(Qt.keyField(),r))}return e.Ie}function Oi(t){const e=Ke(t);return e.Ee||(e.Ee=W7(e,Eh(t))),e.Ee}function W7(t,e){if(t.limitType==="F")return Aw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new Tv(i.field,a)}));const n=t.endAt?new nd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new nd(t.startAt.position,t.startAt.inclusive):null;return Aw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Cw(t,e,n){return new Qy(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Jy(t,e){return fm(Oi(t),Oi(e))&&t.limitType===e.limitType}function F4(t){return`${cc(Oi(t))}|lt:${t.limitType}`}function Ou(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>z4(i))).join(", ")}]`),Hy(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>td(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>td(i))).join(",")),`Target(${r})`})(Oi(t))}; limitType=${t.limitType})`}function hm(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):_e.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of Eh(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,c,d){const f=wN(l,c,d);return l.inclusive?f<=0:f<0})(r.startAt,Eh(r),i)||r.endAt&&!(function(l,c,d){const f=wN(l,c,d);return l.inclusive?f>=0:f>0})(r.endAt,Eh(r),i))})(t,e)}function X7(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function q4(t){return(e,n)=>{let r=!1;for(const i of Eh(t)){const a=Q7(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function Q7(t,e,n){const r=t.field.isKeyField()?_e.comparator(e.key,n.key):(function(a,l,c){const d=l.data.field(a),f=c.data.field(a);return d!==null&&f!==null?Ho(d,f):Oe(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Oe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Tc(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return S4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z7=new Wt(_e.comparator);function ti(){return Z7}const $4=new Wt(_e.comparator);function ch(...t){let e=$4;for(const n of t)e=e.insert(n.key,n);return e}function H4(t){let e=$4;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Oa(){return Th()}function K4(){return Th()}function Th(){return new Rs((t=>t.toString()),((t,e)=>t.isEqual(e)))}const J7=new Wt(_e.comparator),eq=new St(_e.comparator);function et(...t){let e=eq;for(const n of t)e=e.add(n);return e}const tq=new St($e);function nq(){return tq}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rh(e)?"-0":e}}function G4(t){return{integerValue:""+t}}function rq(t,e){return l7(e)?G4(e):yT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(){this._=void 0}}function iq(t,e,n){return t instanceof zh?(function(i,a){const l={fields:{[I4]:{stringValue:C4},[N4]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&hT(a)&&(a=Wy(a)),a&&(l.fields[O4]=a),{mapValue:l}})(n,e):t instanceof id?W4(t,e):t instanceof ad?X4(t,e):(function(i,a){const l=Y4(i,a),c=CN(l)+CN(i.Ae);return Ew(l)&&Ew(i.Ae)?G4(c):yT(i.serializer,c)})(t,e)}function aq(t,e,n){return t instanceof id?W4(t,e):t instanceof ad?X4(t,e):n}function Y4(t,e){return t instanceof Bh?(function(r){return Ew(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class zh extends e0{}class id extends e0{constructor(e){super(),this.elements=e}}function W4(t,e){const n=Q4(e);for(const r of t.elements)n.some((i=>Va(i,r)))||n.push(r);return{arrayValue:{values:n}}}class ad extends e0{constructor(e){super(),this.elements=e}}function X4(t,e){let n=Q4(e);for(const r of t.elements)n=n.filter((i=>!Va(i,r)));return{arrayValue:{values:n}}}class Bh extends e0{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function CN(t){return Ht(t.integerValue||t.doubleValue)}function Q4(t){return Lh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sq{constructor(e,n){this.field=e,this.transform=n}}function oq(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof id&&i instanceof id||r instanceof ad&&i instanceof ad?Wu(r.elements,i.elements,Va):r instanceof Bh&&i instanceof Bh?Va(r.Ae,i.Ae):r instanceof zh&&i instanceof zh})(t.transform,e.transform)}class lq{constructor(e,n){this.version=e,this.transformResults=n}}class ni{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ni}static exists(e){return new ni(void 0,e)}static updateTime(e){return new ni(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function iv(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class t0{}function Z4(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new bT(t.key,ni.none()):new Id(t.key,t.data,ni.none());{const n=t.data,r=Lr.empty();let i=new St(Qt.comparator);for(let a of e.fields)if(!i.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new tl(t.key,r,new Ci(i.toArray()),ni.none())}}function cq(t,e,n){t instanceof Id?(function(i,a,l){const c=i.value.clone(),d=ON(i.fieldTransforms,a,l.transformResults);c.setAll(d),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(t,e,n):t instanceof tl?(function(i,a,l){if(!iv(i.precondition,a))return void a.convertToUnknownDocument(l.version);const c=ON(i.fieldTransforms,a,l.transformResults),d=a.data;d.setAll(J4(i)),d.setAll(c),a.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(t,e,n):(function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function Sh(t,e,n,r){return t instanceof Id?(function(a,l,c,d){if(!iv(a.precondition,l))return c;const f=a.value.clone(),m=NN(a.fieldTransforms,d,l);return f.setAll(m),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof tl?(function(a,l,c,d){if(!iv(a.precondition,l))return c;const f=NN(a.fieldTransforms,d,l),m=l.data;return m.setAll(J4(a)),m.setAll(f),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(a,l,c){return iv(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(t,e,n)}function uq(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=Y4(r.transform,i||null);a!=null&&(n===null&&(n=Lr.empty()),n.set(r.field,a))}return n||null}function IN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Wu(r,i,((a,l)=>oq(a,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Id extends t0{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class tl extends t0{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function J4(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function ON(t,e,n){const r=new Map;Me(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],l=a.transform,c=e.data.field(a.field);r.set(a.field,aq(l,c,n[i]))}return r}function NN(t,e,n){const r=new Map;for(const i of t){const a=i.transform,l=n.data.field(i.field);r.set(i.field,iq(a,l,e))}return r}class bT extends t0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class eV extends t0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&cq(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Sh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Sh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=K4();return this.mutations.forEach((i=>{const a=e.get(i.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=n.has(i.key)?null:c;const d=Z4(l,c);d!==null&&r.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(Le.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),et())}isEqual(e){return this.batchId===e.batchId&&Wu(this.mutations,e.mutations,((n,r)=>IN(n,r)))&&Wu(this.baseMutations,e.baseMutations,((n,r)=>IN(n,r)))}}class xT{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Me(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return J7})();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new xT(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dq{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wn,ut;function fq(t){switch(t){case ue.OK:return Oe(64938);case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return Oe(15467,{code:t})}}function tV(t){if(t===void 0)return wr("GRPC error has no .code"),ue.UNKNOWN;switch(t){case wn.OK:return ue.OK;case wn.CANCELLED:return ue.CANCELLED;case wn.UNKNOWN:return ue.UNKNOWN;case wn.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case wn.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case wn.INTERNAL:return ue.INTERNAL;case wn.UNAVAILABLE:return ue.UNAVAILABLE;case wn.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case wn.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case wn.NOT_FOUND:return ue.NOT_FOUND;case wn.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case wn.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case wn.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case wn.ABORTED:return ue.ABORTED;case wn.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case wn.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case wn.DATA_LOSS:return ue.DATA_LOSS;default:return Oe(39323,{code:t})}}(ut=wn||(wn={}))[ut.OK=0]="OK",ut[ut.CANCELLED=1]="CANCELLED",ut[ut.UNKNOWN=2]="UNKNOWN",ut[ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ut[ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ut[ut.NOT_FOUND=5]="NOT_FOUND",ut[ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",ut[ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",ut[ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",ut[ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ut[ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ut[ut.ABORTED=10]="ABORTED",ut[ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",ut[ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",ut[ut.INTERNAL=13]="INTERNAL",ut[ut.UNAVAILABLE=14]="UNAVAILABLE",ut[ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hq(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mq=new Vo([4294967295,4294967295],0);function PN(t){const e=hq().encode(t),n=new t4;return n.update(e),new Uint8Array(n.digest())}function RN(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Vo([n,r],0),new Vo([i,a],0)]}class ET{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new uh(`Invalid padding: ${n}`);if(r<0)throw new uh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new uh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new uh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Vo.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Vo.fromNumber(r)));return i.compare(mq)===1&&(i=new Vo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=PN(e),[r,i]=RN(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,i,a);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new ET(a,i,n);return r.forEach((c=>l.insert(c))),l}insert(e){if(this.ge===0)return;const n=PN(e),[r,i]=RN(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,i,a);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class uh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,mm.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new n0(Le.min(),i,new Wt($e),ti(),et())}}class mm{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new mm(r,n,et(),et(),et())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class nV{constructor(e,n){this.targetId=e,this.Ce=n}}class rV{constructor(e,n,r=On.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class DN{constructor(){this.ve=0,this.Fe=kN(),this.Me=On.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=et(),n=et(),r=et();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Oe(38017,{changeType:a})}})),new mm(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=kN()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Me(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class pq{constructor(e){this.Ge=e,this.ze=new Map,this.je=ti(),this.Je=Cg(),this.He=Cg(),this.Ye=new Wt($e)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Oe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(Sv(a))if(r===0){const l=new _e(a.path);this.et(n,l,nn.newNoDocument(l,Le.min()))}else Me(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const c=this.ut(e),d=c?this.ct(c,e,l):1;if(d!==0){this.it(n);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let l,c;try{l=xs(r).toUint8Array()}catch(d){if(d instanceof A4)return Yu("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new ET(l,i,a)}catch(d){return Yu(d instanceof uh?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.et(n,a,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((a,l)=>{const c=this.ot(l);if(c){if(a.current&&Sv(c.target)){const d=new _e(c.target.path);this.It(d).has(l)||this.Et(l,d)||this.et(l,d,nn.newNoDocument(d,e))}a.Be&&(n.set(l,a.ke()),a.qe())}}));let r=et();this.He.forEach(((a,l)=>{let c=!0;l.forEachWhile((d=>{const f=this.ot(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(a))})),this.je.forEach(((a,l)=>l.setReadTime(e)));const i=new n0(e,n,this.Ye,this.je,r);return this.je=ti(),this.Je=Cg(),this.He=Cg(),this.Ye=new Wt($e),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new DN,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new St($e),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new St($e),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new DN),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Cg(){return new Wt(_e.comparator)}function kN(){return new Wt(_e.comparator)}const gq={asc:"ASCENDING",desc:"DESCENDING"},vq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yq={and:"AND",or:"OR"};class bq{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Iw(t,e){return t.useProto3Json||Hy(e)?e:{value:e}}function sd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function iV(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function _q(t,e){return sd(t,e.toTimestamp())}function Tr(t){return Me(!!t,49232),Le.fromTimestamp((function(n){const r=_s(n);return new yt(r.seconds,r.nanos)})(t))}function TT(t,e){return Ow(t,e).canonicalString()}function Ow(t,e){const n=(function(i){return new _t(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function aV(t){const e=_t.fromString(t);return Me(mV(e),10190,{key:e.toString()}),e}function Cv(t,e){return TT(t.databaseId,e.path)}function ec(t,e){const n=aV(e);if(n.get(1)!==t.databaseId.projectId)throw new we(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new we(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _e(lV(n))}function sV(t,e){return TT(t.databaseId,e)}function oV(t){const e=aV(t);return e.length===4?_t.emptyPath():lV(e)}function Nw(t){return new _t(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function lV(t){return Me(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function MN(t,e,n){return{name:Cv(t,e),fields:n.value.mapValue.fields}}function xq(t,e,n){const r=ec(t,e.name),i=Tr(e.updateTime),a=e.createTime?Tr(e.createTime):Le.min(),l=new Lr({mapValue:{fields:e.fields}}),c=nn.newFoundDocument(r,i,a,l);return n&&c.setHasCommittedMutations(),n?c.setHasCommittedMutations():c}function wq(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Oe(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(f,m){return f.useProto3Json?(Me(m===void 0||typeof m=="string",58123),On.fromBase64String(m||"")):(Me(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),On.fromUint8Array(m||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(f){const m=f.code===void 0?ue.UNKNOWN:tV(f.code);return new we(m,f.message||"")})(l);n=new rV(r,i,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ec(t,r.document.name),a=Tr(r.document.updateTime),l=r.document.createTime?Tr(r.document.createTime):Le.min(),c=new Lr({mapValue:{fields:r.document.fields}}),d=nn.newFoundDocument(i,a,l,c),f=r.targetIds||[],m=r.removedTargetIds||[];n=new av(f,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ec(t,r.document),a=r.readTime?Tr(r.readTime):Le.min(),l=nn.newNoDocument(i,a),c=r.removedTargetIds||[];n=new av([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ec(t,r.document),a=r.removedTargetIds||[];n=new av([],a,i,null)}else{if(!("filter"in e))return Oe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new dq(i,a),c=r.targetId;n=new nV(c,l)}}return n}function Iv(t,e){let n;if(e instanceof Id)n={update:MN(t,e.key,e.value)};else if(e instanceof bT)n={delete:Cv(t,e.key)};else if(e instanceof tl)n={update:MN(t,e.key,e.data),updateMask:Iq(e.fieldMask)};else{if(!(e instanceof eV))return Oe(16599,{Vt:e.type});n={verify:Cv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,l){const c=l.transform;if(c instanceof zh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof id)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof ad)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Bh)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw Oe(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:_q(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Oe(27497)})(t,e.precondition)),n}function Pw(t,e){const n=e.currentDocument?(function(a){return a.updateTime!==void 0?ni.updateTime(Tr(a.updateTime)):a.exists!==void 0?ni.exists(a.exists):ni.none()})(e.currentDocument):ni.none(),r=e.updateTransforms?e.updateTransforms.map((i=>(function(l,c){let d=null;if("setToServerValue"in c)Me(c.setToServerValue==="REQUEST_TIME",16630,{proto:c}),d=new zh;else if("appendMissingElements"in c){const m=c.appendMissingElements.values||[];d=new id(m)}else if("removeAllFromArray"in c){const m=c.removeAllFromArray.values||[];d=new ad(m)}else"increment"in c?d=new Bh(l,c.increment):Oe(16584,{proto:c});const f=Qt.fromServerFormat(c.fieldPath);return new sq(f,d)})(t,i))):[];if(e.update){e.update.name;const i=ec(t,e.update.name),a=new Lr({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=(function(d){const f=d.fieldPaths||[];return new Ci(f.map((m=>Qt.fromServerFormat(m))))})(e.updateMask);return new tl(i,a,l,n,r)}return new Id(i,a,n,r)}if(e.delete){const i=ec(t,e.delete);return new bT(i,n)}if(e.verify){const i=ec(t,e.verify);return new eV(i,n)}return Oe(1463,{proto:e})}function Eq(t,e){return t&&t.length>0?(Me(e!==void 0,14353),t.map((n=>(function(i,a){let l=i.updateTime?Tr(i.updateTime):Tr(a);return l.isEqual(Le.min())&&(l=Tr(a)),new lq(l,i.transformResults||[])})(n,e)))):[]}function cV(t,e){return{documents:[sV(t,e.path)]}}function uV(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=sV(t,i);const a=(function(f){if(f.length!==0)return hV(Pt.create(f,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const l=(function(f){if(f.length!==0)return f.map((m=>(function(y){return{field:Nu(y.field),direction:Sq(y.dir)}})(m)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=Iw(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:i}}function dV(t){let e=oV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Me(r===1,65062);const m=n.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let a=[];n.where&&(a=(function(p){const y=fV(p);return y instanceof Pt&&vT(y)?y.getFilters():[y]})(n.where));let l=[];n.orderBy&&(l=(function(p){return p.map((y=>(function(w){return new Tv(Pu(w.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(w.direction))})(y)))})(n.orderBy));let c=null;n.limit&&(c=(function(p){let y;return y=typeof p=="object"?p.value:p,Hy(y)?null:y})(n.limit));let d=null;n.startAt&&(d=(function(p){const y=!!p.before,x=p.values||[];return new nd(x,y)})(n.startAt));let f=null;return n.endAt&&(f=(function(p){const y=!p.before,x=p.values||[];return new nd(x,y)})(n.endAt)),G7(e,i,l,a,c,"F",d,f)}function Tq(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Oe(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function fV(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Pu(n.unaryFilter.field);return lt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Pu(n.unaryFilter.field);return lt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Pu(n.unaryFilter.field);return lt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Pu(n.unaryFilter.field);return lt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Oe(61313);default:return Oe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return lt.create(Pu(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Oe(58110);default:return Oe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Pt.create(n.compositeFilter.filters.map((r=>fV(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Oe(1026)}})(n.compositeFilter.op))})(t):Oe(30097,{filter:t})}function Sq(t){return gq[t]}function Aq(t){return vq[t]}function Cq(t){return yq[t]}function Nu(t){return{fieldPath:t.canonicalString()}}function Pu(t){return Qt.fromServerFormat(t.fieldPath)}function hV(t){return t instanceof lt?(function(n){if(n.op==="=="){if(bN(n.value))return{unaryFilter:{field:Nu(n.field),op:"IS_NAN"}};if(yN(n.value))return{unaryFilter:{field:Nu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(bN(n.value))return{unaryFilter:{field:Nu(n.field),op:"IS_NOT_NAN"}};if(yN(n.value))return{unaryFilter:{field:Nu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Nu(n.field),op:Aq(n.op),value:n.value}}})(t):t instanceof Pt?(function(n){const r=n.getFilters().map((i=>hV(i)));return r.length===1?r[0]:{compositeFilter:{op:Cq(n.op),filters:r}}})(t):Oe(54877,{filter:t})}function Iq(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function mV(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e,n,r,i,a=Le.min(),l=Le.min(),c=On.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new ds(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(e){this.yt=e}}function Oq(t,e){let n;if(e.document)n=xq(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=_e.fromSegments(e.noDocument.path),i=dc(e.noDocument.readTime);n=nn.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Oe(56709);{const r=_e.fromSegments(e.unknownDocument.path),i=dc(e.unknownDocument.version);n=nn.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime((function(i){const a=new yt(i[0],i[1]);return Le.fromTimestamp(a)})(e.readTime)),n}function jN(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Ov(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(a,l){return{name:Cv(a,l.key),fields:l.data.value.mapValue.fields,updateTime:sd(a,l.version.toTimestamp()),createTime:sd(a,l.createTime.toTimestamp())}})(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:uc(e.version)};else{if(!e.isUnknownDocument())return Oe(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:uc(e.version)}}return r}function Ov(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function uc(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function dc(t){const e=new yt(t.seconds,t.nanoseconds);return Le.fromTimestamp(e)}function Hl(t,e){const n=(e.baseMutations||[]).map((a=>Pw(t.yt,a)));for(let a=0;a<e.mutations.length-1;++a){const l=e.mutations[a];if(a+1<e.mutations.length&&e.mutations[a+1].transform!==void 0){const c=e.mutations[a+1];l.updateTransforms=c.transform.fieldTransforms,e.mutations.splice(a+1,1),++a}}const r=e.mutations.map((a=>Pw(t.yt,a))),i=yt.fromMillis(e.localWriteTimeMs);return new _T(e.batchId,i,n,r)}function dh(t){const e=dc(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?dc(t.lastLimboFreeSnapshotVersion):Le.min();let r;return r=(function(a){return a.documents!==void 0})(t.query)?(function(a){const l=a.documents.length;return Me(l===1,1966,{count:l}),Oi(Zy(oV(a.documents[0])))})(t.query):(function(a){return Oi(dV(a))})(t.query),new ds(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,On.fromBase64String(t.resumeToken))}function gV(t,e){const n=uc(e.snapshotVersion),r=uc(e.lastLimboFreeSnapshotVersion);let i;i=Sv(e.target)?cV(t.yt,e.target):uV(t.yt,e.target).ft;const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:cc(e.target),readTime:n,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function vV(t){const e=dV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Cw(e,e.limit,"L"):e}function gx(t,e){return new wT(e.largestBatchId,Pw(t.yt,e.overlayMutation))}function VN(t,e){const n=e.path.lastSegment();return[t,mr(e.path.popLast()),n]}function LN(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:uc(r.readTime),documentKey:mr(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nq{getBundleMetadata(e,n){return zN(e).get(n).next((r=>{if(r)return(function(a){return{id:a.bundleId,createTime:dc(a.createTime),version:a.version}})(r)}))}saveBundleMetadata(e,n){return zN(e).put((function(i){return{bundleId:i.id,createTime:uc(Tr(i.createTime)),version:i.version}})(n))}getNamedQuery(e,n){return BN(e).get(n).next((r=>{if(r)return(function(a){return{name:a.name,query:vV(a.bundledQuery),readTime:dc(a.readTime)}})(r)}))}saveNamedQuery(e,n){return BN(e).put((function(i){return{name:i.name,readTime:uc(Tr(i.readTime)),bundledQuery:i.bundledQuery}})(n))}}function zN(t){return Vn(t,Ky)}function BN(t){return Vn(t,Gy)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new r0(e,r)}getOverlay(e,n){return Kf(e).get(VN(this.userId,n)).next((r=>r?gx(this.serializer,r):null))}getOverlays(e,n){const r=Oa();return Y.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){const i=[];return r.forEach(((a,l)=>{const c=new wT(n,l);i.push(this.St(e,c))})),Y.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach((l=>i.add(mr(l.getCollectionPath()))));const a=[];return i.forEach((l=>{const c=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);a.push(Kf(e).Z(_w,c))})),Y.waitFor(a)}getOverlaysForCollection(e,n,r){const i=Oa(),a=mr(n),l=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Kf(e).J(_w,l).next((c=>{for(const d of c){const f=gx(this.serializer,d);i.set(f.getKey(),f)}return i}))}getOverlaysForCollectionGroup(e,n,r,i){const a=Oa();let l;const c=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Kf(e).ee({index:_4,range:c},((d,f,m)=>{const p=gx(this.serializer,f);a.size()<i||p.largestBatchId===l?(a.set(p.getKey(),p),l=p.largestBatchId):m.done()})).next((()=>a))}St(e,n){return Kf(e).put((function(i,a,l){const[c,d,f]=VN(a,l.mutation.key);return{userId:a,collectionPath:d,documentId:f,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:Iv(i.yt,l.mutation)}})(this.serializer,this.userId,n))}}function Kf(t){return Vn(t,Yy)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pq{bt(e){return Vn(e,dT)}getSessionToken(e){return this.bt(e).get("sessionToken").next((n=>{const r=n==null?void 0:n.value;return r?On.fromUint8Array(r):On.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(Ht(e.integerValue));else if("doubleValue"in e){const r=Ht(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),Rh(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=_s(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(xs(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?R4(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):Xy(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):Oe(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const r=e.fields||{};this.Ft(n,55);for(const i of Object.keys(r))this.Ot(i,n),this.Ct(r[i],n)}kt(e,n){var l,c;const r=e.fields||{};this.Ft(n,53);const i=ed,a=((c=(l=r[i].arrayValue)==null?void 0:l.values)==null?void 0:c.length)||0;this.Ft(n,15),n.Mt(Ht(a)),this.Ot(i,n),this.Ct(r[i],n)}Qt(e,n){const r=e.values||[];this.Ft(n,50);for(const i of r)this.Ct(i,n)}Lt(e,n){this.Ft(n,37),_e.fromName(e).path.forEach((r=>{this.Ft(n,60),this.Ut(r,n)}))}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}Kl.Kt=new Kl;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xu=255;function Rq(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function UN(t){const e=64-(function(r){let i=0;for(let a=0;a<8;++a){const l=Rq(255&r[a]);if(i+=l,l!==8)break}return i})(t);return Math.ceil(e/8)}class Dq{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const i=n.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const i=n.codePointAt(0);this.Jt(240|i>>>18),this.Jt(128|63&i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i)}}this.Ht()}Xt(e){const n=this.en(e),r=UN(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}nn(e){const n=this.en(e),r=UN(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}rn(){this.sn(xu),this.sn(255)}_n(){this.an(xu),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=(function(a){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,a,!1),new Uint8Array(l.buffer)})(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===xu?(this.sn(xu),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===xu?(this.an(xu),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class kq{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class Mq{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Gf{constructor(){this.cn=new Dq,this.ln=new kq(this.cn),this.hn=new Mq(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,n,r,i){this.Tn=e,this.In=n,this.En=r,this.dn=i}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new Gl(this.Tn,this.In,this.En,r)}Rn(e,n,r){return{indexId:this.Tn,uid:e,arrayValue:sv(this.En),directionalValue:sv(this.dn),orderedDocumentKey:sv(n),documentKey:r.path.toArray()}}Vn(e,n,r){const i=this.Rn(e,n,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function _o(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=FN(t.En,e.En),n!==0?n:(n=FN(t.dn,e.dn),n!==0?n:_e.comparator(t.In,e.In)))}function FN(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function sv(t){return Yj()?(function(n){let r="";for(let i=0;i<n.length;i++)r+=String.fromCharCode(n[i]);return r})(t):t}function qN(t){return typeof t!="string"?t:(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(t)}class $N{constructor(e){this.mn=new St(((n,r)=>Qt.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(Me(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=vw(e);if(n!==void 0&&!this.wn(n))return!1;const r=Ll(e);let i=new Set,a=0,l=0;for(;a<r.length&&this.wn(r[a]);++a)i=i.add(r[a].fieldPath.canonicalString());if(a===r.length)return!0;if(this.mn.size>0){const c=this.mn.getIterator().getNext();if(!i.has(c.field.canonicalString())){const d=r[a];if(!this.Sn(c,d)||!this.bn(this.fn[l++],d))return!1}++a}for(;a<r.length;++a){const c=r[a];if(l>=this.fn.length||!this.bn(this.fn[l++],c))return!1}return!0}Dn(){if(this.pn)return null;let e=new St(Qt.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Zg(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Zg(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Zg(r.field,r.dir==="asc"?0:1)));return new bv(bv.UNKNOWN_ID,this.collectionId,n,Ph.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yV(t){var n,r;if(Me(t instanceof lt||t instanceof Pt,20012),t instanceof lt){if(t instanceof U4){const i=((r=(n=t.value.arrayValue)==null?void 0:n.values)==null?void 0:r.map((a=>lt.create(t.field,"==",a))))||[];return Pt.create(i,"or")}return t}const e=t.filters.map((i=>yV(i)));return Pt.create(e,t.op)}function jq(t){if(t.getFilters().length===0)return[];const e=kw(yV(t));return Me(bV(e),7391),Rw(e)||Dw(e)?[e]:e.getFilters()}function Rw(t){return t instanceof lt}function Dw(t){return t instanceof Pt&&vT(t)}function bV(t){return Rw(t)||Dw(t)||(function(n){if(n instanceof Pt&&Tw(n)){for(const r of n.getFilters())if(!Rw(r)&&!Dw(r))return!1;return!0}return!1})(t)}function kw(t){if(Me(t instanceof lt||t instanceof Pt,34018),t instanceof lt)return t;if(t.filters.length===1)return kw(t.filters[0]);const e=t.filters.map((r=>kw(r)));let n=Pt.create(e,t.op);return n=Nv(n),bV(n)?n:(Me(n instanceof Pt,64498),Me(rd(n),40251),Me(n.filters.length>1,57927),n.filters.reduce(((r,i)=>ST(r,i))))}function ST(t,e){let n;return Me(t instanceof lt||t instanceof Pt,38388),Me(e instanceof lt||e instanceof Pt,25473),n=t instanceof lt?e instanceof lt?(function(i,a){return Pt.create([i,a],"and")})(t,e):HN(t,e):e instanceof lt?HN(e,t):(function(i,a){if(Me(i.filters.length>0&&a.filters.length>0,48005),rd(i)&&rd(a))return L4(i,a.getFilters());const l=Tw(i)?i:a,c=Tw(i)?a:i,d=l.filters.map((f=>ST(f,c)));return Pt.create(d,"or")})(t,e),Nv(n)}function HN(t,e){if(rd(e))return L4(e,t.getFilters());{const n=e.filters.map((r=>ST(t,r)));return Pt.create(n,"or")}}function Nv(t){if(Me(t instanceof lt||t instanceof Pt,11850),t instanceof lt)return t;const e=t.getFilters();if(e.length===1)return Nv(e[0]);if(j4(t))return t;const n=e.map((i=>Nv(i))),r=[];return n.forEach((i=>{i instanceof lt?r.push(i):i instanceof Pt&&(i.op===t.op?r.push(...i.filters):r.push(i))})),r.length===1?r[0]:Pt.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vq{constructor(){this.Cn=new AT}addToCollectionParentIndex(e,n){return this.Cn.add(n),Y.resolve()}getCollectionParents(e,n){return Y.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Y.resolve()}deleteFieldIndex(e,n){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,n){return Y.resolve()}getDocumentsMatchingTarget(e,n){return Y.resolve(null)}getIndexType(e,n){return Y.resolve(0)}getFieldIndexes(e,n){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,n){return Y.resolve(ai.min())}getMinOffsetFromCollectionGroup(e,n){return Y.resolve(ai.min())}updateCollectionGroup(e,n,r){return Y.resolve()}updateIndexEntries(e,n){return Y.resolve()}}class AT{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new St(_t.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new St(_t.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN="IndexedDbIndexManager",Ig=new Uint8Array(0);class Lq{constructor(e,n){this.databaseId=n,this.vn=new AT,this.Fn=new Rs((r=>cc(r)),((r,i)=>fm(r,i))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener((()=>{this.vn.add(n)}));const a={collectionId:r,parent:mr(i)};return GN(e).put(a)}return Y.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[l4(n),""],!1,!0);return GN(e).J(i).next((a=>{for(const l of a){if(l.collectionId!==n)break;r.push(Ia(l.parent))}return r}))}addFieldIndex(e,n){const r=Yf(e),i=(function(c){return{indexId:c.indexId,collectionGroup:c.collectionGroup,fields:c.fields.map((d=>[d.fieldPath.canonicalString(),d.kind]))}})(n);delete i.indexId;const a=r.add(i);if(n.indexState){const l=Eu(e);return a.next((c=>{l.put(LN(c,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return a.next()}deleteFieldIndex(e,n){const r=Yf(e),i=Eu(e),a=wu(e);return r.delete(n.indexId).next((()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>a.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=Yf(e),r=wu(e),i=Eu(e);return n.Z().next((()=>r.Z())).next((()=>i.Z()))}createTargetIndexes(e,n){return Y.forEach(this.Mn(n),(r=>this.getIndexType(e,r).next((i=>{if(i===0||i===1){const a=new $N(r).Dn();if(a!=null)return this.addFieldIndex(e,a)}}))))}getDocumentsMatchingTarget(e,n){const r=wu(e);let i=!0;const a=new Map;return Y.forEach(this.Mn(n),(l=>this.xn(e,l).next((c=>{i&&(i=!!c),a.set(l,c)})))).next((()=>{if(i){let l=et();const c=[];return Y.forEach(a,((d,f)=>{he(KN,`Using index ${(function(j){return`id=${j.indexId}|cg=${j.collectionGroup}|f=${j.fields.map((q=>`${q.fieldPath}:${q.kind}`)).join(",")}`})(d)} to execute ${cc(n)}`);const m=(function(j,q){const U=vw(q);if(U===void 0)return null;for(const F of Av(j,U.fieldPath))switch(F.op){case"array-contains-any":return F.value.arrayValue.values||[];case"array-contains":return[F.value]}return null})(f,d),p=(function(j,q){const U=new Map;for(const F of Ll(q))for(const N of Av(j,F.fieldPath))switch(N.op){case"==":case"in":U.set(F.fieldPath.canonicalString(),N.value);break;case"not-in":case"!=":return U.set(F.fieldPath.canonicalString(),N.value),Array.from(U.values())}return null})(f,d),y=(function(j,q){const U=[];let F=!0;for(const N of Ll(q)){const P=N.kind===0?TN(j,N.fieldPath,j.startAt):SN(j,N.fieldPath,j.startAt);U.push(P.value),F&&(F=P.inclusive)}return new nd(U,F)})(f,d),x=(function(j,q){const U=[];let F=!0;for(const N of Ll(q)){const P=N.kind===0?SN(j,N.fieldPath,j.endAt):TN(j,N.fieldPath,j.endAt);U.push(P.value),F&&(F=P.inclusive)}return new nd(U,F)})(f,d),w=this.On(d,f,y),E=this.On(d,f,x),A=this.Nn(d,f,p),O=this.Bn(d.indexId,m,w,y.inclusive,E,x.inclusive,A);return Y.forEach(O,(D=>r.Y(D,n.limit).next((j=>{j.forEach((q=>{const U=_e.fromSegments(q.documentKey);l.has(U)||(l=l.add(U),c.push(U))}))}))))})).next((()=>c))}return Y.resolve(null)}))}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=jq(Pt.create(e.filters,"and")).map((r=>Aw(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,n),n)}Bn(e,n,r,i,a,l,c){const d=(n!=null?n.length:1)*Math.max(r.length,a.length),f=d/(n!=null?n.length:1),m=[];for(let p=0;p<d;++p){const y=n?this.Ln(n[p/f]):Ig,x=this.kn(e,y,r[p%f],i),w=this.qn(e,y,a[p%f],l),E=c.map((A=>this.kn(e,y,A,!0)));m.push(...this.createRange(x,w,E))}return m}kn(e,n,r,i){const a=new Gl(e,_e.empty(),n,r);return i?a:a.An()}qn(e,n,r,i){const a=new Gl(e,_e.empty(),n,r);return i?a.An():a}xn(e,n){const r=new $N(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next((a=>{let l=null;for(const c of a)r.yn(c)&&(!l||c.fields.length>l.fields.length)&&(l=c);return l}))}getIndexType(e,n){let r=2;const i=this.Mn(n);return Y.forEach(i,(a=>this.xn(e,a).next((l=>{l?r!==0&&l.fields.length<(function(d){let f=new St(Qt.comparator),m=!1;for(const p of d.filters)for(const y of p.getFlattenedFilters())y.field.isKeyField()||(y.op==="array-contains"||y.op==="array-contains-any"?m=!0:f=f.add(y.field));for(const p of d.orderBy)p.field.isKeyField()||(f=f.add(p.field));return f.size+(m?1:0)})(a)&&(r=1):r=0})))).next((()=>(function(l){return l.limit!==null})(n)&&i.length>1&&r===2?1:r))}Qn(e,n){const r=new Gf;for(const i of Ll(e)){const a=n.data.field(i.fieldPath);if(a==null)return null;const l=r.Pn(i.kind);Kl.Kt.Dt(a,l)}return r.un()}Ln(e){const n=new Gf;return Kl.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const r=new Gf;return Kl.Kt.Dt(gT(this.databaseId,n),r.Pn((function(a){const l=Ll(a);return l.length===0?0:l[l.length-1].kind})(e))),r.un()}Nn(e,n,r){if(r===null)return[];let i=[];i.push(new Gf);let a=0;for(const l of Ll(e)){const c=r[a++];for(const d of i)if(this.Un(n,l.fieldPath)&&Lh(c))i=this.Kn(i,l,c);else{const f=d.Pn(l.kind);Kl.Kt.Dt(c,f)}}return this.Wn(i)}On(e,n,r){return this.Nn(e,n,r.position)}Wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Kn(e,n,r){const i=[...e],a=[];for(const l of r.arrayValue.values||[])for(const c of i){const d=new Gf;d.seed(c.un()),Kl.Kt.Dt(l,d.Pn(n.kind)),a.push(d)}return a}Un(e,n){return!!e.filters.find((r=>r instanceof lt&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=Yf(e),i=Eu(e);return(n?r.J(bw,IDBKeyRange.bound(n,n)):r.J()).next((a=>{const l=[];return Y.forEach(a,(c=>i.get([c.indexId,this.uid]).next((d=>{l.push((function(m,p){const y=p?new Ph(p.sequenceNumber,new ai(dc(p.readTime),new _e(Ia(p.documentKey)),p.largestBatchId)):Ph.empty(),x=m.fields.map((([w,E])=>new Zg(Qt.fromServerFormat(w),E)));return new bv(m.indexId,m.collectionGroup,x,y)})(c,d))})))).next((()=>l))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return a!==0?a:$e(r.collectionGroup,i.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const i=Yf(e),a=Eu(e);return this.Gn(e).next((l=>i.J(bw,IDBKeyRange.bound(n,n)).next((c=>Y.forEach(c,(d=>a.put(LN(d.indexId,this.uid,l,r))))))))}updateIndexEntries(e,n){const r=new Map;return Y.forEach(n,((i,a)=>{const l=r.get(i.collectionGroup);return(l?Y.resolve(l):this.getFieldIndexes(e,i.collectionGroup)).next((c=>(r.set(i.collectionGroup,c),Y.forEach(c,(d=>this.zn(e,i,d).next((f=>{const m=this.jn(a,d);return f.isEqual(m)?Y.resolve():this.Jn(e,a,d,f,m)})))))))}))}Hn(e,n,r,i){return wu(e).put(i.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(e,n,r,i){return wu(e).delete(i.Vn(this.uid,this.$n(r,n.key),n.key))}zn(e,n,r){const i=wu(e);let a=new St(_o);return i.ee({index:b4,range:IDBKeyRange.only([r.indexId,this.uid,sv(this.$n(r,n))])},((l,c)=>{a=a.add(new Gl(r.indexId,n,qN(c.arrayValue),qN(c.directionalValue)))})).next((()=>a))}jn(e,n){let r=new St(_o);const i=this.Qn(n,e);if(i==null)return r;const a=vw(n);if(a!=null){const l=e.data.field(a.fieldPath);if(Lh(l))for(const c of l.arrayValue.values||[])r=r.add(new Gl(n.indexId,e.key,this.Ln(c),i))}else r=r.add(new Gl(n.indexId,e.key,Ig,i));return r}Jn(e,n,r,i,a){he(KN,"Updating index entries for document '%s'",n.key);const l=[];return(function(d,f,m,p,y){const x=d.getIterator(),w=f.getIterator();let E=_u(x),A=_u(w);for(;E||A;){let O=!1,D=!1;if(E&&A){const j=m(E,A);j<0?D=!0:j>0&&(O=!0)}else E!=null?D=!0:O=!0;O?(p(A),A=_u(w)):D?(y(E),E=_u(x)):(E=_u(x),A=_u(w))}})(i,a,_o,(c=>{l.push(this.Hn(e,n,r,c))}),(c=>{l.push(this.Yn(e,n,r,c))})),Y.waitFor(l)}Gn(e){let n=1;return Eu(e).ee({index:y4,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,i,a)=>{a.done(),n=i.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((l,c)=>_o(l,c))).filter(((l,c,d)=>!c||_o(l,d[c-1])!==0));const i=[];i.push(e);for(const l of r){const c=_o(l,e),d=_o(l,n);if(c===0)i[0]=e.An();else if(c>0&&d<0)i.push(l),i.push(l.An());else if(d>0)break}i.push(n);const a=[];for(let l=0;l<i.length;l+=2){if(this.Zn(i[l],i[l+1]))return[];const c=i[l].Vn(this.uid,Ig,_e.empty()),d=i[l+1].Vn(this.uid,Ig,_e.empty());a.push(IDBKeyRange.bound(c,d))}return a}Zn(e,n){return _o(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(YN)}getMinOffset(e,n){return Y.mapArray(this.Mn(n),(r=>this.xn(e,r).next((i=>i||Oe(44426))))).next(YN)}}function GN(t){return Vn(t,Mh)}function wu(t){return Vn(t,xh)}function Yf(t){return Vn(t,uT)}function Eu(t){return Vn(t,_h)}function YN(t){Me(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;oT(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new ai(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_V=41943040;class fr{static withCacheSize(e){return new fr(e,fr.DEFAULT_COLLECTION_PERCENTILE,fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xV(t,e,n){const r=t.store(Ki),i=t.store(Xu),a=[],l=IDBKeyRange.only(n.batchId);let c=0;const d=r.ee({range:l},((m,p,y)=>(c++,y.delete())));a.push(d.next((()=>{Me(c===1,47070,{batchId:n.batchId})})));const f=[];for(const m of n.mutations){const p=p4(e,m.key.path,n.batchId);a.push(i.delete(p)),f.push(m.key)}return Y.waitFor(a).next((()=>f))}function Pv(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Oe(14731);e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fr.DEFAULT_COLLECTION_PERCENTILE=10,fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fr.DEFAULT=new fr(_V,fr.DEFAULT_COLLECTION_PERCENTILE,fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fr.DISABLED=new fr(-1,0,0);class i0{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Xn={}}static wt(e,n,r,i){Me(e.uid!=="",64387);const a=e.isAuthenticated()?e.uid:"";return new i0(a,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return xo(e).ee({index:Yl,range:r},((i,a,l)=>{n=!1,l.done()})).next((()=>n))}addMutationBatch(e,n,r,i){const a=Ru(e),l=xo(e);return l.add({}).next((c=>{Me(typeof c=="number",49019);const d=new _T(c,n,r,i),f=(function(x,w,E){const A=E.baseMutations.map((D=>Iv(x.yt,D))),O=E.mutations.map((D=>Iv(x.yt,D)));return{userId:w,batchId:E.batchId,localWriteTimeMs:E.localWriteTime.toMillis(),baseMutations:A,mutations:O}})(this.serializer,this.userId,d),m=[];let p=new St(((y,x)=>$e(y.canonicalString(),x.canonicalString())));for(const y of i){const x=p4(this.userId,y.key.path,c);p=p.add(y.key.path.popLast()),m.push(l.put(f)),m.push(a.put(x,d7))}return p.forEach((y=>{m.push(this.indexManager.addToCollectionParentIndex(e,y))})),e.addOnCommittedListener((()=>{this.Xn[c]=d.keys()})),Y.waitFor(m).next((()=>d))}))}lookupMutationBatch(e,n){return xo(e).get(n).next((r=>r?(Me(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),Hl(this.serializer,r)):null))}er(e,n){return this.Xn[n]?Y.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const i=r.keys();return this.Xn[n]=i,i}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return xo(e).ee({index:Yl,range:i},((l,c,d)=>{c.userId===this.userId&&(Me(c.batchId>=r,47524,{tr:r}),a=Hl(this.serializer,c)),d.done()})).next((()=>a))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Zl;return xo(e).ee({index:Yl,range:n,reverse:!0},((i,a,l)=>{r=a.batchId,l.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,Zl],[this.userId,Number.POSITIVE_INFINITY]);return xo(e).J(Yl,n).next((r=>r.map((i=>Hl(this.serializer,i)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Jg(this.userId,n.path),i=IDBKeyRange.lowerBound(r),a=[];return Ru(e).ee({range:i},((l,c,d)=>{const[f,m,p]=l,y=Ia(m);if(f===this.userId&&n.path.isEqual(y))return xo(e).get(p).next((x=>{if(!x)throw Oe(61480,{nr:l,batchId:p});Me(x.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:x.userId,batchId:p}),a.push(Hl(this.serializer,x))}));d.done()})).next((()=>a))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new St($e);const i=[];return n.forEach((a=>{const l=Jg(this.userId,a.path),c=IDBKeyRange.lowerBound(l),d=Ru(e).ee({range:c},((f,m,p)=>{const[y,x,w]=f,E=Ia(x);y===this.userId&&a.path.isEqual(E)?r=r.add(w):p.done()}));i.push(d)})),Y.waitFor(i).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,a=Jg(this.userId,r),l=IDBKeyRange.lowerBound(a);let c=new St($e);return Ru(e).ee({range:l},((d,f,m)=>{const[p,y,x]=d,w=Ia(y);p===this.userId&&r.isPrefixOf(w)?w.length===i&&(c=c.add(x)):m.done()})).next((()=>this.rr(e,c)))}rr(e,n){const r=[],i=[];return n.forEach((a=>{i.push(xo(e).get(a).next((l=>{if(l===null)throw Oe(35274,{batchId:a});Me(l.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:l.userId,batchId:a}),r.push(Hl(this.serializer,l))})))})),Y.waitFor(i).next((()=>r))}removeMutationBatch(e,n){return xV(e.le,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.ir(n.batchId)})),Y.forEach(r,(i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return Y.resolve();const r=IDBKeyRange.lowerBound((function(l){return[l]})(this.userId)),i=[];return Ru(e).ee({range:r},((a,l,c)=>{if(a[0]===this.userId){const d=Ia(a[1]);i.push(d)}else c.done()})).next((()=>{Me(i.length===0,56720,{sr:i.map((a=>a.canonicalString()))})}))}))}containsKey(e,n){return wV(e,this.userId,n)}_r(e){return EV(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:Zl,lastStreamToken:""}))}}function wV(t,e,n){const r=Jg(e,n.path),i=r[1],a=IDBKeyRange.lowerBound(r);let l=!1;return Ru(t).ee({range:a,X:!0},((c,d,f)=>{const[m,p,y]=c;m===e&&p===i&&(l=!0),f.done()})).next((()=>l))}function xo(t){return Vn(t,Ki)}function Ru(t){return Vn(t,Xu)}function EV(t){return Vn(t,Dh)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new fc(0)}static cr(){return new fc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zq{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next((n=>{const r=new fc(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((n=>Le.fromTimestamp(new yt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.lr(e).next((i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.hr(e,i))))}addTargetData(e,n){return this.Pr(e,n).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(n,r),this.hr(e,r))))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>Tu(e).delete(n.targetId))).next((()=>this.lr(e))).next((r=>(Me(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,n,r){let i=0;const a=[];return Tu(e).ee(((l,c)=>{const d=dh(c);d.sequenceNumber<=n&&r.get(d.targetId)===null&&(i++,a.push(this.removeTargetData(e,d)))})).next((()=>Y.waitFor(a))).next((()=>i))}forEachTarget(e,n){return Tu(e).ee(((r,i)=>{const a=dh(i);n(a)}))}lr(e){return XN(e).get(wv).next((n=>(Me(n!==null,2888),n)))}hr(e,n){return XN(e).put(wv,n)}Pr(e,n){return Tu(e).put(gV(this.serializer,n))}Tr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((n=>n.targetCount))}getTargetData(e,n){const r=cc(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return Tu(e).ee({range:i,index:v4},((l,c,d)=>{const f=dh(c);fm(n,f.target)&&(a=f,d.done())})).next((()=>a))}addMatchingKeys(e,n,r){const i=[],a=Co(e);return n.forEach((l=>{const c=mr(l.path);i.push(a.put({targetId:r,path:c})),i.push(this.referenceDelegate.addReference(e,r,l))})),Y.waitFor(i)}removeMatchingKeys(e,n,r){const i=Co(e);return Y.forEach(n,(a=>{const l=mr(a.path);return Y.waitFor([i.delete([r,l]),this.referenceDelegate.removeReference(e,r,a)])}))}removeMatchingKeysForTargetId(e,n){const r=Co(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Co(e);let a=et();return i.ee({range:r,X:!0},((l,c,d)=>{const f=Ia(l[1]),m=new _e(f);a=a.add(m)})).next((()=>a))}containsKey(e,n){const r=mr(n.path),i=IDBKeyRange.bound([r],[l4(r)],!1,!0);let a=0;return Co(e).ee({index:cT,X:!0,range:i},(([l,c],d,f)=>{l!==0&&(a++,f.done())})).next((()=>a>0))}At(e,n){return Tu(e).get(n).next((r=>r?dh(r):null))}}function Tu(t){return Vn(t,Qu)}function XN(t){return Vn(t,Jl)}function Co(t){return Vn(t,Zu)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN="LruGarbageCollector",TV=1048576;function ZN([t,e],[n,r]){const i=$e(t,n);return i===0?$e(e,r):i}class Bq{constructor(e){this.Ir=e,this.buffer=new St(ZN),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();ZN(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class SV{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(QN,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){el(n)?he(QN,"Ignoring IndexedDB error during garbage collection: ",n):await Ec(n)}await this.Vr(3e5)}))}}class Uq{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Y.resolve(Ai.ce);const r=new Bq(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(WN)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),WN):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,l,c,d,f;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,l=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(r=p,c=Date.now(),this.removeTargets(e,r,n)))).next((p=>(a=p,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((p=>(f=Date.now(),Iu()<=st.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${a} targets in `+(d-c)+`ms
	Removed ${p} documents in `+(f-d)+`ms
Total Duration: ${f-m}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:p}))))}}function AV(t,e){return new Uq(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fq{constructor(e,n){this.db=e,this.garbageCollector=AV(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,((r,i)=>n(i)))}addReference(e,n,r){return Og(e,r)}removeReference(e,n,r){return Og(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Og(e,n)}br(e,n){return(function(i,a){let l=!1;return EV(i).te((c=>wV(i,c,a).next((d=>(d&&(l=!0),Y.resolve(!d)))))).next((()=>l))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Sr(e,((l,c)=>{if(c<=n){const d=this.br(e,l).next((f=>{if(!f)return a++,r.getEntry(e,l).next((()=>(r.removeEntry(l,Le.min()),Co(e).delete((function(p){return[0,mr(p.path)]})(l)))))}));i.push(d)}})).next((()=>Y.waitFor(i))).next((()=>r.apply(e))).next((()=>a))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Og(e,n)}Sr(e,n){const r=Co(e);let i,a=Ai.ce;return r.ee({index:cT},(([l,c],{path:d,sequenceNumber:f})=>{l===0?(a!==Ai.ce&&n(new _e(Ia(i)),a),a=f,i=d):a=Ai.ce})).next((()=>{a!==Ai.ce&&n(new _e(Ia(i)),a)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Og(t,e){return Co(t).put((function(r,i){return{targetId:0,path:mr(r.path),sequenceNumber:i}})(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(){this.changes=new Rs((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Y.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qq{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return jl(e).put(r)}removeEntry(e,n,r){return jl(e).delete((function(a,l){const c=a.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],Ov(l),c[c.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.Dr(e,r))))}getEntry(e,n){let r=nn.newInvalidDocument(n);return jl(e).ee({index:ev,range:IDBKeyRange.only(Wf(n))},((i,a)=>{r=this.Cr(n,a)})).next((()=>r))}vr(e,n){let r={size:0,document:nn.newInvalidDocument(n)};return jl(e).ee({index:ev,range:IDBKeyRange.only(Wf(n))},((i,a)=>{r={document:this.Cr(n,a),size:Pv(a)}})).next((()=>r))}getEntries(e,n){let r=ti();return this.Fr(e,n,((i,a)=>{const l=this.Cr(i,a);r=r.insert(i,l)})).next((()=>r))}Mr(e,n){let r=ti(),i=new Wt(_e.comparator);return this.Fr(e,n,((a,l)=>{const c=this.Cr(a,l);r=r.insert(a,c),i=i.insert(a,Pv(l))})).next((()=>({documents:r,Or:i})))}Fr(e,n,r){if(n.isEmpty())return Y.resolve();let i=new St(tP);n.forEach((d=>i=i.add(d)));const a=IDBKeyRange.bound(Wf(i.first()),Wf(i.last())),l=i.getIterator();let c=l.getNext();return jl(e).ee({index:ev,range:a},((d,f,m)=>{const p=_e.fromSegments([...f.prefixPath,f.collectionGroup,f.documentId]);for(;c&&tP(c,p)<0;)r(c,null),c=l.getNext();c&&c.isEqual(p)&&(r(c,f),c=l.hasNext()?l.getNext():null),c?m.j(Wf(c)):m.done()})).next((()=>{for(;c;)r(c,null),c=l.hasNext()?l.getNext():null}))}getDocumentsMatchingQuery(e,n,r,i,a){const l=n.path,c=[l.popLast().toArray(),l.lastSegment(),Ov(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],d=[l.popLast().toArray(),l.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return jl(e).J(IDBKeyRange.bound(c,d,!0)).next((f=>{a==null||a.incrementDocumentReadCount(f.length);let m=ti();for(const p of f){const y=this.Cr(_e.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);y.isFoundDocument()&&(hm(n,y)||i.has(y.key))&&(m=m.insert(y.key,y))}return m}))}getAllFromCollectionGroup(e,n,r,i){let a=ti();const l=eP(n,r),c=eP(n,ai.max());return jl(e).ee({index:g4,range:IDBKeyRange.bound(l,c,!0)},((d,f,m)=>{const p=this.Cr(_e.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);a=a.insert(p.key,p),a.size===i&&m.done()})).next((()=>a))}newChangeBuffer(e){return new $q(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return JN(e).get(yw).next((n=>(Me(!!n,20021),n)))}Dr(e,n){return JN(e).put(yw,n)}Cr(e,n){if(n){const r=Oq(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Le.min())))return r}return nn.newInvalidDocument(e)}}function IV(t){return new qq(t)}class $q extends CV{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new Rs((r=>r.toString()),((r,i)=>r.isEqual(i)))}applyChanges(e){const n=[];let r=0,i=new St(((a,l)=>$e(a.canonicalString(),l.canonicalString())));return this.changes.forEach(((a,l)=>{const c=this.Br.get(a);if(n.push(this.Nr.removeEntry(e,a,c.readTime)),l.isValidDocument()){const d=jN(this.Nr.serializer,l);i=i.add(a.path.popLast());const f=Pv(d);r+=f-c.size,n.push(this.Nr.addEntry(e,a,d))}else if(r-=c.size,this.trackRemovals){const d=jN(this.Nr.serializer,l.convertToNoDocument(Le.min()));n.push(this.Nr.addEntry(e,a,d))}})),i.forEach((a=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,a))})),n.push(this.Nr.updateMetadata(e,r)),Y.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next((r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next((({documents:r,Or:i})=>(i.forEach(((a,l)=>{this.Br.set(a,{size:l,readTime:r.get(a).readTime})})),r)))}}function JN(t){return Vn(t,kh)}function jl(t){return Vn(t,xv)}function Wf(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function eP(t,e){const n=e.documentKey.path.toArray();return[t,Ov(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function tP(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<n.length-2&&a<r.length-2;++a)if(i=$e(n[a],r[a]),i)return i;return i=$e(n.length,r.length),i||(i=$e(n[n.length-2],r[r.length-2]),i||$e(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hq{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Sh(r.mutation,i,Ci.empty(),yt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,et()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=et()){const i=Oa();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let l=ch();return a.forEach(((c,d)=>{l=l.insert(c,d.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=Oa();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,et())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((l,c)=>{n.set(l,c)}))}))}computeViews(e,n,r,i){let a=ti();const l=Th(),c=(function(){return Th()})();return n.forEach(((d,f)=>{const m=r.get(f.key);i.has(f.key)&&(m===void 0||m.mutation instanceof tl)?a=a.insert(f.key,f):m!==void 0?(l.set(f.key,m.mutation.getFieldMask()),Sh(m.mutation,f,m.mutation.getFieldMask(),yt.now())):l.set(f.key,Ci.empty())})),this.recalculateAndSaveOverlays(e,a).next((d=>(d.forEach(((f,m)=>l.set(f,m))),n.forEach(((f,m)=>c.set(f,new Hq(m,l.get(f)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=Th();let i=new Wt(((l,c)=>l-c)),a=et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const c of l)c.keys().forEach((d=>{const f=n.get(d);if(f===null)return;let m=r.get(d)||Ci.empty();m=c.applyToLocalView(f,m),r.set(d,m);const p=(i.get(c.batchId)||et()).add(d);i=i.insert(c.batchId,p)}))})).next((()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),f=d.key,m=d.value,p=K4();m.forEach((y=>{if(!a.has(y)){const x=Z4(n.get(y),r.get(y));x!==null&&p.set(y,x),a=a.add(y)}})),l.push(this.documentOverlayCache.saveOverlays(e,f,p))}return Y.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return _e.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Y7(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):Y.resolve(Oa());let c=Nh,d=a;return l.next((f=>Y.forEach(f,((m,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),a.get(m)?Y.resolve():this.remoteDocumentCache.getEntry(e,m).next((y=>{d=d.insert(m,y)}))))).next((()=>this.populateOverlays(e,f,a))).next((()=>this.computeViews(e,d,f,et()))).next((m=>({batchId:c,changes:H4(m)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next((r=>{let i=ch();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let l=ch();return this.indexManager.getCollectionParents(e,a).next((c=>Y.forEach(c,(d=>{const f=(function(p,y){return new Qy(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next((m=>{m.forEach(((p,y)=>{l=l.insert(p,y)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((l=>{a.forEach(((d,f)=>{const m=f.getKey();l.get(m)===null&&(l=l.insert(m,nn.newInvalidDocument(m)))}));let c=ch();return l.forEach(((d,f)=>{const m=a.get(d);m!==void 0&&Sh(m.mutation,f,Ci.empty(),yt.now()),hm(n,f)&&(c=c.insert(d,f))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kq{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Y.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Tr(i.createTime)}})(n)),Y.resolve()}getNamedQuery(e,n){return Y.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:vV(i.bundledQuery),readTime:Tr(i.readTime)}})(n)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gq{constructor(){this.overlays=new Wt(_e.comparator),this.qr=new Map}getOverlay(e,n){return Y.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Oa();return Y.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.St(e,n,a)})),Y.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),Y.resolve()}getOverlaysForCollection(e,n,r){const i=Oa(),a=n.length+1,l=new _e(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const d=c.getNext().value,f=d.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===a&&d.largestBatchId>r&&i.set(d.getKey(),d)}return Y.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new Wt(((f,m)=>f-m));const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let m=a.get(f.largestBatchId);m===null&&(m=Oa(),a=a.insert(f.largestBatchId,m)),m.set(f.getKey(),f)}}const c=Oa(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((f,m)=>c.set(f,m))),!(c.size()>=i)););return Y.resolve(c)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new wT(n,r));let a=this.qr.get(n);a===void 0&&(a=et(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yq{constructor(){this.sessionToken=On.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(){this.Qr=new St(Yn.$r),this.Ur=new St(Yn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Yn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Yn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new _e(new _t([])),r=new Yn(n,e),i=new Yn(n,e+1),a=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),a.push(l.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new _e(new _t([])),r=new Yn(n,e),i=new Yn(n,e+1);let a=et();return this.Ur.forEachInRange([r,i],(l=>{a=a.add(l.key)})),a}containsKey(e){const n=new Yn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Yn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return _e.comparator(e.key,n.key)||$e(e.Yr,n.Yr)}static Kr(e,n){return $e(e.Yr,n.Yr)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wq{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new St(Yn.$r)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new _T(a,n,r,i);this.mutationQueue.push(l);for(const c of i)this.Zr=this.Zr.add(new Yn(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Y.resolve(l)}lookupMutationBatch(e,n){return Y.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return Y.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?Zl:this.tr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Yn(n,0),i=new Yn(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],(l=>{const c=this.Xr(l.Yr);a.push(c)})),Y.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new St($e);return n.forEach((i=>{const a=new Yn(i,0),l=new Yn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,l],(c=>{r=r.add(c.Yr)}))})),Y.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;_e.isDocumentKey(a)||(a=a.child(""));const l=new Yn(new _e(a),0);let c=new St($e);return this.Zr.forEachWhile((d=>{const f=d.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(c=c.add(d.Yr)),!0)}),l),Y.resolve(this.ti(c))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Me(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Y.forEach(n.mutations,(i=>{const a=new Yn(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Yn(n,0),i=this.Zr.firstAfterOrEqual(r);return Y.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xq{constructor(e){this.ri=e,this.docs=(function(){return new Wt(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Y.resolve(r?r.document.mutableCopy():nn.newInvalidDocument(n))}getEntries(e,n){let r=ti();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():nn.newInvalidDocument(i))})),Y.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=ti();const l=n.path,c=new _e(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:f,value:{document:m}}=d.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||oT(d4(m),r)<=0||(i.has(m.key)||hm(n,m))&&(a=a.insert(m.key,m.mutableCopy()))}return Y.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Oe(9500)}ii(e,n){return Y.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new Qq(this)}getSize(e){return Y.resolve(this.size)}}class Qq extends CV{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),Y.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zq{constructor(e){this.persistence=e,this.si=new Rs((n=>cc(n)),fm),this.lastRemoteSnapshotVersion=Le.min(),this.highestTargetId=0,this.oi=0,this._i=new CT,this.targetCount=0,this.ai=fc.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Y.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new fc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Y.resolve()}updateTargetData(e,n){return this.Pr(n),Y.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach(((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.si.delete(l),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),Y.waitFor(a).next((()=>i))}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Y.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Y.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((l=>{a.push(i.markPotentiallyOrphaned(e,l))})),Y.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Y.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Y.resolve(r)}containsKey(e,n){return Y.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e,n){this.ui={},this.overlays={},this.ci=new Ai(0),this.li=!1,this.li=!0,this.hi=new Yq,this.referenceDelegate=e(this),this.Pi=new Zq(this),this.indexManager=new Vq,this.remoteDocumentCache=(function(i){return new Xq(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new pV(n),this.Ii=new Kq(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Gq,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new Wq(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){he("MemoryPersistence","Starting transaction:",e);const i=new Jq(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,n){return Y.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class Jq extends h4{constructor(e){super(),this.currentSequenceNumber=e}}class a0{constructor(e){this.persistence=e,this.Ri=new CT,this.Vi=null}static mi(e){return new a0(e)}get fi(){if(this.Vi)return this.Vi;throw Oe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Y.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Y.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Y.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.fi,(r=>{const i=_e.fromPath(r);return this.gi(e,i).next((a=>{a||n.removeEntry(i,Le.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Y.or([()=>Y.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Rv{constructor(e,n){this.persistence=e,this.pi=new Rs((r=>mr(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=AV(this,n)}static mi(e,n){return new Rv(e,n)}Ei(){}di(e){return Y.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return Y.forEach(this.pi,((r,i)=>this.br(e,r,i).next((a=>a?Y.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,n).next((c=>{c||(r++,a.removeEntry(l,Le.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Y.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Y.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Y.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=nv(e.data.value)),n}br(e,n,r){return Y.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return Y.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e${constructor(e){this.serializer=e}k(e,n,r,i){const a=new $y("createOrUpgrade",n);r<1&&i>=1&&((function(d){d.createObjectStore(dm)})(e),(function(d){d.createObjectStore(Dh,{keyPath:u7}),d.createObjectStore(Ki,{keyPath:fN,autoIncrement:!0}).createIndex(Yl,hN,{unique:!0}),d.createObjectStore(Xu)})(e),nP(e),(function(d){d.createObjectStore(zl)})(e));let l=Y.resolve();return r<3&&i>=3&&(r!==0&&((function(d){d.deleteObjectStore(Zu),d.deleteObjectStore(Qu),d.deleteObjectStore(Jl)})(e),nP(e)),l=l.next((()=>(function(d){const f=d.store(Jl),m={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Le.min().toTimestamp(),targetCount:0};return f.put(wv,m)})(a)))),r<4&&i>=4&&(r!==0&&(l=l.next((()=>(function(d,f){return f.store(Ki).J().next((p=>{d.deleteObjectStore(Ki),d.createObjectStore(Ki,{keyPath:fN,autoIncrement:!0}).createIndex(Yl,hN,{unique:!0});const y=f.store(Ki),x=p.map((w=>y.put(w)));return Y.waitFor(x)}))})(e,a)))),l=l.next((()=>{(function(d){d.createObjectStore(Ju,{keyPath:b7})})(e)}))),r<5&&i>=5&&(l=l.next((()=>this.yi(a)))),r<6&&i>=6&&(l=l.next((()=>((function(d){d.createObjectStore(kh)})(e),this.wi(a))))),r<7&&i>=7&&(l=l.next((()=>this.Si(a)))),r<8&&i>=8&&(l=l.next((()=>this.bi(e,a)))),r<9&&i>=9&&(l=l.next((()=>{(function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&i>=10&&(l=l.next((()=>this.Di(a)))),r<11&&i>=11&&(l=l.next((()=>{(function(d){d.createObjectStore(Ky,{keyPath:_7})})(e),(function(d){d.createObjectStore(Gy,{keyPath:x7})})(e)}))),r<12&&i>=12&&(l=l.next((()=>{(function(d){const f=d.createObjectStore(Yy,{keyPath:I7});f.createIndex(_w,O7,{unique:!1}),f.createIndex(_4,N7,{unique:!1})})(e)}))),r<13&&i>=13&&(l=l.next((()=>(function(d){const f=d.createObjectStore(xv,{keyPath:f7});f.createIndex(ev,h7),f.createIndex(g4,m7)})(e))).next((()=>this.Ci(e,a))).next((()=>e.deleteObjectStore(zl)))),r<14&&i>=14&&(l=l.next((()=>this.Fi(e,a)))),r<15&&i>=15&&(l=l.next((()=>(function(d){d.createObjectStore(uT,{keyPath:w7,autoIncrement:!0}).createIndex(bw,E7,{unique:!1}),d.createObjectStore(_h,{keyPath:T7}).createIndex(y4,S7,{unique:!1}),d.createObjectStore(xh,{keyPath:A7}).createIndex(b4,C7,{unique:!1})})(e)))),r<16&&i>=16&&(l=l.next((()=>{n.objectStore(_h).clear()})).next((()=>{n.objectStore(xh).clear()}))),r<17&&i>=17&&(l=l.next((()=>{(function(d){d.createObjectStore(dT,{keyPath:P7})})(e)}))),r<18&&i>=18&&Yj()&&(l=l.next((()=>{n.objectStore(_h).clear()})).next((()=>{n.objectStore(xh).clear()}))),l}wi(e){let n=0;return e.store(zl).ee(((r,i)=>{n+=Pv(i)})).next((()=>{const r={byteSize:n};return e.store(kh).put(yw,r)}))}yi(e){const n=e.store(Dh),r=e.store(Ki);return n.J().next((i=>Y.forEach(i,(a=>{const l=IDBKeyRange.bound([a.userId,Zl],[a.userId,a.lastAcknowledgedBatchId]);return r.J(Yl,l).next((c=>Y.forEach(c,(d=>{Me(d.userId===a.userId,18650,"Cannot process batch from unexpected user",{batchId:d.batchId});const f=Hl(this.serializer,d);return xV(e,a.userId,f).next((()=>{}))}))))}))))}Si(e){const n=e.store(Zu),r=e.store(zl);return e.store(Jl).get(wv).next((i=>{const a=[];return r.ee(((l,c)=>{const d=new _t(l),f=(function(p){return[0,mr(p)]})(d);a.push(n.get(f).next((m=>m?Y.resolve():(p=>n.put({targetId:0,path:mr(p),sequenceNumber:i.highestListenSequenceNumber}))(d))))})).next((()=>Y.waitFor(a)))}))}bi(e,n){e.createObjectStore(Mh,{keyPath:y7});const r=n.store(Mh),i=new AT,a=l=>{if(i.add(l)){const c=l.lastSegment(),d=l.popLast();return r.put({collectionId:c,parent:mr(d)})}};return n.store(zl).ee({X:!0},((l,c)=>{const d=new _t(l);return a(d.popLast())})).next((()=>n.store(Xu).ee({X:!0},(([l,c,d],f)=>{const m=Ia(c);return a(m.popLast())}))))}Di(e){const n=e.store(Qu);return n.ee(((r,i)=>{const a=dh(i),l=gV(this.serializer,a);return n.put(l)}))}Ci(e,n){const r=n.store(zl),i=[];return r.ee(((a,l)=>{const c=n.store(xv),d=(function(p){return p.document?new _e(_t.fromString(p.document.name).popFirst(5)):p.noDocument?_e.fromSegments(p.noDocument.path):p.unknownDocument?_e.fromSegments(p.unknownDocument.path):Oe(36783)})(l).path.toArray(),f={prefixPath:d.slice(0,d.length-2),collectionGroup:d[d.length-2],documentId:d[d.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};i.push(c.put(f))})).next((()=>Y.waitFor(i)))}Fi(e,n){const r=n.store(Ki),i=IV(this.serializer),a=new IT(a0.mi,this.serializer.yt);return r.J().next((l=>{const c=new Map;return l.forEach((d=>{let f=c.get(d.userId)??et();Hl(this.serializer,d).keys().forEach((m=>f=f.add(m))),c.set(d.userId,f)})),Y.forEach(c,((d,f)=>{const m=new _r(f),p=r0.wt(this.serializer,m),y=a.getIndexManager(m),x=i0.wt(m,this.serializer,y,a.referenceDelegate);return new OV(i,x,p,y).recalculateAndSaveOverlaysForDocumentKeys(new xw(n,Ai.ce),d).next()}))}))}}function nP(t){t.createObjectStore(Zu,{keyPath:g7}).createIndex(cT,v7,{unique:!0}),t.createObjectStore(Qu,{keyPath:"targetId"}).createIndex(v4,p7,{unique:!0}),t.createObjectStore(Jl)}const wo="IndexedDbPersistence",vx=18e5,yx=5e3,bx="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",t$="main";class OT{constructor(e,n,r,i,a,l,c,d,f,m,p=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Mi=a,this.window=l,this.document=c,this.xi=f,this.Oi=m,this.Ni=p,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=y=>Promise.resolve(),!OT.v())throw new we(ue.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Fq(this,i),this.$i=n+t$,this.serializer=new pV(d),this.Ui=new zo(this.$i,this.Ni,new e$(this.serializer)),this.hi=new Pq,this.Pi=new zq(this.referenceDelegate,this.serializer),this.remoteDocumentCache=IV(this.serializer),this.Ii=new Nq,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,m===!1&&wr(wo,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new we(ue.FAILED_PRECONDITION,bx);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new Ai(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async n=>{n.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Ng(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((n=>this.isPrimary&&!n?this.Zi(e).next((()=>!1)):!!n&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(el(e))return he(wo,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return he(wo,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return Xf(e).get(bu).next((n=>Y.resolve(this.es(n))))}ts(e){return Ng(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,vx)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=Vn(n,Ju);return r.J().next((i=>{const a=this.ss(i,vx),l=i.filter((c=>a.indexOf(c)===-1));return Y.forEach(l,(c=>r.delete(c.clientId))).next((()=>l))}))})).catch((()=>[]));if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?Y.resolve(!0):Xf(e).get(bu).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,yx)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new we(ue.FAILED_PRECONDITION,bx);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ng(e).J().next((r=>this.ss(r,yx).find((i=>{if(this.clientId!==i.clientId){const a=!this.networkEnabled&&i.networkEnabled,l=!this.inForeground&&i.inForeground,c=this.networkEnabled===i.networkEnabled;if(a||l&&c)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&he(wo,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[dm,Ju],(e=>{const n=new xw(e,Ai.ce);return this.Zi(n).next((()=>this.ts(n)))})),this.Ui.close(),this.Ps()}ss(e,n){return e.filter((r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>Ng(e).J().next((n=>this.ss(n,vx).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return i0.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Lq(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return r0.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,r){he(wo,"Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",a=(function(d){return d===18?k7:d===17?T4:d===16?D7:d===15?fT:d===14?E4:d===13?w4:d===12?R7:d===11?x4:void Oe(60245)})(this.Ni);let l;return this.Ui.runTransaction(e,i,a,(c=>(l=new xw(c,this.ci?this.ci.next():Ai.ce),n==="readwrite-primary"?this.Hi(l).next((d=>!!d||this.Yi(l))).next((d=>{if(!d)throw wr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new we(ue.FAILED_PRECONDITION,f4);return r(l)})).next((d=>this.Xi(l).next((()=>d)))):this.Is(l).next((()=>r(l)))))).then((c=>(l.raiseOnCommittedEvent(),c)))}Is(e){return Xf(e).get(bu).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,yx)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new we(ue.FAILED_PRECONDITION,bx)}))}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Xf(e).put(bu,n)}static v(){return zo.v()}Zi(e){const n=Xf(e);return n.get(bu).next((r=>this.es(r)?(he(wo,"Releasing primary lease."),n.delete(bu)):Y.resolve()))}rs(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(wr(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){var e;typeof((e=this.window)==null?void 0:e.addEventListener)=="function"&&(this.Bi=()=>{this.cs();const n=/(?:Version|Mobile)\/1[456]/;Gj()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){var n;try{const r=((n=this.Ki)==null?void 0:n.getItem(this._s(e)))!==null;return he(wo,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return wr(wo,"Failed to get zombied client id.",r),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){wr("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Xf(t){return Vn(t,dm)}function Ng(t){return Vn(t,Ju)}function n$(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=et(),i=et();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new NT(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r${constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Gj()?8:m4(jn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.ws(e,n,i,r).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new r$;return this.Ss(e,n,l).next((c=>{if(a.result=c,this.Vs)return this.bs(e,n,l,c.size)}))})).next((()=>a.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(Iu()<=st.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Ou(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Y.resolve()):(Iu()<=st.DEBUG&&he("QueryEngine","Query:",Ou(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Iu()<=st.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Ou(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Oi(n))):Y.resolve())}ys(e,n){if(AN(n))return Y.resolve(null);let r=Oi(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Cw(n,null,"F"),r=Oi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const l=et(...a);return this.ps.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,r).next((d=>{const f=this.Ds(n,c);return this.Cs(n,f,l,d.readTime)?this.ys(e,Cw(n,null,"F")):this.vs(e,f,n,d)}))))})))))}ws(e,n,r,i){return AN(n)||i.isEqual(Le.min())?Y.resolve(null):this.ps.getDocuments(e,r).next((a=>{const l=this.Ds(n,a);return this.Cs(n,l,r,i)?Y.resolve(null):(Iu()<=st.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ou(n)),this.vs(e,l,n,r7(i,Nh)).next((c=>c)))}))}Ds(e,n){let r=new St(q4(e));return n.forEach(((i,a)=>{hm(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return Iu()<=st.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Ou(n)),this.ps.getDocumentsMatchingQuery(e,n,ai.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((l=>{a=a.insert(l.key,l)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="LocalStore",i$=3e8;class a${constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Wt($e),this.xs=new Rs((a=>cc(a)),fm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new OV(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function PV(t,e,n,r){return new a$(t,e,n,r)}async function RV(t,e){const n=Ke(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const l=[],c=[];let d=et();for(const f of i){l.push(f.batchId);for(const m of f.mutations)d=d.add(m.key)}for(const f of a){c.push(f.batchId);for(const m of f.mutations)d=d.add(m.key)}return n.localDocuments.getDocuments(r,d).next((f=>({Ls:f,removedBatchIds:l,addedBatchIds:c})))}))}))}function s$(t,e){const n=Ke(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,d,f,m){const p=f.batch,y=p.keys();let x=Y.resolve();return y.forEach((w=>{x=x.next((()=>m.getEntry(d,w))).next((E=>{const A=f.docVersions.get(w);Me(A!==null,48541),E.version.compareTo(A)<0&&(p.applyToRemoteDocument(E,f),E.isValidDocument()&&(E.setReadTime(f.commitVersion),m.addEntry(E)))}))})),x.next((()=>c.mutationQueue.removeMutationBatch(d,p)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let d=et();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(d=d.add(c.batch.mutations[f].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function DV(t){const e=Ke(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function o$(t,e){const n=Ke(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const c=[];e.targetChanges.forEach(((m,p)=>{const y=i.get(p);if(!y)return;c.push(n.Pi.removeMatchingKeys(a,m.removedDocuments,p).next((()=>n.Pi.addMatchingKeys(a,m.addedDocuments,p))));let x=y.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(p)!==null?x=x.withResumeToken(On.EMPTY_BYTE_STRING,Le.min()).withLastLimboFreeSnapshotVersion(Le.min()):m.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(m.resumeToken,r)),i=i.insert(p,x),(function(E,A,O){return E.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=i$?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(y,x,m)&&c.push(n.Pi.updateTargetData(a,x))}));let d=ti(),f=et();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(a,m))})),c.push(l$(a,l,e.documentUpdates).next((m=>{d=m.ks,f=m.qs}))),!r.isEqual(Le.min())){const m=n.Pi.getLastRemoteSnapshotVersion(a).next((p=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));c.push(m)}return Y.waitFor(c).next((()=>l.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,d,f))).next((()=>d))})).then((a=>(n.Ms=i,a)))}function l$(t,e,n){let r=et(),i=et();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let l=ti();return n.forEach(((c,d)=>{const f=a.get(c);d.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(c)),d.isNoDocument()&&d.version.isEqual(Le.min())?(e.removeEntry(c,d.readTime),l=l.insert(c,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),l=l.insert(c,d)):he(PT,"Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",d.version)})),{ks:l,qs:i}}))}function c$(t,e){const n=Ke(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Zl),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function u$(t,e){const n=Ke(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((a=>a?(i=a,Y.resolve(i)):n.Pi.allocateTargetId(r).next((l=>(i=new ds(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Mw(t,e,n){const r=Ke(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!el(l))throw l;he(PT,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function rP(t,e,n){const r=Ke(t);let i=Le.min(),a=et();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(d,f,m){const p=Ke(d),y=p.xs.get(m);return y!==void 0?Y.resolve(p.Ms.get(y)):p.Pi.getTargetData(f,m)})(r,l,Oi(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,c.targetId).next((d=>{a=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?i:Le.min(),n?a:et()))).next((c=>(d$(r,X7(e),c),{documents:c,Qs:a})))))}function d$(t,e,n){let r=t.Os.get(e)||Le.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class iP{constructor(){this.activeTargetIds=nq()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kV{constructor(){this.Mo=new iP,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new iP,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f${Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP="ConnectivityMonitor";class sP{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(aP,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(aP,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pg=null;function jw(){return Pg===null?Pg=(function(){return 268435456+Math.round(2147483648*Math.random())})():Pg++,"0x"+Pg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x="RestConnection",h$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class m${get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Ev?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const l=jw(),c=this.zo(e,n.toUriEncodedString());he(_x,`Sending RPC '${e}' ${l}:`,c,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,i,a);const{host:f}=new URL(c),m=Sd(f);return this.Jo(e,c,d,r,m).then((p=>(he(_x,`Received RPC '${e}' ${l}: `,p),p)),(p=>{throw Yu(_x,`RPC '${e}' ${l} failed with error: `,p,"url: ",c,"request:",r),p}))}Ho(e,n,r,i,a,l){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Cd})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}zo(e,n){const r=h$[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p${constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr="WebChannelConnection";class g$ extends m${constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const l=jw();return new Promise(((c,d)=>{const f=new n4;f.setWithCredentials(!0),f.listenOnce(r4.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case Qg.NO_ERROR:const p=f.getResponseJson();he(cr,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(p)),c(p);break;case Qg.TIMEOUT:he(cr,`RPC '${e}' ${l} timed out`),d(new we(ue.DEADLINE_EXCEEDED,"Request time out"));break;case Qg.HTTP_ERROR:const y=f.getStatus();if(he(cr,`RPC '${e}' ${l} failed with status:`,y,"response text:",f.getResponseText()),y>0){let x=f.getResponseJson();Array.isArray(x)&&(x=x[0]);const w=x==null?void 0:x.error;if(w&&w.status&&w.message){const E=(function(O){const D=O.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(D)>=0?D:ue.UNKNOWN})(w.status);d(new we(E,w.message))}else d(new we(ue.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new we(ue.UNAVAILABLE,"Connection failed."));break;default:Oe(9055,{l_:e,streamId:l,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{he(cr,`RPC '${e}' ${l} completed.`)}}));const m=JSON.stringify(i);he(cr,`RPC '${e}' ${l} sending request:`,i),f.send(n,"POST",m,r,15)}))}T_(e,n,r){const i=jw(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=s4(),c=a4(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const m=a.join("");he(cr,`Creating RPC '${e}' stream ${i}: ${m}`,d);const p=l.createWebChannel(m,d);this.I_(p);let y=!1,x=!1;const w=new p$({Yo:A=>{x?he(cr,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(y||(he(cr,`Opening RPC '${e}' stream ${i} transport.`),p.open(),y=!0),he(cr,`RPC '${e}' stream ${i} sending:`,A),p.send(A))},Zo:()=>p.close()}),E=(A,O,D)=>{A.listen(O,(j=>{try{D(j)}catch(q){setTimeout((()=>{throw q}),0)}}))};return E(p,lh.EventType.OPEN,(()=>{x||(he(cr,`RPC '${e}' stream ${i} transport opened.`),w.o_())})),E(p,lh.EventType.CLOSE,(()=>{x||(x=!0,he(cr,`RPC '${e}' stream ${i} transport closed`),w.a_(),this.E_(p))})),E(p,lh.EventType.ERROR,(A=>{x||(x=!0,Yu(cr,`RPC '${e}' stream ${i} transport errored. Name:`,A.name,"Message:",A.message),w.a_(new we(ue.UNAVAILABLE,"The operation could not be completed")))})),E(p,lh.EventType.MESSAGE,(A=>{var O;if(!x){const D=A.data[0];Me(!!D,16349);const j=D,q=(j==null?void 0:j.error)||((O=j[0])==null?void 0:O.error);if(q){he(cr,`RPC '${e}' stream ${i} received error:`,q);const U=q.status;let F=(function(M){const B=wn[M];if(B!==void 0)return tV(B)})(U),N=q.message;F===void 0&&(F=ue.INTERNAL,N="Unknown error status: "+U+" with message "+q.message),x=!0,w.a_(new we(F,N)),p.close()}else he(cr,`RPC '${e}' stream ${i} received:`,D),w.u_(D)}})),E(c,i4.STAT_EVENT,(A=>{A.stat===pw.PROXY?he(cr,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===pw.NOPROXY&&he(cr,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{w.__()}),0),w}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v$(){return typeof window<"u"?window:null}function ov(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(t){return new bq(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&he("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP="PersistentStream";class jV{constructor(e,n,r,i,a,l,c,d){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new MV(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ue.RESOURCE_EXHAUSTED?(wr(n.toString()),wr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new we(ue.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(oP,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(he(oP,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class y$ extends jV{constructor(e,n,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=wq(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Le.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Le.min():l.readTime?Tr(l.readTime):Le.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Nw(this.serializer),n.addTarget=(function(a,l){let c;const d=l.target;if(c=Sv(d)?{documents:cV(a,d)}:{query:uV(a,d).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=iV(a,l.resumeToken);const f=Iw(a,l.expectedCount);f!==null&&(c.expectedCount=f)}else if(l.snapshotVersion.compareTo(Le.min())>0){c.readTime=sd(a,l.snapshotVersion.toTimestamp());const f=Iw(a,l.expectedCount);f!==null&&(c.expectedCount=f)}return c})(this.serializer,e);const r=Tq(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Nw(this.serializer),n.removeTarget=e,this.q_(n)}}class b$ extends jV{constructor(e,n,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Me(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Me(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Me(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Eq(e.writeResults,e.commitTime),r=Tr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Nw(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Iv(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _${}class x$ extends _${constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new we(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Go(e,Ow(n,r),i,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new we(ue.UNKNOWN,a.toString())}))}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Ho(e,Ow(n,r),i,l,c,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new we(ue.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class w${constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(wr(n),this.aa=!1):he("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc="RemoteStore";class E${constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{Sc(this)&&(he(hc,"Restarting streams for network reachability change."),await(async function(d){const f=Ke(d);f.Ea.add(4),await pm(f),f.Ra.set("Unknown"),f.Ea.delete(4),await o0(f)})(this))}))})),this.Ra=new w$(r,i)}}async function o0(t){if(Sc(t))for(const e of t.da)await e(!0)}async function pm(t){for(const e of t.da)await e(!1)}function VV(t,e){const n=Ke(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),MT(n)?kT(n):Od(n).O_()&&DT(n,e))}function RT(t,e){const n=Ke(t),r=Od(n);n.Ia.delete(e),r.O_()&&LV(n,e),n.Ia.size===0&&(r.O_()?r.L_():Sc(n)&&n.Ra.set("Unknown"))}function DT(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Od(t).Y_(e)}function LV(t,e){t.Va.Ue(e),Od(t).Z_(e)}function kT(t){t.Va=new pq({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Od(t).start(),t.Ra.ua()}function MT(t){return Sc(t)&&!Od(t).x_()&&t.Ia.size>0}function Sc(t){return Ke(t).Ea.size===0}function zV(t){t.Va=void 0}async function T$(t){t.Ra.set("Online")}async function S$(t){t.Ia.forEach(((e,n)=>{DT(t,e)}))}async function A$(t,e){zV(t),MT(t)?(t.Ra.ha(e),kT(t)):t.Ra.set("Unknown")}async function C$(t,e,n){if(t.Ra.set("Online"),e instanceof rV&&e.state===2&&e.cause)try{await(async function(i,a){const l=a.cause;for(const c of a.targetIds)i.Ia.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.Ia.delete(c),i.Va.removeTarget(c))})(t,e)}catch(r){he(hc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Dv(t,r)}else if(e instanceof av?t.Va.Ze(e):e instanceof nV?t.Va.st(e):t.Va.tt(e),!n.isEqual(Le.min()))try{const r=await DV(t.localStore);n.compareTo(r)>=0&&await(function(a,l){const c=a.Va.Tt(l);return c.targetChanges.forEach(((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const m=a.Ia.get(f);m&&a.Ia.set(f,m.withResumeToken(d.resumeToken,l))}})),c.targetMismatches.forEach(((d,f)=>{const m=a.Ia.get(d);if(!m)return;a.Ia.set(d,m.withResumeToken(On.EMPTY_BYTE_STRING,m.snapshotVersion)),LV(a,d);const p=new ds(m.target,d,f,m.sequenceNumber);DT(a,p)})),a.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){he(hc,"Failed to raise snapshot:",r),await Dv(t,r)}}async function Dv(t,e,n){if(!el(e))throw e;t.Ea.add(1),await pm(t),t.Ra.set("Offline"),n||(n=()=>DV(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{he(hc,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await o0(t)}))}function BV(t,e){return e().catch((n=>Dv(t,n,e)))}async function gm(t){const e=Ke(t),n=Ko(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Zl;for(;I$(e);)try{const i=await c$(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,O$(e,i)}catch(i){await Dv(e,i)}UV(e)&&FV(e)}function I$(t){return Sc(t)&&t.Ta.length<10}function O$(t,e){t.Ta.push(e);const n=Ko(t);n.O_()&&n.X_&&n.ea(e.mutations)}function UV(t){return Sc(t)&&!Ko(t).x_()&&t.Ta.length>0}function FV(t){Ko(t).start()}async function N$(t){Ko(t).ra()}async function P$(t){const e=Ko(t);for(const n of t.Ta)e.ea(n.mutations)}async function R$(t,e,n){const r=t.Ta.shift(),i=xT.from(r,e,n);await BV(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await gm(t)}async function D$(t,e){e&&Ko(t).X_&&await(async function(r,i){if((function(l){return fq(l)&&l!==ue.ABORTED})(i.code)){const a=r.Ta.shift();Ko(r).B_(),await BV(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await gm(r)}})(t,e),UV(t)&&FV(t)}async function lP(t,e){const n=Ke(t);n.asyncQueue.verifyOperationInProgress(),he(hc,"RemoteStore received new credentials");const r=Sc(n);n.Ea.add(3),await pm(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await o0(n)}async function k$(t,e){const n=Ke(t);e?(n.Ea.delete(2),await o0(n)):e||(n.Ea.add(2),await pm(n),n.Ra.set("Unknown"))}function Od(t){return t.ma||(t.ma=(function(n,r,i){const a=Ke(n);return a.sa(),new y$(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:T$.bind(null,t),t_:S$.bind(null,t),r_:A$.bind(null,t),H_:C$.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),MT(t)?kT(t):t.Ra.set("Unknown")):(await t.ma.stop(),zV(t))}))),t.ma}function Ko(t){return t.fa||(t.fa=(function(n,r,i){const a=Ke(n);return a.sa(),new b$(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:N$.bind(null,t),r_:D$.bind(null,t),ta:P$.bind(null,t),na:R$.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await gm(t)):(await t.fa.stop(),t.Ta.length>0&&(he(hc,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Lo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const l=Date.now()+r,c=new jT(e,n,l,i,a);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function VT(t,e){if(wr("AsyncQueue",`${e}: ${t}`),el(t))return new we(ue.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{static emptySet(e){return new zu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||_e.comparator(n.key,r.key):(n,r)=>_e.comparator(n.key,r.key),this.keyedMap=ch(),this.sortedSet=new Wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof zu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new zu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(){this.ga=new Wt(_e.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Oe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class od{constructor(e,n,r,i,a,l,c,d,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,a){const l=[];return n.forEach((c=>{l.push({type:0,doc:c})})),new od(e,n,zu.emptySet(n),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M${constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class j${constructor(){this.queries=uP(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Ke(n),a=i.queries;i.queries=uP(),a.forEach(((l,c)=>{for(const d of c.Sa)d.onError(r)}))})(this,new we(ue.ABORTED,"Firestore shutting down"))}}function uP(){return new Rs((t=>F4(t)),Jy)}async function V$(t,e){const n=Ke(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new M$,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const c=VT(l,`Initialization of query '${Ou(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&LT(n)}async function L$(t,e){const n=Ke(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const l=a.Sa.indexOf(e);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function z$(t,e){const n=Ke(t);let r=!1;for(const i of e){const a=i.query,l=n.queries.get(a);if(l){for(const c of l.Sa)c.Fa(i)&&(r=!0);l.wa=i}}r&&LT(n)}function B$(t,e,n){const r=Ke(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function LT(t){t.Ca.forEach((e=>{e.next()}))}var Vw,dP;(dP=Vw||(Vw={})).Ma="default",dP.Cache="cache";class U${constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new od(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=od.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Vw.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(e){this.key=e}}class $V{constructor(e){this.key=e}}class F${constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=et(),this.mutatedKeys=et(),this.eu=q4(e),this.tu=new zu(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new cP,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,l=i,c=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((m,p)=>{const y=i.get(m),x=hm(this.query,p)?p:null,w=!!y&&this.mutatedKeys.has(y.key),E=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let A=!1;y&&x?y.data.isEqual(x.data)?w!==E&&(r.track({type:3,doc:x}),A=!0):this.su(y,x)||(r.track({type:2,doc:x}),A=!0,(d&&this.eu(x,d)>0||f&&this.eu(x,f)<0)&&(c=!0)):!y&&x?(r.track({type:0,doc:x}),A=!0):y&&!x&&(r.track({type:1,doc:y}),A=!0,(d||f)&&(c=!0)),A&&(x?(l=l.add(x),a=E?a.add(m):a.delete(m)):(l=l.delete(m),a=a.delete(m)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),a=a.delete(m.key),r.track({type:1,doc:m})}return{tu:l,iu:r,Cs:c,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((m,p)=>(function(x,w){const E=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe(20277,{Rt:A})}};return E(x)-E(w)})(m.type,p.type)||this.eu(m.doc,p.doc))),this.ou(r),i=i??!1;const c=n&&!i?this._u():[],d=this.Xa.size===0&&this.current&&!i?1:0,f=d!==this.Za;return this.Za=d,l.length!==0||f?{snapshot:new od(this.query,e.tu,a,l,e.mutatedKeys,d===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new cP,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=et(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new $V(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new qV(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=et();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return od.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const zT="SyncEngine";class q${constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class $${constructor(e){this.key=e,this.hu=!1}}class H${constructor(e,n,r,i,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Rs((c=>F4(c)),Jy),this.Iu=new Map,this.Eu=new Set,this.du=new Wt(_e.comparator),this.Au=new Map,this.Ru=new CT,this.Vu={},this.mu=new Map,this.fu=fc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function K$(t,e,n=!0){const r=XV(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await HV(r,e,n,!0),i}async function G$(t,e){const n=XV(t);await HV(n,e,!0,!1)}async function HV(t,e,n,r){const i=await u$(t.localStore,Oi(e)),a=i.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let c;return r&&(c=await Y$(t,e,a,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&VV(t.remoteStore,i),c}async function Y$(t,e,n,r,i){t.pu=(p,y,x)=>(async function(E,A,O,D){let j=A.view.ru(O);j.Cs&&(j=await rP(E.localStore,A.query,!1).then((({documents:N})=>A.view.ru(N,j))));const q=D&&D.targetChanges.get(A.targetId),U=D&&D.targetMismatches.get(A.targetId)!=null,F=A.view.applyChanges(j,E.isPrimaryClient,q,U);return hP(E,A.targetId,F.au),F.snapshot})(t,p,y,x);const a=await rP(t.localStore,e,!0),l=new F$(e,a.Qs),c=l.ru(a.documents),d=mm.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=l.applyChanges(c,t.isPrimaryClient,d);hP(t,n,f.au);const m=new q$(e,n,l);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function W$(t,e,n){const r=Ke(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((l=>!Jy(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Mw(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&RT(r.remoteStore,i.targetId),Lw(r,i.targetId)})).catch(Ec)):(Lw(r,i.targetId),await Mw(r.localStore,i.targetId,!0))}async function X$(t,e){const n=Ke(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),RT(n.remoteStore,r.targetId))}async function Q$(t,e,n){const r=QV(t);try{const i=await(function(l,c){const d=Ke(l),f=yt.now(),m=c.reduce(((x,w)=>x.add(w.key)),et());let p,y;return d.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let w=ti(),E=et();return d.Ns.getEntries(x,m).next((A=>{w=A,w.forEach(((O,D)=>{D.isValidDocument()||(E=E.add(O))}))})).next((()=>d.localDocuments.getOverlayedDocuments(x,w))).next((A=>{p=A;const O=[];for(const D of c){const j=uq(D,p.get(D.key).overlayedDocument);j!=null&&O.push(new tl(D.key,j,k4(j.value.mapValue),ni.exists(!0)))}return d.mutationQueue.addMutationBatch(x,f,O,c)})).next((A=>{y=A;const O=A.applyToLocalDocumentSet(p,E);return d.documentOverlayCache.saveOverlays(x,A.batchId,O)}))})).then((()=>({batchId:y.batchId,changes:H4(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,c,d){let f=l.Vu[l.currentUser.toKey()];f||(f=new Wt($e)),f=f.insert(c,d),l.Vu[l.currentUser.toKey()]=f})(r,i.batchId,n),await vm(r,i.changes),await gm(r.remoteStore)}catch(i){const a=VT(i,"Failed to persist write");n.reject(a)}}async function KV(t,e){const n=Ke(t);try{const r=await o$(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const l=n.Au.get(a);l&&(Me(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?Me(l.hu,14607):i.removedDocuments.size>0&&(Me(l.hu,42227),l.hu=!1))})),await vm(n,r,e)}catch(r){await Ec(r)}}function fP(t,e,n){const r=Ke(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((a,l)=>{const c=l.view.va(e);c.snapshot&&i.push(c.snapshot)})),(function(l,c){const d=Ke(l);d.onlineState=c;let f=!1;d.queries.forEach(((m,p)=>{for(const y of p.Sa)y.va(c)&&(f=!0)})),f&&LT(d)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Z$(t,e,n){const r=Ke(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let l=new Wt(_e.comparator);l=l.insert(a,nn.newNoDocument(a,Le.min()));const c=et().add(a),d=new n0(Le.min(),new Map,new Wt($e),l,c);await KV(r,d),r.du=r.du.remove(a),r.Au.delete(e),BT(r)}else await Mw(r.localStore,e,!1).then((()=>Lw(r,e,n))).catch(Ec)}async function J$(t,e){const n=Ke(t),r=e.batch.batchId;try{const i=await s$(n.localStore,e);YV(n,r,null),GV(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await vm(n,i)}catch(i){await Ec(i)}}async function eH(t,e,n){const r=Ke(t);try{const i=await(function(l,c){const d=Ke(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let m;return d.mutationQueue.lookupMutationBatch(f,c).next((p=>(Me(p!==null,37113),m=p.keys(),d.mutationQueue.removeMutationBatch(f,p)))).next((()=>d.mutationQueue.performConsistencyCheck(f))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(f,m,c))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m))).next((()=>d.localDocuments.getDocuments(f,m)))}))})(r.localStore,e);YV(r,e,n),GV(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await vm(r,i)}catch(i){await Ec(i)}}function GV(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function YV(t,e,n){const r=Ke(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function Lw(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||WV(t,r)}))}function WV(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(RT(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),BT(t))}function hP(t,e,n){for(const r of n)r instanceof qV?(t.Ru.addReference(r.key,e),tH(t,r)):r instanceof $V?(he(zT,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||WV(t,r.key)):Oe(19791,{wu:r})}function tH(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(he(zT,"New document in limbo: "+n),t.Eu.add(r),BT(t))}function BT(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new _e(_t.fromString(e)),r=t.fu.next();t.Au.set(r,new $$(n)),t.du=t.du.insert(n,r),VV(t.remoteStore,new ds(Oi(Zy(n.path)),r,"TargetPurposeLimboResolution",Ai.ce))}}async function vm(t,e,n){const r=Ke(t),i=[],a=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,d)=>{l.push(r.pu(d,e,n).then((f=>{var m;if((f||n)&&r.isPrimaryClient){const p=f?!f.fromCache:(m=n==null?void 0:n.targetChanges.get(d.targetId))==null?void 0:m.current;r.sharedClientState.updateQueryState(d.targetId,p?"current":"not-current")}if(f){i.push(f);const p=NT.As(d.targetId,f);a.push(p)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(d,f){const m=Ke(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>Y.forEach(f,(y=>Y.forEach(y.Es,(x=>m.persistence.referenceDelegate.addReference(p,y.targetId,x))).next((()=>Y.forEach(y.ds,(x=>m.persistence.referenceDelegate.removeReference(p,y.targetId,x)))))))))}catch(p){if(!el(p))throw p;he(PT,"Failed to update sequence numbers: "+p)}for(const p of f){const y=p.targetId;if(!p.fromCache){const x=m.Ms.get(y),w=x.snapshotVersion,E=x.withLastLimboFreeSnapshotVersion(w);m.Ms=m.Ms.insert(y,E)}}})(r.localStore,a))}async function nH(t,e){const n=Ke(t);if(!n.currentUser.isEqual(e)){he(zT,"User change. New user:",e.toKey());const r=await RV(n.localStore,e);n.currentUser=e,(function(a,l){a.mu.forEach((c=>{c.forEach((d=>{d.reject(new we(ue.CANCELLED,l))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await vm(n,r.Ls)}}function rH(t,e){const n=Ke(t),r=n.Au.get(e);if(r&&r.hu)return et().add(r.key);{let i=et();const a=n.Iu.get(e);if(!a)return i;for(const l of a){const c=n.Tu.get(l);i=i.unionWith(c.view.nu)}return i}}function XV(t){const e=Ke(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=KV.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Z$.bind(null,e),e.Pu.H_=z$.bind(null,e.eventManager),e.Pu.yu=B$.bind(null,e.eventManager),e}function QV(t){const e=Ke(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=J$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=eH.bind(null,e),e}class Uh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=s0(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return PV(this.persistence,new NV,e.initialUser,this.serializer)}Cu(e){return new IT(a0.mi,this.serializer)}Du(e){return new kV}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Uh.provider={build:()=>new Uh};class iH extends Uh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Me(this.persistence.referenceDelegate instanceof Rv,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new SV(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?fr.withCacheSize(this.cacheSizeBytes):fr.DEFAULT;return new IT((r=>Rv.mi(r,n)),this.serializer)}}class aH extends Uh{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await QV(this.xu.syncEngine),await gm(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return PV(this.persistence,new NV,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new SV(r,e.asyncQueue,n)}Mu(e,n){const r=new o7(n,this.persistence);return new s7(e.asyncQueue,r)}Cu(e){const n=n$(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?fr.withCacheSize(this.cacheSizeBytes):fr.DEFAULT;return new OT(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,v$(),ov(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new kV}}class kv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>fP(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=nH.bind(null,this.syncEngine),await k$(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new j$})()}createDatastore(e){const n=s0(e.databaseInfo.databaseId),r=(function(a){return new g$(a)})(e.databaseInfo);return(function(a,l,c,d){return new x$(a,l,c,d)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,l,c){return new E$(r,i,a,l,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>fP(this.syncEngine,n,0)),(function(){return sP.v()?new sP:new f$})())}createSyncEngine(e,n){return(function(i,a,l,c,d,f,m){const p=new H$(i,a,l,c,d,f);return m&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const a=Ke(i);he(hc,"RemoteStore shutting down."),a.Ea.add(5),await pm(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}kv.provider={build:()=>new kv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sH{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):wr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go="FirestoreClient";class oH{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=_r.UNAUTHENTICATED,this.clientId=aT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async l=>{he(Go,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(he(Go,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Lo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=VT(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function xx(t,e){t.asyncQueue.verifyOperationInProgress(),he(Go,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await RV(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function mP(t,e){t.asyncQueue.verifyOperationInProgress();const n=await lH(t);he(Go,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>lP(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>lP(e.remoteStore,i))),t._onlineComponents=e}async function lH(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){he(Go,"Using user provided OfflineComponentProvider");try{await xx(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ue.FAILED_PRECONDITION||i.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Yu("Error using user provided cache. Falling back to memory cache: "+n),await xx(t,new Uh)}}else he(Go,"Using default OfflineComponentProvider"),await xx(t,new iH(void 0));return t._offlineComponents}async function ZV(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(he(Go,"Using user provided OnlineComponentProvider"),await mP(t,t._uninitializedComponentsProvider._online)):(he(Go,"Using default OnlineComponentProvider"),await mP(t,new kv))),t._onlineComponents}function cH(t){return ZV(t).then((e=>e.syncEngine))}async function pP(t){const e=await ZV(t),n=e.eventManager;return n.onListen=K$.bind(null,e.syncEngine),n.onUnlisten=W$.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=G$.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=X$.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JV(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uH="firestore.googleapis.com",vP=!0;class yP{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new we(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=uH,this.ssl=vP}else this.host=e.host,this.ssl=e.ssl??vP;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=_V;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<TV)throw new we(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}n7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=JV(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new we(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new we(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new we(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class UT{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yP({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new we(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new we(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yP(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new GF;switch(r.type){case"firstParty":return new XF(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new we(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=gP.get(n);r&&(he("ComponentProvider","Removing Datastore"),gP.delete(n),r.terminate())})(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new l0(this.firestore,e,this._query)}}class Mn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mn(this.firestore,e,this._key)}toJSON(){return{type:Mn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(um(n,Mn._jsonSchema))return new Mn(e,r||null,new _e(_t.fromString(n.referencePath)))}}Mn._jsonSchemaVersion="firestore/documentReference/1.0",Mn._jsonSchema={type:Sn("string",Mn._jsonSchemaVersion),referencePath:Sn("string")};class Bo extends l0{constructor(e,n,r){super(e,n,Zy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mn(this.firestore,null,new _e(e))}withConverter(e){return new Bo(this.firestore,e,this._path)}}function dH(t,e,...n){if(t=Sr(t),c4("collection","path",e),t instanceof UT){const r=_t.fromString(e,...n);return oN(r),new Bo(t,null,r)}{if(!(t instanceof Mn||t instanceof Bo))throw new we(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_t.fromString(e,...n));return oN(r),new Bo(t.firestore,null,r)}}function e3(t,e,...n){if(t=Sr(t),arguments.length===1&&(e=aT.newId()),c4("doc","path",e),t instanceof UT){const r=_t.fromString(e,...n);return sN(r),new Mn(t,null,new _e(r))}{if(!(t instanceof Mn||t instanceof Bo))throw new we(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_t.fromString(e,...n));return sN(r),new Mn(t.firestore,t instanceof Bo?t.converter:null,new _e(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP="AsyncQueue";class _P{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new MV(this,"async_queue_retry"),this._c=()=>{const r=ov();r&&he(bP,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=ov();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ov();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Lo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!el(e))throw e;he(bP,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,wr("INTERNAL UNHANDLED ERROR: ",xP(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=jT.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&Oe(47125,{Pc:xP(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function xP(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wP(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1})(t,["next","error","complete"])}class Fh extends UT{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new _P,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _P(e),this._firestoreClient=void 0,await e}}}function fH(t,e,n){n||(n=Ev);const r=rT(t,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),a=r.getOptions(n);if(ac(a,e))return i;throw new we(ue.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new we(ue.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<TV)throw new we(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&Sd(e.host)&&Hj(e.host),r.initialize({options:e,instanceIdentifier:n})}function t3(t){if(t._terminated)throw new we(ue.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||n3(t),t._firestoreClient}function n3(t){var r,i,a;const e=t._freezeSettings(),n=(function(c,d,f,m){return new j7(c,d,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,JV(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new oH(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(c){const d=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(d),_online:d}})(t._componentsProvider))}function hH(t,e){Yu("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return mH(t,kv.provider,{build:r=>new aH(r,n.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}function mH(t,e,n){if((t=Lu(t,Fh))._firestoreClient||t._terminated)throw new we(ue.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new we(ue.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},n3(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Si(On.fromBase64String(e))}catch(n){throw new we(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Si(On.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Si._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(um(e,Si._jsonSchema))return Si.fromBase64String(e.bytes)}}Si._jsonSchemaVersion="firestore/bytes/1.0",Si._jsonSchema={type:Sn("string",Si._jsonSchemaVersion),bytes:Sn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new we(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new we(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new we(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return $e(this._lat,e._lat)||$e(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Pa._jsonSchemaVersion}}static fromJSON(e){if(um(e,Pa._jsonSchema))return new Pa(e.latitude,e.longitude)}}Pa._jsonSchemaVersion="firestore/geoPoint/1.0",Pa._jsonSchema={type:Sn("string",Pa._jsonSchemaVersion),latitude:Sn("number"),longitude:Sn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ra._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(um(e,Ra._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ra(e.vectorValues);throw new we(ue.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ra._jsonSchemaVersion="firestore/vectorValue/1.0",Ra._jsonSchema={type:Sn("string",Ra._jsonSchemaVersion),vectorValues:Sn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pH=/^__.*__$/;class gH{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new tl(e,this.data,this.fieldMask,n,this.fieldTransforms):new Id(e,this.data,n,this.fieldTransforms)}}function i3(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe(40011,{Ac:t})}}class qT{constructor(e,n,r,i,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new qT({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Mv(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(i3(this.Ac)&&pH.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class vH{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||s0(e)}Cc(e,n,r,i=!1){return new qT({Ac:e,methodName:n,Dc:r,path:Qt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yH(t){const e=t._freezeSettings(),n=s0(t._databaseId);return new vH(t._databaseId,!!e.ignoreUndefinedProperties,n)}function bH(t,e,n,r,i,a={}){const l=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);l3("Data must be an object, but it was:",l,r);const c=s3(r,l);let d,f;if(a.merge)d=new Ci(l.fieldMask),f=l.fieldTransforms;else if(a.mergeFields){const m=[];for(const p of a.mergeFields){const y=_H(e,p,n);if(!l.contains(y))throw new we(ue.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);wH(m,y)||m.push(y)}d=new Ci(m),f=l.fieldTransforms.filter((p=>d.covers(p.field)))}else d=null,f=l.fieldTransforms;return new gH(new Lr(c),d,f)}function a3(t,e){if(o3(t=Sr(t)))return l3("Unsupported field value:",e,t),s3(t,e);if(t instanceof r3)return(function(r,i){if(!i3(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const a=[];let l=0;for(const c of r){let d=a3(c,i.wc(l));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),l++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=Sr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return rq(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=yt.fromDate(r);return{timestampValue:sd(i.serializer,a)}}if(r instanceof yt){const a=new yt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:sd(i.serializer,a)}}if(r instanceof Pa)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Si)return{bytesValue:iV(i.serializer,r._byteString)};if(r instanceof Mn){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:TT(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ra)return(function(l,c){return{mapValue:{fields:{[mT]:{stringValue:pT},[ed]:{arrayValue:{values:l.toArray().map((f=>{if(typeof f!="number")throw c.Sc("VectorValues must only contain numeric values.");return yT(c.serializer,f)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${sT(r)}`)})(t,e)}function s3(t,e){const n={};return S4(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Tc(t,((r,i)=>{const a=a3(i,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function o3(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof yt||t instanceof Pa||t instanceof Si||t instanceof Mn||t instanceof r3||t instanceof Ra)}function l3(t,e,n){if(!o3(n)||!u4(n)){const r=sT(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function _H(t,e,n){if((e=Sr(e))instanceof FT)return e._internalPath;if(typeof e=="string")return c3(t,e);throw Mv("Field path arguments must be of type string or ",t,!1,void 0,n)}const xH=new RegExp("[~\\*/\\[\\]]");function c3(t,e,n){if(e.search(xH)>=0)throw Mv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new FT(...e.split("."))._internalPath}catch{throw Mv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Mv(t,e,n,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(a||l)&&(d+=" (found",a&&(d+=` in field ${r}`),l&&(d+=` in document ${i}`),d+=")"),new we(ue.INVALID_ARGUMENT,c+t+d)}function wH(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new EH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(d3("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class EH extends u3{data(){return super.data()}}function d3(t,e){return typeof e=="string"?c3(t,e):e instanceof FT?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TH(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new we(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class SH{convertValue(e,n="none"){switch($o(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(xs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Oe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Tc(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){var r,i,a;const n=(a=(i=(r=e.fields)==null?void 0:r[ed].arrayValue)==null?void 0:i.values)==null?void 0:a.map((l=>Ht(l.doubleValue)));return new Ra(n)}convertGeoPoint(e){return new Pa(Ht(e.latitude),Ht(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Wy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(jh(e));default:return null}}convertTimestamp(e){const n=_s(e);return new yt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=_t.fromString(e);Me(mV(r),9688,{name:e});const i=new lc(r.get(1),r.get(3)),a=new _e(r.popFirst(5));return i.isEqual(n)||wr(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AH(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class fh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class tc extends u3{constructor(e,n,r,i,a,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new lv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(d3("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new we(ue.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=tc._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}tc._jsonSchemaVersion="firestore/documentSnapshot/1.0",tc._jsonSchema={type:Sn("string",tc._jsonSchemaVersion),bundleSource:Sn("string","DocumentSnapshot"),bundleName:Sn("string"),bundle:Sn("string")};class lv extends tc{data(e={}){return super.data(e)}}class Bu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new fh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new lv(this._firestore,this._userDataWriter,r.key,r,new fh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new we(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((c=>{const d=new lv(i._firestore,i._userDataWriter,c.doc.key,c.doc,new fh(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>a||c.type!==3)).map((c=>{const d=new lv(i._firestore,i._userDataWriter,c.doc.key,c.doc,new fh(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,m=-1;return c.type!==0&&(f=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),m=l.indexOf(c.doc.key)),{type:CH(c.type),doc:d,oldIndex:f,newIndex:m}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new we(ue.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Bu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=aT.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function CH(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oe(61501,{type:t})}}Bu._jsonSchemaVersion="firestore/querySnapshot/1.0",Bu._jsonSchema={type:Sn("string",Bu._jsonSchemaVersion),bundleSource:Sn("string","QuerySnapshot"),bundleName:Sn("string"),bundle:Sn("string")};class f3 extends SH{constructor(e){super(),this.firestore=e}convertBytes(e){return new Si(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Mn(this.firestore,null,n)}}function IH(t,e,n){t=Lu(t,Mn);const r=Lu(t.firestore,Fh),i=AH(t.converter,e,n);return NH(r,[bH(yH(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ni.none())])}function OH(t,...e){var d,f,m;t=Sr(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||wP(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(wP(e[r])){const p=e[r];e[r]=(d=p.next)==null?void 0:d.bind(p),e[r+1]=(f=p.error)==null?void 0:f.bind(p),e[r+2]=(m=p.complete)==null?void 0:m.bind(p)}let a,l,c;if(t instanceof Mn)l=Lu(t.firestore,Fh),c=Zy(t._key.path),a={next:p=>{e[r]&&e[r](PH(l,t,p))},error:e[r+1],complete:e[r+2]};else{const p=Lu(t,l0);l=Lu(p.firestore,Fh),c=p._query;const y=new f3(l);a={next:x=>{e[r]&&e[r](new Bu(l,y,p,x))},error:e[r+1],complete:e[r+2]},TH(t._query)}return(function(y,x,w,E){const A=new sH(E),O=new U$(x,A,w);return y.asyncQueue.enqueueAndForget((async()=>V$(await pP(y),O))),()=>{A.Nu(),y.asyncQueue.enqueueAndForget((async()=>L$(await pP(y),O)))}})(t3(l),c,i,a)}function NH(t,e){return(function(r,i){const a=new Lo;return r.asyncQueue.enqueueAndForget((async()=>Q$(await cH(r),i,a))),a.promise})(t3(t),e)}function PH(t,e,n){const r=n.docs.get(e._key),i=new f3(t);return new tc(t,i,e._key,r,new fh(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Cd=i})(Ad),Gu(new sc("firestore",((r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),c=new Fh(new YF(r.getProvider("auth-internal")),new QF(l,r.getProvider("app-check-internal")),(function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new we(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lc(f.options.projectId,m)})(l,i),l);return a={useFetchStreams:n,...a},c._setSettings(a),c}),"PUBLIC").setMultipleInstances(!0)),jo(nN,rN,e),jo(nN,rN,"esm2020")})();var RH="firebase",DH="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jo(RH,DH,"app");function h3(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kH=h3,m3=new lm("auth","Firebase",h3());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv=new tT("@firebase/auth");function MH(t,...e){jv.logLevel<=st.WARN&&jv.warn(`Auth (${Ad}): ${t}`,...e)}function cv(t,...e){jv.logLevel<=st.ERROR&&jv.error(`Auth (${Ad}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ta(t,...e){throw $T(t,...e)}function Da(t,...e){return $T(t,...e)}function p3(t,e,n){const r={...kH(),[e]:n};return new lm("auth","Firebase",r).create(e,{appName:t.name})}function Uo(t){return p3(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $T(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return m3.create(t,...e)}function Ue(t,e,...n){if(!t)throw $T(e,...n)}function fs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw cv(e),new Error(e)}function ws(t,e){t||fs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function jH(){return EP()==="http:"||EP()==="https:"}function EP(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VH(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jH()||A8()||"connection"in navigator)?navigator.onLine:!0}function LH(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e,n){this.shortDelay=e,this.longDelay=n,ws(n>e,"Short delay should be less than long delay!"),this.isMobile=T8()||C8()}get(){return VH()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(t,e){ws(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zH={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BH=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],UH=new ym(3e4,6e4);function Ac(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function nl(t,e,n,r,i={}){return v3(t,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const c=cm({key:t.config.apiKey,...l}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:d,...a};return S8()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&Sd(t.emulatorConfig.host)&&(f.credentials="include"),g3.fetch()(await y3(t,t.config.apiHost,n,c),f)})}async function v3(t,e,n){t._canInitEmulator=!1;const r={...zH,...e};try{const i=new qH(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Rg(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[d,f]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rg(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Rg(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw Rg(t,"user-disabled",l);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw p3(t,m,f);ta(t,m)}}catch(i){if(i instanceof Ps)throw i;ta(t,"network-request-failed",{message:String(i)})}}async function c0(t,e,n,r,i={}){const a=await nl(t,e,n,r,i);return"mfaPendingCredential"in a&&ta(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function y3(t,e,n,r){const i=`${e}${n}?${r}`,a=t,l=a.config.emulator?HT(t.config,i):`${t.config.apiScheme}://${i}`;return BH.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function FH(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class qH{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Da(this.auth,"network-request-failed")),UH.get())})}}function Rg(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Da(t,e,r);return i.customData._tokenResponse=n,i}function TP(t){return t!==void 0&&t.enterprise!==void 0}class $H{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return FH(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function HH(t,e){return nl(t,"GET","/v2/recaptchaConfig",Ac(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KH(t,e){return nl(t,"POST","/v1/accounts:delete",e)}async function Vv(t,e){return nl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function GH(t,e=!1){const n=Sr(t),r=await n.getIdToken(e),i=KT(r);Ue(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Ah(wx(i.auth_time)),issuedAtTime:Ah(wx(i.iat)),expirationTime:Ah(wx(i.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function wx(t){return Number(t)*1e3}function KT(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return cv("JWT malformed, contained fewer than 3 sections"),null;try{const i=Uj(n);return i?JSON.parse(i):(cv("Failed to decode base64 JWT payload"),null)}catch(i){return cv("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function SP(t){const e=KT(t);return Ue(e,"internal-error"),Ue(typeof e.exp<"u","internal-error"),Ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ps&&YH(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function YH({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WH{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ah(this.lastLoginAt),this.creationTime=Ah(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lv(t){var p;const e=t.auth,n=await t.getIdToken(),r=await qh(t,Vv(e,{idToken:n}));Ue(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=(p=i.providerUserInfo)!=null&&p.length?b3(i.providerUserInfo):[],l=QH(t.providerData,a),c=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!(l!=null&&l.length),f=c?d:!1,m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new Bw(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,m)}async function XH(t){const e=Sr(t);await Lv(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function QH(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function b3(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZH(t,e){const n=await v3(t,{},async()=>{const r=cm({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,l=await y3(t,i,"/v1/token",`key=${a}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:c,body:r};return t.emulatorConfig&&Sd(t.emulatorConfig.host)&&(d.credentials="include"),g3.fetch()(l,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function JH(t,e){return nl(t,"POST","/v2/accounts:revokeToken",Ac(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ue(e.idToken,"internal-error"),Ue(typeof e.idToken<"u","internal-error"),Ue(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):SP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ue(e.length!==0,"internal-error");const n=SP(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await ZH(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,l=new Uu;return r&&(Ue(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Ue(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(Ue(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Uu,this.toJSON())}_performRefresh(){return fs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(t,e){Ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Zi{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new WH(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Bw(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await qh(this,this.stsTokenManager.getToken(this.auth,e));return Ue(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return GH(this,e)}reload(){return XH(this)}_assign(e){this!==e&&(Ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Zi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Lv(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yi(this.auth.app))return Promise.reject(Uo(this.auth));const e=await this.getIdToken();return await qh(this,KH(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,l=n.photoURL??void 0,c=n.tenantId??void 0,d=n._redirectEventId??void 0,f=n.createdAt??void 0,m=n.lastLoginAt??void 0,{uid:p,emailVerified:y,isAnonymous:x,providerData:w,stsTokenManager:E}=n;Ue(p&&E,e,"internal-error");const A=Uu.fromJSON(this.name,E);Ue(typeof p=="string",e,"internal-error"),Eo(r,e.name),Eo(i,e.name),Ue(typeof y=="boolean",e,"internal-error"),Ue(typeof x=="boolean",e,"internal-error"),Eo(a,e.name),Eo(l,e.name),Eo(c,e.name),Eo(d,e.name),Eo(f,e.name),Eo(m,e.name);const O=new Zi({uid:p,auth:e,email:i,emailVerified:y,displayName:r,isAnonymous:x,photoURL:l,phoneNumber:a,tenantId:c,stsTokenManager:A,createdAt:f,lastLoginAt:m});return w&&Array.isArray(w)&&(O.providerData=w.map(D=>({...D}))),d&&(O._redirectEventId=d),O}static async _fromIdTokenResponse(e,n,r=!1){const i=new Uu;i.updateFromServerResponse(n);const a=new Zi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Lv(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ue(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?b3(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),c=new Uu;c.updateFromIdToken(r);const d=new Zi({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Bw(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(d,f),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP=new Map;function hs(t){ws(t instanceof Function,"Expected a class definition");let e=AP.get(t);return e?(ws(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,AP.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}_3.type="NONE";const CP=_3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uv(t,e,n){return`firebase:${t}:${e}:${n}`}class Fu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=uv(this.userKey,i.apiKey,a),this.fullPersistenceKey=uv("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Vv(this.auth,{idToken:e}).catch(()=>{});return n?Zi._fromGetAccountInfoResponse(this.auth,n,e):null}return Zi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Fu(hs(CP),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=i[0]||hs(CP);const l=uv(r,e.config.apiKey,e.name);let c=null;for(const f of n)try{const m=await f._get(l);if(m){let p;if(typeof m=="string"){const y=await Vv(e,{idToken:m}).catch(()=>{});if(!y)break;p=await Zi._fromGetAccountInfoResponse(e,y,m)}else p=Zi._fromJSON(e,m);f!==a&&(c=p),a=f;break}}catch{}const d=i.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new Fu(a,e,r):(a=d[0],c&&await a._set(l,c.toJSON()),await Promise.all(n.map(async f=>{if(f!==a)try{await f._remove(l)}catch{}})),new Fu(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IP(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(T3(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(x3(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(A3(e))return"Blackberry";if(C3(e))return"Webos";if(w3(e))return"Safari";if((e.includes("chrome/")||E3(e))&&!e.includes("edge/"))return"Chrome";if(S3(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function x3(t=jn()){return/firefox\//i.test(t)}function w3(t=jn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function E3(t=jn()){return/crios\//i.test(t)}function T3(t=jn()){return/iemobile/i.test(t)}function S3(t=jn()){return/android/i.test(t)}function A3(t=jn()){return/blackberry/i.test(t)}function C3(t=jn()){return/webos/i.test(t)}function GT(t=jn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function eK(t=jn()){var e;return GT(t)&&!!((e=window.navigator)!=null&&e.standalone)}function tK(){return I8()&&document.documentMode===10}function I3(t=jn()){return GT(t)||S3(t)||C3(t)||A3(t)||/windows phone/i.test(t)||T3(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O3(t,e=[]){let n;switch(t){case"Browser":n=IP(jn());break;case"Worker":n=`${IP(jn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ad}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nK{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,c)=>{try{const d=e(a);l(d)}catch(d){c(d)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rK(t,e={}){return nl(t,"GET","/v2/passwordPolicy",Ac(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iK=6;class aK{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??iK,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sK{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new OP(this),this.idTokenSubscription=new OP(this),this.beforeStateQueue=new nK(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=m3,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=hs(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await Fu.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Vv(this,{idToken:e}),r=await Zi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(Yi(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(a=this.redirectUser)==null?void 0:a._redirectEventId,c=r==null?void 0:r._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&(d!=null&&d.user)&&(r=d.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Lv(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=LH()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Yi(this.app))return Promise.reject(Uo(this));const n=e?Sr(e):null;return n&&Ue(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Yi(this.app)?Promise.reject(Uo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Yi(this.app)?Promise.reject(Uo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await rK(this),n=new aK(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new lm("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await JH(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&hs(e)||this._popupRedirectResolver;Ue(n,this,"argument-error"),this.redirectPersistenceManager=await Fu.create(this,[hs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ue(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,i);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=O3(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Yi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&MH(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Nd(t){return Sr(t)}class OP{constructor(e){this.auth=e,this.observer=null,this.addObserver=k8(n=>this.observer=n)}get next(){return Ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let u0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function oK(t){u0=t}function N3(t){return u0.loadJS(t)}function lK(){return u0.recaptchaEnterpriseScript}function cK(){return u0.gapiScript}function uK(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class dK{constructor(){this.enterprise=new fK}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class fK{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const hK="recaptcha-enterprise",P3="NO_RECAPTCHA";class mK{constructor(e){this.type=hK,this.auth=Nd(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,c)=>{HH(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new $H(d);return a.tenantId==null?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,l(f.siteKey)}}).catch(d=>{c(d)})})}function i(a,l,c){const d=window.grecaptcha;TP(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(f=>{l(f)}).catch(()=>{l(P3)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new dK().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(c=>{if(!n&&TP(window.grecaptcha))i(c,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=lK();d.length!==0&&(d+=c),N3(d).then(()=>{i(c,a,l)}).catch(f=>{l(f)})}}).catch(c=>{l(c)})})}}async function NP(t,e,n,r=!1,i=!1){const a=new mK(t);let l;if(i)l=P3;else try{l=await a.verify(n)}catch{l=await a.verify(n,!0)}const c={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const d=c.phoneEnrollmentInfo.phoneNumber,f=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const d=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function PP(t,e,n,r,i){var a;if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await NP(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await NP(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pK(t,e){const n=rT(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(ac(a,e??{}))return i;ta(i,"already-initialized")}return n.initialize({options:e})}function gK(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(hs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function vK(t,e,n){const r=Nd(t);Ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=R3(e),{host:l,port:c}=yK(e),d=c===null?"":`:${c}`,f={url:`${a}//${l}${d}/`},m=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ue(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ue(ac(f,r.config.emulator)&&ac(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,Sd(l)?(Hj(`${a}//${l}${d}`),E8("Auth",!0)):bK()}function R3(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function yK(t){const e=R3(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:RP(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:RP(l)}}}function RP(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function bK(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return fs("not implemented")}_getIdTokenResponse(e){return fs("not implemented")}_linkToIdToken(e,n){return fs("not implemented")}_getReauthenticationResolver(e){return fs("not implemented")}}async function _K(t,e){return nl(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xK(t,e){return c0(t,"POST","/v1/accounts:signInWithPassword",Ac(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wK(t,e){return c0(t,"POST","/v1/accounts:signInWithEmailLink",Ac(t,e))}async function EK(t,e){return c0(t,"POST","/v1/accounts:signInWithEmailLink",Ac(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h extends YT{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new $h(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new $h(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return PP(e,n,"signInWithPassword",xK);case"emailLink":return wK(e,{email:this._email,oobCode:this._password});default:ta(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return PP(e,r,"signUpPassword",_K);case"emailLink":return EK(e,{idToken:n,email:this._email,oobCode:this._password});default:ta(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qu(t,e){return c0(t,"POST","/v1/accounts:signInWithIdp",Ac(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TK="http://localhost";class mc extends YT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new mc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ta("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const l=new mc(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return qu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,qu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,qu(e,n)}buildRequest(){const e={requestUri:TK,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=cm(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SK(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function AK(t){const e=sh(oh(t)).link,n=e?sh(oh(e)).deep_link_id:null,r=sh(oh(t)).deep_link_id;return(r?sh(oh(r)).link:null)||r||n||e||t}class WT{constructor(e){const n=sh(oh(e)),r=n.apiKey??null,i=n.oobCode??null,a=SK(n.mode??null);Ue(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=AK(e);try{return new WT(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(){this.providerId=Pd.PROVIDER_ID}static credential(e,n){return $h._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=WT.parseLink(n);return Ue(r,"argument-error"),$h._fromEmailAndCode(e,r.code,r.tenantId)}}Pd.PROVIDER_ID="password";Pd.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Pd.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm extends D3{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io extends bm{constructor(){super("facebook.com")}static credential(e){return mc._fromParams({providerId:Io.PROVIDER_ID,signInMethod:Io.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Io.credentialFromTaggedObject(e)}static credentialFromError(e){return Io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Io.credential(e.oauthAccessToken)}catch{return null}}}Io.FACEBOOK_SIGN_IN_METHOD="facebook.com";Io.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo extends bm{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return mc._fromParams({providerId:Oo.PROVIDER_ID,signInMethod:Oo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Oo.credentialFromTaggedObject(e)}static credentialFromError(e){return Oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Oo.credential(n,r)}catch{return null}}}Oo.GOOGLE_SIGN_IN_METHOD="google.com";Oo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No extends bm{constructor(){super("github.com")}static credential(e){return mc._fromParams({providerId:No.PROVIDER_ID,signInMethod:No.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return No.credentialFromTaggedObject(e)}static credentialFromError(e){return No.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return No.credential(e.oauthAccessToken)}catch{return null}}}No.GITHUB_SIGN_IN_METHOD="github.com";No.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po extends bm{constructor(){super("twitter.com")}static credential(e,n){return mc._fromParams({providerId:Po.PROVIDER_ID,signInMethod:Po.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Po.credentialFromTaggedObject(e)}static credentialFromError(e){return Po.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Po.credential(n,r)}catch{return null}}}Po.TWITTER_SIGN_IN_METHOD="twitter.com";Po.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await Zi._fromIdTokenResponse(e,r,i),l=DP(r);return new ld({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=DP(r);return new ld({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function DP(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv extends Ps{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,zv.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new zv(e,n,r,i)}}function k3(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?zv._fromErrorAndOperation(t,a,e,r):a})}async function CK(t,e,n=!1){const r=await qh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ld._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IK(t,e,n=!1){const{auth:r}=t;if(Yi(r.app))return Promise.reject(Uo(r));const i="reauthenticate";try{const a=await qh(t,k3(r,i,e,t),n);Ue(a.idToken,r,"internal-error");const l=KT(a.idToken);Ue(l,r,"internal-error");const{sub:c}=l;return Ue(t.uid===c,r,"user-mismatch"),ld._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&ta(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M3(t,e,n=!1){if(Yi(t.app))return Promise.reject(Uo(t));const r="signIn",i=await k3(t,r,e),a=await ld._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function OK(t,e){return M3(Nd(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NK(t){const e=Nd(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function PK(t,e,n){return Yi(t.app)?Promise.reject(Uo(t)):OK(Sr(t),Pd.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&NK(t),r})}function RK(t,e,n,r){return Sr(t).onIdTokenChanged(e,n,r)}function DK(t,e,n){return Sr(t).beforeAuthStateChanged(e,n)}function kK(t,e,n,r){return Sr(t).onAuthStateChanged(e,n,r)}function MK(t){return Sr(t).signOut()}const Bv="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Bv,"1"),this.storage.removeItem(Bv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jK=1e3,VK=10;class V3 extends j3{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=I3(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);tK()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,VK):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},jK)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}V3.type="LOCAL";const LK=V3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3 extends j3{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}L3.type="SESSION";const z3=L3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zK(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new d0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async f=>f(n.origin,a)),d=await zK(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}d0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BK{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((c,d)=>{const f=XT("",20);i.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(p){const y=p;if(y.data.eventId===f)switch(y.data.status){case"ack":clearTimeout(m),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(y.data.response);break;default:clearTimeout(m),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ka(){return window}function UK(t){ka().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B3(){return typeof ka().WorkerGlobalScope<"u"&&typeof ka().importScripts=="function"}async function FK(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function qK(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function $K(){return B3()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3="firebaseLocalStorageDb",HK=1,Uv="firebaseLocalStorage",F3="fbase_key";class _m{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function f0(t,e){return t.transaction([Uv],e?"readwrite":"readonly").objectStore(Uv)}function KK(){const t=indexedDB.deleteDatabase(U3);return new _m(t).toPromise()}function Uw(){const t=indexedDB.open(U3,HK);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Uv,{keyPath:F3})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Uv)?e(r):(r.close(),await KK(),e(await Uw()))})})}async function kP(t,e,n){const r=f0(t,!0).put({[F3]:e,value:n});return new _m(r).toPromise()}async function GK(t,e){const n=f0(t,!1).get(e),r=await new _m(n).toPromise();return r===void 0?null:r.value}function MP(t,e){const n=f0(t,!0).delete(e);return new _m(n).toPromise()}const YK=800,WK=3;class q3{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Uw(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>WK)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return B3()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=d0._getInstance($K()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await FK(),!this.activeServiceWorker)return;this.sender=new BK(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||qK()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Uw();return await kP(e,Bv,"1"),await MP(e,Bv),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>kP(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>GK(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>MP(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=f0(i,!1).getAll();return new _m(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),YK)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}q3.type="LOCAL";const XK=q3;new ym(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QK(t,e){return e?hs(e):(Ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT extends YT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return qu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return qu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ZK(t){return M3(t.auth,new QT(t),t.bypassAuthState)}function JK(t){const{auth:e,user:n}=t;return Ue(n,e,"internal-error"),IK(n,new QT(t),t.bypassAuthState)}async function eG(t){const{auth:e,user:n}=t;return Ue(n,e,"internal-error"),CK(n,new QT(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:l,type:c}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ZK;case"linkViaPopup":case"linkViaRedirect":return eG;case"reauthViaPopup":case"reauthViaRedirect":return JK;default:ta(this.auth,"internal-error")}}resolve(e){ws(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ws(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tG=new ym(2e3,1e4);class Mu extends $3{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Mu.currentPopupAction&&Mu.currentPopupAction.cancel(),Mu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ue(e,this.auth,"internal-error"),e}async onExecution(){ws(this.filter.length===1,"Popup operations only handle one event");const e=XT();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Da(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Da(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Mu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Da(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,tG.get())};e()}}Mu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nG="pendingRedirect",dv=new Map;class rG extends $3{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=dv.get(this.auth._key());if(!e){try{const r=await iG(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}dv.set(this.auth._key(),e)}return this.bypassAuthState||dv.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function iG(t,e){const n=oG(e),r=sG(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function aG(t,e){dv.set(t._key(),e)}function sG(t){return hs(t._redirectPersistence)}function oG(t){return uv(nG,t.config.apiKey,t.name)}async function lG(t,e,n=!1){if(Yi(t.app))return Promise.reject(Uo(t));const r=Nd(t),i=QK(r,e),l=await new rG(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cG=600*1e3;class uG{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!dG(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!H3(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Da(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=cG&&this.cachedEventUids.clear(),this.cachedEventUids.has(jP(e))}saveEventToCache(e){this.cachedEventUids.add(jP(e)),this.lastProcessedEventTime=Date.now()}}function jP(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function H3({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function dG(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return H3(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fG(t,e={}){return nl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hG=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mG=/^https?/;async function pG(t){if(t.config.emulator)return;const{authorizedDomains:e}=await fG(t);for(const n of e)try{if(gG(n))return}catch{}ta(t,"unauthorized-domain")}function gG(t){const e=zw(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!mG.test(n))return!1;if(hG.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vG=new ym(3e4,6e4);function VP(){const t=ka().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function yG(t){return new Promise((e,n)=>{var i,a,l;function r(){VP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{VP(),n(Da(t,"network-request-failed"))},timeout:vG.get()})}if((a=(i=ka().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((l=ka().gapi)!=null&&l.load)r();else{const c=uK("iframefcb");return ka()[c]=()=>{gapi.load?r():n(Da(t,"network-request-failed"))},N3(`${cK()}?onload=${c}`).catch(d=>n(d))}}).catch(e=>{throw fv=null,e})}let fv=null;function bG(t){return fv=fv||yG(t),fv}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _G=new ym(5e3,15e3),xG="__/auth/iframe",wG="emulator/auth/iframe",EG={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},TG=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function SG(t){const e=t.config;Ue(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?HT(e,wG):`https://${t.config.authDomain}/${xG}`,r={apiKey:e.apiKey,appName:t.name,v:Ad},i=TG.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${cm(r).slice(1)}`}async function AG(t){const e=await bG(t),n=ka().gapi;return Ue(n,t,"internal-error"),e.open({where:document.body,url:SG(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:EG,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=Da(t,"network-request-failed"),c=ka().setTimeout(()=>{a(l)},_G.get());function d(){ka().clearTimeout(c),i(r)}r.ping(d).then(d,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CG={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},IG=500,OG=600,NG="_blank",PG="http://localhost";class LP{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function RG(t,e,n,r=IG,i=OG){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d={...CG,width:r.toString(),height:i.toString(),top:a,left:l},f=jn().toLowerCase();n&&(c=E3(f)?NG:n),x3(f)&&(e=e||PG,d.scrollbars="yes");const m=Object.entries(d).reduce((y,[x,w])=>`${y}${x}=${w},`,"");if(eK(f)&&c!=="_self")return DG(e||"",c),new LP(null);const p=window.open(e||"",c,m);Ue(p,t,"popup-blocked");try{p.focus()}catch{}return new LP(p)}function DG(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kG="__/auth/handler",MG="emulator/auth/handler",jG=encodeURIComponent("fac");async function zP(t,e,n,r,i,a){Ue(t.config.authDomain,t,"auth-domain-config-required"),Ue(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ad,eventId:i};if(e instanceof D3){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",D8(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,p]of Object.entries({}))l[m]=p}if(e instanceof bm){const m=e.getScopes().filter(p=>p!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const d=await t._getAppCheckToken(),f=d?`#${jG}=${encodeURIComponent(d)}`:"";return`${VG(t)}?${cm(c).slice(1)}${f}`}function VG({config:t}){return t.emulator?HT(t,MG):`https://${t.authDomain}/${kG}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex="webStorageSupport";class LG{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=z3,this._completeRedirectFn=lG,this._overrideRedirectResult=aG}async _openPopup(e,n,r,i){var l;ws((l=this.eventManagers[e._key()])==null?void 0:l.manager,"_initialize() not called before _openPopup()");const a=await zP(e,n,r,zw(),i);return RG(e,a,XT())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await zP(e,n,r,zw(),i);return UK(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(ws(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await AG(e),r=new uG(e);return n.register("authEvent",i=>(Ue(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ex,{type:Ex},i=>{var l;const a=(l=i==null?void 0:i[0])==null?void 0:l[Ex];a!==void 0&&n(!!a),ta(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=pG(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return I3()||w3()||GT()}}const zG=LG;var BP="@firebase/auth",UP="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BG{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UG(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function FG(t){Gu(new sc("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Ue(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:O3(t)},f=new sK(r,i,a,d);return gK(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Gu(new sc("auth-internal",e=>{const n=Nd(e.getProvider("auth").getImmediate());return(r=>new BG(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),jo(BP,UP,UG(t)),jo(BP,UP,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qG=300,$G=$j("authIdTokenMaxAge")||qG;let FP=null;const HG=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>$G)return;const i=n==null?void 0:n.token;FP!==i&&(FP=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function KG(t=MF()){const e=rT(t,"auth");if(e.isInitialized())return e.getImmediate();const n=pK(t,{popupRedirectResolver:zG,persistence:[XK,LK,z3]}),r=$j("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=HG(a.toString());DK(n,l,()=>l(n.currentUser)),RK(n,c=>l(c))}}const i=b8("auth");return i&&vK(n,`http://${i}`),n}function GG(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}oK({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Da("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",GG().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});FG("Browser");const YG={apiKey:"AIzaSyB0MKYu-efNbYEZnyTy7KHqWVQvBVwozwM",authDomain:"hospital-hanga-roa.firebaseapp.com",projectId:"hospital-hanga-roa",storageBucket:"hospital-hanga-roa.firebasestorage.app",messagingSenderId:"955583524000",appId:"1:955583524000:web:78384874fe6c4a08d82dc5"},K3=Zj(YG),ZT=KG(K3),G3=fH(K3,{ignoreUndefinedProperties:!0});hH(G3).catch(t=>{t.code==="failed-precondition"?console.warn("Firestore persistence failed: Multiple tabs open"):t.code==="unimplemented"&&console.warn("Firestore persistence not available in this browser")});const WG="hanga_roa",XG="dailyRecords",Y3=()=>dH(G3,"hospitals",WG,XG),QG=(t,e)=>({date:e,beds:t.beds||{},discharges:t.discharges||[],transfers:t.transfers||[],nurses:t.nurses||["",""],nurseName:t.nurseName,activeExtraBeds:t.activeExtraBeds||[],lastUpdated:t.lastUpdated instanceof yt?t.lastUpdated.toDate().toISOString():t.lastUpdated||new Date().toISOString()}),ZG=async t=>{try{const e=e3(Y3(),t.date);await IH(e,{...t,lastUpdated:yt.now()},{merge:!0}),console.log(" Saved to Firestore:",t.date)}catch(e){throw console.error(" Error saving to Firestore:",e),e}},JG=(t,e)=>{const n=e3(Y3(),t);return OH(n,r=>{r.exists()?e(QG(r.data(),t)):e(null)},r=>{console.error(" Firestore subscription error:",r),e(null)})},JT="hanga_roa_hospital_data",W3="hanga_roa_nurses_list",Ji=t=>{const e=or.find(r=>r.id===t),n=e!=null&&e.isCuna?"Cuna":"Cama";return{...u8,devices:[],bedId:t,bedMode:n,hasCompanionCrib:!1,clinicalCrib:void 0,insurance:void 0,origin:void 0,admissionOrigin:void 0,admissionOriginDetails:"",documentType:"RUT"}},Cc=()=>{try{const t=localStorage.getItem(JT);return t?JSON.parse(t):{}}catch(t){return console.error("Failed to load data",t),{}}},X3=t=>{const e=Cc();e[t.date]=t,localStorage.setItem(JT,JSON.stringify(e))},eS=async t=>{X3(t);try{await ZG(t)}catch(e){throw console.warn("Firestore sync failed, data saved locally:",e),e}},Fw=t=>Cc()[t]||null,Q3=t=>{const e=Cc(),n=Object.keys(e).sort();let r=null;for(const i of n)if(i<t)r=i;else break;return r?e[r]:null},eY=()=>{try{const t=localStorage.getItem(W3);return t?JSON.parse(t):["Enfermero/a 1","Enfermero/a 2"]}catch{return[]}},qP=t=>{localStorage.setItem(W3,JSON.stringify(t))},tY=(t,e)=>{const n=Cc();if(n[t])return n[t];let r={},i=[];if(or.forEach(l=>{r[l.id]=Ji(l.id)}),e&&n[e]){const l=n[e],c=l.beds;i=[...l.activeExtraBeds||[]],or.forEach(d=>{const f=c[d.id];f&&(f.patientName||f.isBlocked?r[d.id]=JSON.parse(JSON.stringify(f)):(r[d.id].bedMode=f.bedMode||r[d.id].bedMode,r[d.id].hasCompanionCrib=f.hasCompanionCrib||!1),f.location&&d.isExtra&&(r[d.id].location=f.location))})}const a={date:t,beds:r,discharges:[],transfers:[],lastUpdated:new Date().toISOString(),nurses:["",""],activeExtraBeds:i};return eS(a),a},nY=()=>{const t=Cc();return Object.keys(t).sort().reverse()},Fv=t=>{let e=0,n=0,r=0,i=0,a=0,l=0;return or.forEach(c=>{const d=t[c.id];if(d.isBlocked)r++;else{const f=d.patientName&&d.patientName.trim()!=="";f&&e++,d.clinicalCrib&&d.clinicalCrib.patientName&&d.clinicalCrib.patientName.trim()!==""&&n++,f&&d.bedMode==="Cuna"&&(l++,a++),d.clinicalCrib&&d.clinicalCrib.patientName&&(l++,a++),!f&&d.bedMode==="Cuna"&&a++,d.hasCompanionCrib&&(i++,a++)}}),{occupiedBeds:e,occupiedCribs:n,clinicalCribsCount:l,companionCribs:i,totalCribsUsed:a,totalHospitalized:e+n,blockedBeds:r,serviceCapacity:q2,availableCapacity:q2-r}},qv=t=>{if(!t)return"-";const e=t.split("-");return e.length!==3?t:`${e[2]}-${e[1]}-${e[0]}`},ur=t=>t[Math.floor(Math.random()*t.length)],Qf={[Gn.MEDICINA]:[{dx:"Neumona Adquirida en Comunidad",status:bt.DE_CUIDADO,upc:!1},{dx:"Insuficiencia Cardaca Descompensada",status:bt.GRAVE,upc:!0},{dx:"EPOC Exacerbado",status:bt.DE_CUIDADO,upc:!1},{dx:"Crisis Hipertensiva",status:bt.DE_CUIDADO,upc:!1},{dx:"Sepsis Origen Urinario",status:bt.GRAVE,upc:!0},{dx:"Descompensacin Diabtica",status:bt.DE_CUIDADO,upc:!1}],[Gn.CIRUGIA]:[{dx:"Apendicitis Aguda Operada",status:bt.ESTABLE,upc:!1},{dx:"Colecistitis Aguda Operada",status:bt.ESTABLE,upc:!1},{dx:"Abdomen Agudo en Estudio",status:bt.DE_CUIDADO,upc:!1},{dx:"Fractura de Cadera Operada",status:bt.ESTABLE,upc:!1},{dx:"Politraumatismo",status:bt.GRAVE,upc:!0}],[Gn.OBSTETRICIA]:[{dx:"Post Parto Vaginal",status:bt.ESTABLE,upc:!1},{dx:"Post Cesrea",status:bt.ESTABLE,upc:!1},{dx:"Preeclampsia Severa",status:bt.GRAVE,upc:!0},{dx:"Embarazo Alto Riesgo",status:bt.DE_CUIDADO,upc:!1}],[Gn.PEDIATRIA]:[{dx:"Bronquiolitis",status:bt.DE_CUIDADO,upc:!1},{dx:"Sndrome Diarreico Agudo",status:bt.ESTABLE,upc:!1},{dx:"SDR Neonatal",status:bt.GRAVE,upc:!0},{dx:"Neumona Peditrica",status:bt.DE_CUIDADO,upc:!1}],[Gn.TRAUMATOLOGIA]:[{dx:"Fractura de Fmur",status:bt.ESTABLE,upc:!1},{dx:"Fractura de Tibia Operada",status:bt.ESTABLE,upc:!1},{dx:"Trauma Craneoenceflico Severo",status:bt.GRAVE,upc:!0}]},rY=t=>{const e={},n=new Date().toISOString().split("T")[0],r=["Juan Prez","Mara Gonzlez","Carlos Tapia","Ana Tuki","Jos Paoa","Elena Huke","Roberto Nahoe","Carmen Pakarati","Luis Tepano","Sofia Hotu","Pedro Pont","Marta Tuki","Lucas Atan","Isabel Haoa","Nicolas Pate"],i=["12.345.678-9","9.876.543-2","15.432.198-K","18.900.123-4","7.654.321-0","10.234.567-8","11.111.111-1","20.300.400-5"],a=["R1","R2","R3","R4"];or.forEach(c=>{let d=Ji(c.id);const f=Math.random();if(!c.isExtra){if(f<.05)d.isBlocked=!0,d.blockedReason=ur(["Mantencin","Aislamiento","Falla Elctrica"]);else if(f<.9){if(d.patientName=ur(r),d.rut=ur(i),d.documentType="RUT",d.biologicalSex=ur(["Masculino","Femenino"]),d.insurance=ur(["Fonasa","Isapre"]),d.admissionDate=n,d.admissionOrigin=ur(["Urgencias","CAE","APS"]),d.origin=ur(["Residente","Turista Nacional"]),d.hasWristband=!0,d.isRapanui=Math.random()>.5,a.includes(c.id)){const m=ur([Gn.MEDICINA,Gn.CIRUGIA]),p=Qf[m].filter(x=>x.upc),y=ur(p)||Qf[m][0];d.specialty=m,d.pathology=y.dx,d.status=bt.GRAVE,d.isUPC=!0,d.age=Math.floor(Math.random()*60)+20+"a",d.devices=[ur(["VVP","CVC","Sonda Foley","VM"])]}else if(c.id.startsWith("NEO")){d.bedMode="Cuna",d.age=Math.floor(Math.random()*20)+"d",d.specialty=Gn.PEDIATRIA;const m=Qf[Gn.PEDIATRIA],p=ur(m);d.pathology=p.dx,d.status=p.status,d.isUPC=p.upc}else if(d.biologicalSex==="Femenino"&&Math.random()>.7){d.specialty=Gn.OBSTETRICIA;const m=Qf[Gn.OBSTETRICIA],p=ur(m);d.pathology=p.dx,d.status=p.status,d.isUPC=p.upc,d.age=Math.floor(Math.random()*20)+18+"a",Math.random()>.6&&p.dx.includes("Parto")?d.hasCompanionCrib=!0:Math.random()>.7&&(d.clinicalCrib=Ji(c.id),d.clinicalCrib.bedMode="Cuna",d.clinicalCrib.patientName="RN de "+d.patientName,d.clinicalCrib.age="2d",d.clinicalCrib.specialty=Gn.PEDIATRIA,d.clinicalCrib.pathology="SDR Recin Nacido",d.clinicalCrib.rut="Recin Nacido",d.clinicalCrib.status=bt.DE_CUIDADO,d.clinicalCrib.biologicalSex=ur(["Masculino","Femenino"]))}else{const m=ur([Gn.MEDICINA,Gn.CIRUGIA,Gn.TRAUMATOLOGIA]),p=Qf[m],y=ur(p);d.specialty=m,d.pathology=y.dx,d.status=y.status,d.isUPC=y.upc,d.age=Math.floor(Math.random()*70)+10+"a"}!d.isUPC&&Math.random()>.7&&(d.devices=[ur(Xg)]),d.cudyr={changeClothes:Math.floor(Math.random()*4),mobilization:Math.floor(Math.random()*4),feeding:Math.floor(Math.random()*4),elimination:Math.floor(Math.random()*4),psychosocial:Math.floor(Math.random()*4),surveillance:Math.floor(Math.random()*4),vitalSigns:Math.floor(Math.random()*4),fluidBalance:Math.floor(Math.random()*4),oxygenTherapy:d.isUPC?Math.floor(Math.random()*2)+2:Math.floor(Math.random()*4),airway:d.isUPC?Math.floor(Math.random()*2)+2:Math.floor(Math.random()*4),proInterventions:Math.floor(Math.random()*4),skinCare:Math.floor(Math.random()*4),pharmacology:Math.floor(Math.random()*4),invasiveElements:d.devices.length>0?Math.floor(Math.random()*2)+1:Math.floor(Math.random()*4)}}}e[c.id]=d});const l={date:t,beds:e,discharges:[],transfers:[],lastUpdated:new Date().toISOString(),nurses:["Enfermero Demo 1","Enfermero Demo 2"],activeExtraBeds:[]};return eS(l),l};var mt;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const a={};for(const l of i)a[l]=l;return a},t.getValidEnumValues=i=>{const a=t.objectKeys(i).filter(c=>typeof i[i[c]]!="number"),l={};for(const c of a)l[c]=i[c];return t.objectValues(l)},t.objectValues=i=>t.objectKeys(i).map(function(a){return i[a]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const l in i)Object.prototype.hasOwnProperty.call(i,l)&&a.push(l);return a},t.find=(i,a)=>{for(const l of i)if(a(l))return l},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,a=" | "){return i.map(l=>typeof l=="string"?`'${l}'`:l).join(a)}t.joinValues=r,t.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(mt||(mt={}));var $P;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})($P||($P={}));const Ie=mt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),To=t=>{switch(typeof t){case"undefined":return Ie.undefined;case"string":return Ie.string;case"number":return Number.isNaN(t)?Ie.nan:Ie.number;case"boolean":return Ie.boolean;case"function":return Ie.function;case"bigint":return Ie.bigint;case"symbol":return Ie.symbol;case"object":return Array.isArray(t)?Ie.array:t===null?Ie.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Ie.promise:typeof Map<"u"&&t instanceof Map?Ie.map:typeof Set<"u"&&t instanceof Set?Ie.set:typeof Date<"u"&&t instanceof Date?Ie.date:Ie.object;default:return Ie.unknown}},ge=mt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Es extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(a){return a.message},r={_errors:[]},i=a=>{for(const l of a.issues)if(l.code==="invalid_union")l.unionErrors.map(i);else if(l.code==="invalid_return_type")i(l.returnTypeError);else if(l.code==="invalid_arguments")i(l.argumentsError);else if(l.path.length===0)r._errors.push(n(l));else{let c=r,d=0;for(;d<l.path.length;){const f=l.path[d];d===l.path.length-1?(c[f]=c[f]||{_errors:[]},c[f]._errors.push(n(l))):c[f]=c[f]||{_errors:[]},c=c[f],d++}}};return i(this),r}static assert(e){if(!(e instanceof Es))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,mt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)if(i.path.length>0){const a=i.path[0];n[a]=n[a]||[],n[a].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Es.create=t=>new Es(t);const qw=(t,e)=>{let n;switch(t.code){case ge.invalid_type:t.received===Ie.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case ge.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,mt.jsonStringifyReplacer)}`;break;case ge.unrecognized_keys:n=`Unrecognized key(s) in object: ${mt.joinValues(t.keys,", ")}`;break;case ge.invalid_union:n="Invalid input";break;case ge.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${mt.joinValues(t.options)}`;break;case ge.invalid_enum_value:n=`Invalid enum value. Expected ${mt.joinValues(t.options)}, received '${t.received}'`;break;case ge.invalid_arguments:n="Invalid function arguments";break;case ge.invalid_return_type:n="Invalid function return type";break;case ge.invalid_date:n="Invalid date";break;case ge.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:mt.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case ge.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case ge.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case ge.custom:n="Invalid input";break;case ge.invalid_intersection_types:n="Intersection results could not be merged";break;case ge.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case ge.not_finite:n="Number must be finite";break;default:n=e.defaultError,mt.assertNever(t)}return{message:n}};let iY=qw;function aY(){return iY}const sY=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,a=[...n,...i.path||[]],l={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let c="";const d=r.filter(f=>!!f).slice().reverse();for(const f of d)c=f(l,{data:e,defaultError:c}).message;return{...i,path:a,message:c}};function xe(t,e){const n=aY(),r=sY({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===qw?void 0:qw].filter(i=>!!i)});t.common.issues.push(r)}class Ar{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return He;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const a=await i.key,l=await i.value;r.push({key:a,value:l})}return Ar.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:a,value:l}=i;if(a.status==="aborted"||l.status==="aborted")return He;a.status==="dirty"&&e.dirty(),l.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof l.value<"u"||i.alwaysSet)&&(r[a.value]=l.value)}return{status:e.value,value:r}}}const He=Object.freeze({status:"aborted"}),hh=t=>({status:"dirty",value:t}),Ri=t=>({status:"valid",value:t}),HP=t=>t.status==="aborted",KP=t=>t.status==="dirty",cd=t=>t.status==="valid",$v=t=>typeof Promise<"u"&&t instanceof Promise;var ke;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ke||(ke={}));class La{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const GP=(t,e)=>{if(cd(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Es(t.common.issues);return this._error=n,this._error}}};function Je(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(l,c)=>{const{message:d}=t;return l.code==="invalid_enum_value"?{message:d??c.defaultError}:typeof c.data>"u"?{message:d??r??c.defaultError}:l.code!=="invalid_type"?{message:c.defaultError}:{message:d??n??c.defaultError}},description:i}}class ct{get description(){return this._def.description}_getType(e){return To(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:To(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ar,ctx:{common:e.parent.common,data:e.data,parsedType:To(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if($v(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:To(e)},i=this._parseSync({data:e,path:r.path,parent:r});return GP(r,i)}"~validate"(e){var r,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:To(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:n});return cd(a)?{value:a.value}:{issues:n.common.issues}}catch(a){(i=(r=a==null?void 0:a.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(a=>cd(a)?{value:a.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:To(e)},i=this._parse({data:e,path:r.path,parent:r}),a=await($v(i)?i:Promise.resolve(i));return GP(r,a)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,a)=>{const l=e(i),c=()=>a.addIssue({code:ge.custom,...r(i)});return typeof Promise<"u"&&l instanceof Promise?l.then(d=>d?!0:(c(),!1)):l?!0:(c(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new fd({schema:this,typeName:qe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Fo.create(this,this._def)}nullable(){return hd.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ma.create(this)}promise(){return Wv.create(this,this._def)}or(e){return Kv.create([this,e],this._def)}and(e){return Gv.create(this,e,this._def)}transform(e){return new fd({...Je(this._def),schema:this,typeName:qe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Yw({...Je(this._def),innerType:this,defaultValue:n,typeName:qe.ZodDefault})}brand(){return new OY({typeName:qe.ZodBranded,type:this,...Je(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Ww({...Je(this._def),innerType:this,catchValue:n,typeName:qe.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return tS.create(this,e)}readonly(){return Xw.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const oY=/^c[^\s-]{8,}$/i,lY=/^[0-9a-z]+$/,cY=/^[0-9A-HJKMNP-TV-Z]{26}$/i,uY=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,dY=/^[a-z0-9_-]{21}$/i,fY=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,hY=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,mY=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,pY="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Tx;const gY=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,vY=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,yY=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,bY=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,_Y=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,xY=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Z3="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",wY=new RegExp(`^${Z3}$`);function J3(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function EY(t){return new RegExp(`^${J3(t)}$`)}function TY(t){let e=`${Z3}T${J3(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function SY(t,e){return!!((e==="v4"||!e)&&gY.test(t)||(e==="v6"||!e)&&yY.test(t))}function AY(t,e){if(!fY.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function CY(t,e){return!!((e==="v4"||!e)&&vY.test(t)||(e==="v6"||!e)&&bY.test(t))}class ms extends ct{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Ie.string){const a=this._getOrReturnCtx(e);return xe(a,{code:ge.invalid_type,expected:Ie.string,received:a.parsedType}),He}const r=new Ar;let i;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),xe(i,{code:ge.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),xe(i,{code:ge.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const l=e.data.length>a.value,c=e.data.length<a.value;(l||c)&&(i=this._getOrReturnCtx(e,i),l?xe(i,{code:ge.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):c&&xe(i,{code:ge.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")mY.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"email",code:ge.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")Tx||(Tx=new RegExp(pY,"u")),Tx.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"emoji",code:ge.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")uY.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"uuid",code:ge.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")dY.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"nanoid",code:ge.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")oY.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"cuid",code:ge.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")lY.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"cuid2",code:ge.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")cY.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"ulid",code:ge.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),xe(i,{validation:"url",code:ge.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"regex",code:ge.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),xe(i,{code:ge.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),xe(i,{code:ge.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),xe(i,{code:ge.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?TY(a).test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{code:ge.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?wY.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{code:ge.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?EY(a).test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{code:ge.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?hY.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"duration",code:ge.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?SY(e.data,a.version)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"ip",code:ge.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?AY(e.data,a.alg)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"jwt",code:ge.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?CY(e.data,a.version)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"cidr",code:ge.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?_Y.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"base64",code:ge.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?xY.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"base64url",code:ge.invalid_string,message:a.message}),r.dirty()):mt.assertNever(a);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:ge.invalid_string,...ke.errToObj(r)})}_addCheck(e){return new ms({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ke.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ke.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ke.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ke.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ke.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ke.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ke.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ke.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ke.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ke.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ke.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ke.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ke.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...ke.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ke.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ke.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...ke.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...ke.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...ke.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...ke.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...ke.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...ke.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...ke.errToObj(n)})}nonempty(e){return this.min(1,ke.errToObj(e))}trim(){return new ms({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ms({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ms({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ms.create=t=>new ms({checks:[],typeName:qe.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...Je(t)});function IY(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,a=Number.parseInt(t.toFixed(i).replace(".","")),l=Number.parseInt(e.toFixed(i).replace(".",""));return a%l/10**i}class ud extends ct{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Ie.number){const a=this._getOrReturnCtx(e);return xe(a,{code:ge.invalid_type,expected:Ie.number,received:a.parsedType}),He}let r;const i=new Ar;for(const a of this._def.checks)a.kind==="int"?mt.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),xe(r,{code:ge.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),xe(r,{code:ge.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),xe(r,{code:ge.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?IY(e.data,a.value)!==0&&(r=this._getOrReturnCtx(e,r),xe(r,{code:ge.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),xe(r,{code:ge.not_finite,message:a.message}),i.dirty()):mt.assertNever(a);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ke.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ke.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ke.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ke.toString(n))}setLimit(e,n,r,i){return new ud({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ke.toString(i)}]})}_addCheck(e){return new ud({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ke.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ke.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ke.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ke.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ke.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ke.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:ke.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ke.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ke.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&mt.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}ud.create=t=>new ud({checks:[],typeName:qe.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Je(t)});class Hh extends ct{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Ie.bigint)return this._getInvalidInput(e);let r;const i=new Ar;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),xe(r,{code:ge.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),xe(r,{code:ge.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),xe(r,{code:ge.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):mt.assertNever(a);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return xe(n,{code:ge.invalid_type,expected:Ie.bigint,received:n.parsedType}),He}gte(e,n){return this.setLimit("min",e,!0,ke.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ke.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ke.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ke.toString(n))}setLimit(e,n,r,i){return new Hh({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ke.toString(i)}]})}_addCheck(e){return new Hh({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ke.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ke.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ke.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ke.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ke.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Hh.create=t=>new Hh({checks:[],typeName:qe.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...Je(t)});class $w extends ct{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Ie.boolean){const r=this._getOrReturnCtx(e);return xe(r,{code:ge.invalid_type,expected:Ie.boolean,received:r.parsedType}),He}return Ri(e.data)}}$w.create=t=>new $w({typeName:qe.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Je(t)});class Hv extends ct{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Ie.date){const a=this._getOrReturnCtx(e);return xe(a,{code:ge.invalid_type,expected:Ie.date,received:a.parsedType}),He}if(Number.isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return xe(a,{code:ge.invalid_date}),He}const r=new Ar;let i;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),xe(i,{code:ge.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),xe(i,{code:ge.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):mt.assertNever(a);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Hv({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:ke.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:ke.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Hv.create=t=>new Hv({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:qe.ZodDate,...Je(t)});class YP extends ct{_parse(e){if(this._getType(e)!==Ie.symbol){const r=this._getOrReturnCtx(e);return xe(r,{code:ge.invalid_type,expected:Ie.symbol,received:r.parsedType}),He}return Ri(e.data)}}YP.create=t=>new YP({typeName:qe.ZodSymbol,...Je(t)});class WP extends ct{_parse(e){if(this._getType(e)!==Ie.undefined){const r=this._getOrReturnCtx(e);return xe(r,{code:ge.invalid_type,expected:Ie.undefined,received:r.parsedType}),He}return Ri(e.data)}}WP.create=t=>new WP({typeName:qe.ZodUndefined,...Je(t)});class XP extends ct{_parse(e){if(this._getType(e)!==Ie.null){const r=this._getOrReturnCtx(e);return xe(r,{code:ge.invalid_type,expected:Ie.null,received:r.parsedType}),He}return Ri(e.data)}}XP.create=t=>new XP({typeName:qe.ZodNull,...Je(t)});class QP extends ct{constructor(){super(...arguments),this._any=!0}_parse(e){return Ri(e.data)}}QP.create=t=>new QP({typeName:qe.ZodAny,...Je(t)});class ZP extends ct{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ri(e.data)}}ZP.create=t=>new ZP({typeName:qe.ZodUnknown,...Je(t)});class Yo extends ct{_parse(e){const n=this._getOrReturnCtx(e);return xe(n,{code:ge.invalid_type,expected:Ie.never,received:n.parsedType}),He}}Yo.create=t=>new Yo({typeName:qe.ZodNever,...Je(t)});class JP extends ct{_parse(e){if(this._getType(e)!==Ie.undefined){const r=this._getOrReturnCtx(e);return xe(r,{code:ge.invalid_type,expected:Ie.void,received:r.parsedType}),He}return Ri(e.data)}}JP.create=t=>new JP({typeName:qe.ZodVoid,...Je(t)});class Ma extends ct{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==Ie.array)return xe(n,{code:ge.invalid_type,expected:Ie.array,received:n.parsedType}),He;if(i.exactLength!==null){const l=n.data.length>i.exactLength.value,c=n.data.length<i.exactLength.value;(l||c)&&(xe(n,{code:l?ge.too_big:ge.too_small,minimum:c?i.exactLength.value:void 0,maximum:l?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(xe(n,{code:ge.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(xe(n,{code:ge.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((l,c)=>i.type._parseAsync(new La(n,l,n.path,c)))).then(l=>Ar.mergeArray(r,l));const a=[...n.data].map((l,c)=>i.type._parseSync(new La(n,l,n.path,c)));return Ar.mergeArray(r,a)}get element(){return this._def.type}min(e,n){return new Ma({...this._def,minLength:{value:e,message:ke.toString(n)}})}max(e,n){return new Ma({...this._def,maxLength:{value:e,message:ke.toString(n)}})}length(e,n){return new Ma({...this._def,exactLength:{value:e,message:ke.toString(n)}})}nonempty(e){return this.min(1,e)}}Ma.create=(t,e)=>new Ma({type:t,minLength:null,maxLength:null,exactLength:null,typeName:qe.ZodArray,...Je(e)});function Du(t){if(t instanceof En){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Fo.create(Du(r))}return new En({...t._def,shape:()=>e})}else return t instanceof Ma?new Ma({...t._def,type:Du(t.element)}):t instanceof Fo?Fo.create(Du(t.unwrap())):t instanceof hd?hd.create(Du(t.unwrap())):t instanceof pc?pc.create(t.items.map(e=>Du(e))):t}class En extends ct{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=mt.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==Ie.object){const f=this._getOrReturnCtx(e);return xe(f,{code:ge.invalid_type,expected:Ie.object,received:f.parsedType}),He}const{status:r,ctx:i}=this._processInputParams(e),{shape:a,keys:l}=this._getCached(),c=[];if(!(this._def.catchall instanceof Yo&&this._def.unknownKeys==="strip"))for(const f in i.data)l.includes(f)||c.push(f);const d=[];for(const f of l){const m=a[f],p=i.data[f];d.push({key:{status:"valid",value:f},value:m._parse(new La(i,p,i.path,f)),alwaysSet:f in i.data})}if(this._def.catchall instanceof Yo){const f=this._def.unknownKeys;if(f==="passthrough")for(const m of c)d.push({key:{status:"valid",value:m},value:{status:"valid",value:i.data[m]}});else if(f==="strict")c.length>0&&(xe(i,{code:ge.unrecognized_keys,keys:c}),r.dirty());else if(f!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const f=this._def.catchall;for(const m of c){const p=i.data[m];d.push({key:{status:"valid",value:m},value:f._parse(new La(i,p,i.path,m)),alwaysSet:m in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const f=[];for(const m of d){const p=await m.key,y=await m.value;f.push({key:p,value:y,alwaysSet:m.alwaysSet})}return f}).then(f=>Ar.mergeObjectSync(r,f)):Ar.mergeObjectSync(r,d)}get shape(){return this._def.shape()}strict(e){return ke.errToObj,new En({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var a,l;const i=((l=(a=this._def).errorMap)==null?void 0:l.call(a,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:ke.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new En({...this._def,unknownKeys:"strip"})}passthrough(){return new En({...this._def,unknownKeys:"passthrough"})}extend(e){return new En({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new En({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:qe.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new En({...this._def,catchall:e})}pick(e){const n={};for(const r of mt.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new En({...this._def,shape:()=>n})}omit(e){const n={};for(const r of mt.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new En({...this._def,shape:()=>n})}deepPartial(){return Du(this)}partial(e){const n={};for(const r of mt.objectKeys(this.shape)){const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}return new En({...this._def,shape:()=>n})}required(e){const n={};for(const r of mt.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof Fo;)a=a._def.innerType;n[r]=a}return new En({...this._def,shape:()=>n})}keyof(){return eL(mt.objectKeys(this.shape))}}En.create=(t,e)=>new En({shape:()=>t,unknownKeys:"strip",catchall:Yo.create(),typeName:qe.ZodObject,...Je(e)});En.strictCreate=(t,e)=>new En({shape:()=>t,unknownKeys:"strict",catchall:Yo.create(),typeName:qe.ZodObject,...Je(e)});En.lazycreate=(t,e)=>new En({shape:t,unknownKeys:"strip",catchall:Yo.create(),typeName:qe.ZodObject,...Je(e)});class Kv extends ct{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(a){for(const c of a)if(c.result.status==="valid")return c.result;for(const c of a)if(c.result.status==="dirty")return n.common.issues.push(...c.ctx.common.issues),c.result;const l=a.map(c=>new Es(c.ctx.common.issues));return xe(n,{code:ge.invalid_union,unionErrors:l}),He}if(n.common.async)return Promise.all(r.map(async a=>{const l={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:l}),ctx:l}})).then(i);{let a;const l=[];for(const d of r){const f={...n,common:{...n.common,issues:[]},parent:null},m=d._parseSync({data:n.data,path:n.path,parent:f});if(m.status==="valid")return m;m.status==="dirty"&&!a&&(a={result:m,ctx:f}),f.common.issues.length&&l.push(f.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const c=l.map(d=>new Es(d));return xe(n,{code:ge.invalid_union,unionErrors:c}),He}}get options(){return this._def.options}}Kv.create=(t,e)=>new Kv({options:t,typeName:qe.ZodUnion,...Je(e)});function Hw(t,e){const n=To(t),r=To(e);if(t===e)return{valid:!0,data:t};if(n===Ie.object&&r===Ie.object){const i=mt.objectKeys(e),a=mt.objectKeys(t).filter(c=>i.indexOf(c)!==-1),l={...t,...e};for(const c of a){const d=Hw(t[c],e[c]);if(!d.valid)return{valid:!1};l[c]=d.data}return{valid:!0,data:l}}else if(n===Ie.array&&r===Ie.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let a=0;a<t.length;a++){const l=t[a],c=e[a],d=Hw(l,c);if(!d.valid)return{valid:!1};i.push(d.data)}return{valid:!0,data:i}}else return n===Ie.date&&r===Ie.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Gv extends ct{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(a,l)=>{if(HP(a)||HP(l))return He;const c=Hw(a.value,l.value);return c.valid?((KP(a)||KP(l))&&n.dirty(),{status:n.value,value:c.data}):(xe(r,{code:ge.invalid_intersection_types}),He)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,l])=>i(a,l)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Gv.create=(t,e,n)=>new Gv({left:t,right:e,typeName:qe.ZodIntersection,...Je(n)});class pc extends ct{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ie.array)return xe(r,{code:ge.invalid_type,expected:Ie.array,received:r.parsedType}),He;if(r.data.length<this._def.items.length)return xe(r,{code:ge.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),He;!this._def.rest&&r.data.length>this._def.items.length&&(xe(r,{code:ge.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...r.data].map((l,c)=>{const d=this._def.items[c]||this._def.rest;return d?d._parse(new La(r,l,r.path,c)):null}).filter(l=>!!l);return r.common.async?Promise.all(a).then(l=>Ar.mergeArray(n,l)):Ar.mergeArray(n,a)}get items(){return this._def.items}rest(e){return new pc({...this._def,rest:e})}}pc.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new pc({items:t,typeName:qe.ZodTuple,rest:null,...Je(e)})};class Yv extends ct{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ie.object)return xe(r,{code:ge.invalid_type,expected:Ie.object,received:r.parsedType}),He;const i=[],a=this._def.keyType,l=this._def.valueType;for(const c in r.data)i.push({key:a._parse(new La(r,c,r.path,c)),value:l._parse(new La(r,r.data[c],r.path,c)),alwaysSet:c in r.data});return r.common.async?Ar.mergeObjectAsync(n,i):Ar.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof ct?new Yv({keyType:e,valueType:n,typeName:qe.ZodRecord,...Je(r)}):new Yv({keyType:ms.create(),valueType:e,typeName:qe.ZodRecord,...Je(n)})}}class eR extends ct{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ie.map)return xe(r,{code:ge.invalid_type,expected:Ie.map,received:r.parsedType}),He;const i=this._def.keyType,a=this._def.valueType,l=[...r.data.entries()].map(([c,d],f)=>({key:i._parse(new La(r,c,r.path,[f,"key"])),value:a._parse(new La(r,d,r.path,[f,"value"]))}));if(r.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const d of l){const f=await d.key,m=await d.value;if(f.status==="aborted"||m.status==="aborted")return He;(f.status==="dirty"||m.status==="dirty")&&n.dirty(),c.set(f.value,m.value)}return{status:n.value,value:c}})}else{const c=new Map;for(const d of l){const f=d.key,m=d.value;if(f.status==="aborted"||m.status==="aborted")return He;(f.status==="dirty"||m.status==="dirty")&&n.dirty(),c.set(f.value,m.value)}return{status:n.value,value:c}}}}eR.create=(t,e,n)=>new eR({valueType:e,keyType:t,typeName:qe.ZodMap,...Je(n)});class Kh extends ct{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ie.set)return xe(r,{code:ge.invalid_type,expected:Ie.set,received:r.parsedType}),He;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(xe(r,{code:ge.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(xe(r,{code:ge.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const a=this._def.valueType;function l(d){const f=new Set;for(const m of d){if(m.status==="aborted")return He;m.status==="dirty"&&n.dirty(),f.add(m.value)}return{status:n.value,value:f}}const c=[...r.data.values()].map((d,f)=>a._parse(new La(r,d,r.path,f)));return r.common.async?Promise.all(c).then(d=>l(d)):l(c)}min(e,n){return new Kh({...this._def,minSize:{value:e,message:ke.toString(n)}})}max(e,n){return new Kh({...this._def,maxSize:{value:e,message:ke.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Kh.create=(t,e)=>new Kh({valueType:t,minSize:null,maxSize:null,typeName:qe.ZodSet,...Je(e)});class Kw extends ct{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Kw.create=(t,e)=>new Kw({getter:t,typeName:qe.ZodLazy,...Je(e)});class Gw extends ct{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return xe(n,{received:n.data,code:ge.invalid_literal,expected:this._def.value}),He}return{status:"valid",value:e.data}}get value(){return this._def.value}}Gw.create=(t,e)=>new Gw({value:t,typeName:qe.ZodLiteral,...Je(e)});function eL(t,e){return new dd({values:t,typeName:qe.ZodEnum,...Je(e)})}class dd extends ct{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return xe(n,{expected:mt.joinValues(r),received:n.parsedType,code:ge.invalid_type}),He}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return xe(n,{received:n.data,code:ge.invalid_enum_value,options:r}),He}return Ri(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return dd.create(e,{...this._def,...n})}exclude(e,n=this._def){return dd.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}dd.create=eL;class tR extends ct{_parse(e){const n=mt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Ie.string&&r.parsedType!==Ie.number){const i=mt.objectValues(n);return xe(r,{expected:mt.joinValues(i),received:r.parsedType,code:ge.invalid_type}),He}if(this._cache||(this._cache=new Set(mt.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=mt.objectValues(n);return xe(r,{received:r.data,code:ge.invalid_enum_value,options:i}),He}return Ri(e.data)}get enum(){return this._def.values}}tR.create=(t,e)=>new tR({values:t,typeName:qe.ZodNativeEnum,...Je(e)});class Wv extends ct{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Ie.promise&&n.common.async===!1)return xe(n,{code:ge.invalid_type,expected:Ie.promise,received:n.parsedType}),He;const r=n.parsedType===Ie.promise?n.data:Promise.resolve(n.data);return Ri(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Wv.create=(t,e)=>new Wv({type:t,typeName:qe.ZodPromise,...Je(e)});class fd extends ct{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===qe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:l=>{xe(r,l),l.fatal?n.abort():n.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const l=i.transform(r.data,a);if(r.common.async)return Promise.resolve(l).then(async c=>{if(n.value==="aborted")return He;const d=await this._def.schema._parseAsync({data:c,path:r.path,parent:r});return d.status==="aborted"?He:d.status==="dirty"||n.value==="dirty"?hh(d.value):d});{if(n.value==="aborted")return He;const c=this._def.schema._parseSync({data:l,path:r.path,parent:r});return c.status==="aborted"?He:c.status==="dirty"||n.value==="dirty"?hh(c.value):c}}if(i.type==="refinement"){const l=c=>{const d=i.refinement(c,a);if(r.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return c.status==="aborted"?He:(c.status==="dirty"&&n.dirty(),l(c.value),{status:n.value,value:c.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>c.status==="aborted"?He:(c.status==="dirty"&&n.dirty(),l(c.value).then(()=>({status:n.value,value:c.value}))))}if(i.type==="transform")if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!cd(l))return He;const c=i.transform(l.value,a);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:c}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>cd(l)?Promise.resolve(i.transform(l.value,a)).then(c=>({status:n.value,value:c})):He);mt.assertNever(i)}}fd.create=(t,e,n)=>new fd({schema:t,typeName:qe.ZodEffects,effect:e,...Je(n)});fd.createWithPreprocess=(t,e,n)=>new fd({schema:e,effect:{type:"preprocess",transform:t},typeName:qe.ZodEffects,...Je(n)});class Fo extends ct{_parse(e){return this._getType(e)===Ie.undefined?Ri(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Fo.create=(t,e)=>new Fo({innerType:t,typeName:qe.ZodOptional,...Je(e)});class hd extends ct{_parse(e){return this._getType(e)===Ie.null?Ri(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}hd.create=(t,e)=>new hd({innerType:t,typeName:qe.ZodNullable,...Je(e)});class Yw extends ct{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Ie.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Yw.create=(t,e)=>new Yw({innerType:t,typeName:qe.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Je(e)});class Ww extends ct{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return $v(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Es(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Es(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Ww.create=(t,e)=>new Ww({innerType:t,typeName:qe.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Je(e)});class nR extends ct{_parse(e){if(this._getType(e)!==Ie.nan){const r=this._getOrReturnCtx(e);return xe(r,{code:ge.invalid_type,expected:Ie.nan,received:r.parsedType}),He}return{status:"valid",value:e.data}}}nR.create=t=>new nR({typeName:qe.ZodNaN,...Je(t)});class OY extends ct{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class tS extends ct{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?He:a.status==="dirty"?(n.dirty(),hh(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?He:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new tS({in:e,out:n,typeName:qe.ZodPipeline})}}class Xw extends ct{_parse(e){const n=this._def.innerType._parse(e),r=i=>(cd(i)&&(i.value=Object.freeze(i.value)),i);return $v(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}Xw.create=(t,e)=>new Xw({innerType:t,typeName:qe.ZodReadonly,...Je(e)});var qe;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(qe||(qe={}));const Ye=ms.create,jr=ud.create,Gi=$w.create;Yo.create;const mh=Ma.create,xm=En.create,Bl=Kv.create;Gv.create;pc.create;const tL=Yv.create,nS=Kw.create,xn=Gw.create;dd.create;Wv.create;Fo.create;hd.create;const NY=xm({changeClothes:jr(),mobilization:jr(),feeding:jr(),elimination:jr(),psychosocial:jr(),surveillance:jr(),vitalSigns:jr(),fluidBalance:jr(),oxygenTherapy:jr(),airway:jr(),proInterventions:jr(),skinCare:jr(),pharmacology:jr(),invasiveElements:jr()}),PY=xm({bedId:Ye(),isBlocked:Gi(),blockedReason:Ye().optional(),bedMode:Bl([xn("Cama"),xn("Cuna")]).optional().default("Cama"),hasCompanionCrib:Gi().optional().default(!1),patientName:Ye().optional(),rut:Ye().optional(),documentType:Bl([xn("RUT"),xn("Pasaporte")]).optional(),age:Ye().optional(),birthDate:Ye().optional(),biologicalSex:Bl([xn("Masculino"),xn("Femenino"),xn("Indeterminado")]).optional(),insurance:Bl([xn("Fonasa"),xn("Isapre"),xn("Particular")]).optional(),admissionOrigin:Bl([xn("CAE"),xn("APS"),xn("Urgencias"),xn("Pabelln"),xn("Otro")]).optional(),admissionOriginDetails:Ye().optional(),origin:Bl([xn("Residente"),xn("Turista Nacional"),xn("Turista Extranjero")]).optional(),isRapanui:Gi().optional(),pathology:Ye().optional(),diagnosisComments:Ye().optional(),specialty:Ye().optional(),status:Ye().optional(),admissionDate:Ye().optional(),hasWristband:Gi(),isBedridden:Gi(),devices:mh(Ye()),surgicalComplication:Gi(),isUPC:Gi(),location:Ye().optional(),cudyr:NY.optional(),handoffNote:Ye().optional()}),h0=PY.extend({clinicalCrib:nS(()=>h0.optional())}),RY=xm({id:Ye(),bedName:Ye(),bedId:Ye(),bedType:Ye(),patientName:Ye().optional(),rut:Ye().optional(),diagnosis:Ye().optional(),status:Bl([xn("Vivo"),xn("Fallecido")]),age:Ye().optional(),insurance:Ye().optional(),origin:Ye().optional(),isRapanui:Gi().optional(),originalData:nS(()=>h0.optional()),isNested:Gi().optional()}),DY=xm({id:Ye(),bedName:Ye(),bedId:Ye(),bedType:Ye(),patientName:Ye().optional(),rut:Ye().optional(),diagnosis:Ye().optional(),evacuationMethod:Ye(),receivingCenter:Ye(),receivingCenterOther:Ye().optional(),transferEscort:Ye().optional(),age:Ye().optional(),insurance:Ye().optional(),origin:Ye().optional(),isRapanui:Gi().optional(),originalData:nS(()=>h0.optional()),isNested:Gi().optional()}),kY=xm({date:Ye(),beds:tL(h0),discharges:mh(RY).optional(),transfers:mh(DY).optional(),lastUpdated:Ye(),nurses:mh(Ye()).optional(),nurseName:Ye().optional(),activeExtraBeds:mh(Ye()).optional()}),MY=tL(kY),jY=()=>{const t=Cc(),e=JSON.stringify(t,null,2),n=new Blob([e],{type:"application/json"}),r=URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download=`hanga_roa_respaldo_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(r)},VY=t=>{if(!t)return;const e=[d8.join(",")],n=(c,d,f,m,p)=>{const y=w=>{if(w==null)return"";const E=String(w);return E.includes(",")||E.includes('"')||E.includes(`
`)?`"${E.replace(/"/g,'""')}"`:E};let x="";return t.nurses&&Array.isArray(t.nurses)?x=t.nurses.filter(w=>w).join(" & "):t.nurseName&&(x=t.nurseName),[y(c),y(d),y(p||m.location||""),y(f),y(m.bedMode||"Cama"),y(m.hasCompanionCrib?"SI":"NO"),y(m.isBlocked?"SI":"NO"),y(m.blockedReason||""),y(m.patientName),y(m.rut),y(m.age),y(m.biologicalSex||""),y(qv(m.birthDate)),y(m.insurance),y(m.origin),y(m.isRapanui?"SI":"NO"),y(m.pathology),y(m.specialty),y(m.status),y(qv(m.admissionDate)),y(m.hasWristband?"SI":"NO"),y(m.isBedridden?"SI":"NO"),y(m.devices.join("|")),y(m.surgicalComplication?"SI":"NO"),y(m.isUPC?"SI":"NO"),y(x)].join(",")};or.forEach(c=>{const d=t.beds[c.id],f=d.patientName&&d.patientName.trim()!=="",m=d.clinicalCrib&&d.clinicalCrib.patientName;!d.isBlocked&&!f&&!m||((d.isBlocked||f)&&e.push(n(c.id,c.name,c.type,d)),d.clinicalCrib&&d.clinicalCrib.patientName&&e.push(n(c.id+"-C",c.name+" (Cuna Clnica)","Cuna",d.clinicalCrib,d.location)))}),t.discharges&&t.discharges.length>0&&(e.push(`
--- ALTAS ---`),e.push("Cama,Tipo,Paciente,RUT,Diagnstico,Estado,Edad,Previsin"),t.discharges.forEach(c=>{const d=f=>f?`"${String(f).replace(/"/g,'""')}"`:"";e.push(`${c.bedName},${c.bedType},${d(c.patientName)},${c.rut},${d(c.diagnosis)},${c.status},${c.age||""},${c.insurance||""}`)})),t.transfers&&t.transfers.length>0&&(e.push(`
--- TRASLADOS ---`),e.push("Cama,Tipo,Paciente,RUT,Diagnstico,Medio,Centro,Acompaante,Edad,Previsin"),t.transfers.forEach(c=>{const d=m=>m?`"${String(m).replace(/"/g,'""')}"`:"",f=c.receivingCenter==="Otro"?c.receivingCenterOther:c.receivingCenter;e.push(`${c.bedName},${c.bedType},${d(c.patientName)},${c.rut},${d(c.diagnosis)},${c.evacuationMethod},${d(f)},${d(c.transferEscort)},${c.age||""},${c.insurance||""}`)}));const r=e.join(`
`),i=new Blob([r],{type:"text/csv;charset=utf-8;"}),a=URL.createObjectURL(i),l=document.createElement("a");l.href=a,l.download=`Censo_HangaRoa_${t.date}.csv`,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(a)},LY=async t=>new Promise((e,n)=>{const r=new FileReader;r.onload=i=>{var a;try{const l=(a=i.target)==null?void 0:a.result,c=JSON.parse(l),d=MY.safeParse(c);if(!d.success){console.error("Validation Errors:",d.error.format()),alert("El archivo JSON no cumple con el formato requerido. Revise la consola para ms detalles."),e(!1);return}const m={...Cc(),...c};localStorage.setItem(JT,JSON.stringify(m)),e(!0)}catch(l){console.error("Import failed",l),e(!1)}},r.onerror=()=>e(!1),r.readAsText(t)}),zY=(t,e)=>({updatePatient:(m,p,y)=>{if(!t)return;const x={...t.beds};x[m]={...x[m],[p]:y},e({...t,beds:x,lastUpdated:new Date().toISOString()})},updateCudyr:(m,p,y)=>{if(!t)return;const x={...t.beds},w=x[m],E=w.cudyr||{changeClothes:0,mobilization:0,feeding:0,elimination:0,psychosocial:0,surveillance:0,vitalSigns:0,fluidBalance:0,oxygenTherapy:0,airway:0,proInterventions:0,skinCare:0,pharmacology:0,invasiveElements:0};x[m]={...w,cudyr:{...E,[p]:y}},e({...t,beds:x,lastUpdated:new Date().toISOString()})},updateClinicalCrib:(m,p,y)=>{if(!t)return;const x={...t.beds},w=x[m];if(p==="create"){const E=Ji(m);E.bedMode="Cuna",x[m]={...w,clinicalCrib:E,hasCompanionCrib:!1}}else p==="remove"?x[m]={...w,clinicalCrib:void 0}:w.clinicalCrib&&(x[m]={...w,clinicalCrib:{...w.clinicalCrib,[p]:y}});e({...t,beds:x,lastUpdated:new Date().toISOString()})},clearPatient:m=>{if(!t)return;const p={...t.beds},y=Ji(m);y.location=p[m].location,p[m]=y,e({...t,beds:p})},clearAllBeds:()=>{if(!t)return;const m={};or.forEach(p=>{var x;const y=Ji(p.id);y.location=(x=t.beds[p.id])==null?void 0:x.location,m[p.id]=y}),e({...t,beds:m,discharges:[],transfers:[],lastUpdated:new Date().toISOString()})},moveOrCopyPatient:(m,p,y)=>{if(!t)return;const x=t.beds[p],w={...t.beds};if(m==="move"){w[y]={...x,bedId:y,location:w[y].location};const E=Ji(p);E.location=w[p].location,w[p]=E}else{const E=JSON.parse(JSON.stringify(x));w[y]={...E,bedId:y,location:w[y].location}}e({...t,beds:w})},toggleBlockBed:(m,p)=>{if(!t)return;const y={...t.beds},x=y[m],w=!x.isBlocked;y[m]={...x,isBlocked:w,blockedReason:w&&p||""},e({...t,beds:y,lastUpdated:new Date().toISOString()})},toggleExtraBed:m=>{if(!t)return;const p=t.activeExtraBeds||[];let y;p.includes(m)?y=p.filter(x=>x!==m):y=[...p,m],e({...t,activeExtraBeds:y})}}),BY=(t,e)=>({addDischarge:(l,c,d)=>{if(!t)return;const f=t.beds[l],m=or.find(w=>w.id===l),p=[];p.push({id:crypto.randomUUID(),bedName:(m==null?void 0:m.name)||l,bedId:l,bedType:(m==null?void 0:m.type)||"",patientName:f.patientName,rut:f.rut,diagnosis:f.pathology,status:c,age:f.age,insurance:f.insurance,origin:f.origin,isRapanui:f.isRapanui,originalData:JSON.parse(JSON.stringify(f)),isNested:!1}),f.clinicalCrib&&f.clinicalCrib.patientName&&d&&p.push({id:crypto.randomUUID(),bedName:((m==null?void 0:m.name)||l)+" (Cuna)",bedId:l,bedType:"Cuna",patientName:f.clinicalCrib.patientName,rut:f.clinicalCrib.rut,diagnosis:f.clinicalCrib.pathology,status:d,age:f.clinicalCrib.age,insurance:f.insurance,origin:f.origin,isRapanui:f.isRapanui,originalData:JSON.parse(JSON.stringify(f.clinicalCrib)),isNested:!0});const y={...t.beds},x=Ji(l);x.location=y[l].location,y[l]=x,e({...t,beds:y,discharges:[...t.discharges||[],...p]})},updateDischarge:(l,c)=>{if(!t)return;const d=t.discharges.map(f=>f.id===l?{...f,status:c}:f);e({...t,discharges:d})},deleteDischarge:l=>{t&&e({...t,discharges:t.discharges.filter(c=>c.id!==l)})},undoDischarge:l=>{if(!t)return;const c=t.discharges.find(m=>m.id===l);if(!c||!c.originalData)return;const d={...t.beds},f=d[c.bedId];if(c.isNested){if(!f.patientName){alert("Para restaurar la cuna clnica, primero debe estar ocupada la cama principal(Madre / Tutor).");return}if(f.clinicalCrib&&f.clinicalCrib.patientName){alert(`No se puede deshacer el alta de ${c.patientName} porque ya existe una cuna clnica ocupada en esta cama.`);return}d[c.bedId]={...f,clinicalCrib:c.originalData}}else{if(f.patientName){alert(`No se puede deshacer el alta de ${c.patientName} porque la cama ${c.bedName} ya est ocupada por otro paciente.`);return}const m=Ji(c.bedId);d[c.bedId]={...m,...c.originalData,location:f.location}}e({...t,beds:d,discharges:t.discharges.filter(m=>m.id!==l)})}}),UY=(t,e)=>({addTransfer:(l,c,d,f,m)=>{if(!t)return;const p=t.beds[l],y=or.find(A=>A.id===l),x=[];x.push({id:crypto.randomUUID(),bedName:(y==null?void 0:y.name)||l,bedId:l,bedType:(y==null?void 0:y.type)||"",patientName:p.patientName,rut:p.rut,diagnosis:p.pathology,evacuationMethod:c,receivingCenter:d,receivingCenterOther:f,transferEscort:m,age:p.age,insurance:p.insurance,origin:p.origin,isRapanui:p.isRapanui,originalData:JSON.parse(JSON.stringify(p)),isNested:!1}),p.clinicalCrib&&p.clinicalCrib.patientName&&x.push({id:crypto.randomUUID(),bedName:((y==null?void 0:y.name)||l)+" (Cuna)",bedId:l,bedType:"Cuna",patientName:p.clinicalCrib.patientName,rut:p.clinicalCrib.rut,diagnosis:p.clinicalCrib.pathology,evacuationMethod:c,receivingCenter:d,receivingCenterOther:f,transferEscort:m,age:p.clinicalCrib.age,insurance:p.insurance,origin:p.origin,isRapanui:p.isRapanui,originalData:JSON.parse(JSON.stringify(p.clinicalCrib)),isNested:!0});const w={...t.beds},E=Ji(l);E.location=w[l].location,w[l]=E,e({...t,beds:w,transfers:[...t.transfers||[],...x]})},updateTransfer:(l,c)=>{if(!t)return;const d=t.transfers.map(f=>f.id===l?{...f,...c}:f);e({...t,transfers:d})},deleteTransfer:l=>{t&&e({...t,transfers:t.transfers.filter(c=>c.id!==l)})},undoTransfer:l=>{if(!t)return;const c=t.transfers.find(m=>m.id===l);if(!c||!c.originalData)return;const d={...t.beds},f=d[c.bedId];if(c.isNested){if(!f.patientName){alert("Para restaurar la cuna clnica, primero debe estar ocupada la cama principal.");return}if(f.clinicalCrib&&f.clinicalCrib.patientName){alert(`No se puede deshacer el traslado de ${c.patientName} porque ya existe una cuna clnica ocupada.`);return}d[c.bedId]={...f,clinicalCrib:c.originalData}}else{if(f.patientName){alert(`No se puede deshacer el traslado de ${c.patientName} porque la cama ${c.bedName} ya est ocupada.`);return}const m=Ji(c.bedId);d[c.bedId]={...m,...c.originalData,location:f.location}}e({...t,beds:d,transfers:t.transfers.filter(m=>m.id!==l)})}}),FY=(t,e)=>({updateNurse:(r,i)=>{if(!t)return;const a=t.nurses&&t.nurses.length===2?[...t.nurses]:["",""];a[r]=i,e({...t,nurses:a})}}),qY=t=>{const[e,n]=S.useState(null),[r,i]=S.useState("idle"),[a,l]=S.useState(null);S.useEffect(()=>{const E=Fw(t);E&&n(E)},[t]),S.useEffect(()=>{const E=JG(t,A=>{A&&(n(O=>A),l(new Date),i("saved"),X3(A))});return()=>E()},[t]);const c=async E=>{n(E),i("saving");try{await eS(E),i("saved"),l(new Date),setTimeout(()=>i("idle"),2e3)}catch(A){console.error(A),i("error")}},d=E=>{let A;if(E){const D=Q3(t);if(D)A=D.date;else{alert("No se encontr un registro anterior para copiar.");return}}const O=tY(t,A);n(O)},f=()=>{const E=rY(t);n({...E})},m=()=>{const E=Fw(t);n(E||null)},p=zY(e,c),y=BY(e,c),x=UY(e,c),w=FY(e,c);return{record:e,syncStatus:r,lastSyncTime:a,createDay:d,updatePatient:p.updatePatient,updateClinicalCrib:p.updateClinicalCrib,updateCudyr:p.updateCudyr,clearPatient:p.clearPatient,clearAllBeds:p.clearAllBeds,moveOrCopyPatient:p.moveOrCopyPatient,toggleBlockBed:p.toggleBlockBed,toggleExtraBed:p.toggleExtraBed,updateNurse:w.updateNurse,addDischarge:y.addDischarge,updateDischarge:y.updateDischarge,deleteDischarge:y.deleteDischarge,undoDischarge:y.undoDischarge,addTransfer:x.addTransfer,updateTransfer:x.updateTransfer,deleteTransfer:x.deleteTransfer,undoTransfer:x.undoTransfer,generateDemo:f,refresh:m}},nL=S.createContext(void 0),$Y=({value:t,children:e})=>_.jsx(nL.Provider,{value:t,children:e}),Ic=()=>{const t=S.useContext(nL);if(!t)throw new Error("useDailyRecordContext must be used within a DailyRecordProvider");return t};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HY=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),KY=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),rR=t=>{const e=KY(t);return e.charAt(0).toUpperCase()+e.slice(1)},rL=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),GY=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var YY={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WY=S.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:l,...c},d)=>S.createElement("svg",{ref:d,...YY,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:rL("lucide",i),...!a&&!GY(c)&&{"aria-hidden":"true"},...c},[...l.map(([f,m])=>S.createElement(f,m)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=(t,e)=>{const n=S.forwardRef(({className:r,...i},a)=>S.createElement(WY,{ref:a,iconNode:e,className:rL(`lucide-${HY(rR(t))}`,`lucide-${t}`,r),...i}));return n.displayName=rR(t),n};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XY=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],QY=Fe("activity",XY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZY=[["path",{d:"M10 10H6",key:"1bsnug"}],["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.28a1 1 0 0 0-.684-.948l-1.923-.641a1 1 0 0 1-.578-.502l-1.539-3.076A1 1 0 0 0 16.382 8H14",key:"lrkjwd"}],["path",{d:"M8 8v4",key:"1fwk8c"}],["path",{d:"M9 18h6",key:"x1upvd"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],JY=Fe("ambulance",ZY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eW=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],iL=Fe("arrow-right-left",eW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tW=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],nW=Fe("arrow-right",tW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rW=[["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M19.38 6.813A9 9 0 0 1 20.8 10.2a2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"11xh7x"}],["path",{d:"M9 12h.01",key:"157uk2"}]],Oc=Fe("baby",rW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iW=[["path",{d:"M2 20v-8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8",key:"1k78r4"}],["path",{d:"M4 10V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4",key:"fb3tl2"}],["path",{d:"M12 4v6",key:"1dcgq2"}],["path",{d:"M2 18h20",key:"ajqnye"}]],aL=Fe("bed-double",iW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aW=[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]],sW=Fe("bed",aW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oW=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],sL=Fe("bot",oW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lW=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],cW=Fe("building-2",lW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uW=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],oL=Fe("calculator",uW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dW=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],fW=Fe("calendar",dW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hW=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],mW=Fe("chart-no-axes-column",hW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pW=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],gW=Fe("check",pW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vW=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],iR=Fe("chevron-left",vW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yW=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],aR=Fe("chevron-right",yW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],rS=Fe("circle-alert",bW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _W=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],iS=Fe("circle-check-big",_W);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],wW=Fe("circle-x",xW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EW=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],lL=Fe("clipboard-list",EW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TW=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],SW=Fe("clock",TW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AW=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],CW=Fe("cloud",AW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IW=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],cL=Fe("copy",IW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OW=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],NW=Fe("database",OW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PW=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],RW=Fe("ellipsis",PW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DW=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],kW=Fe("file-braces",DW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MW=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],jW=Fe("file-spreadsheet",MW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VW=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],LW=Fe("git-branch",VW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zW=[["path",{d:"M12 7v4",key:"xawao1"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M14 9h-4",key:"1w2s2s"}],["path",{d:"M18 11h2a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-9a2 2 0 0 1 2-2h2",key:"1tthqt"}],["path",{d:"M18 21V5a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16",key:"dw4p4i"}]],BW=Fe("hospital",zW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UW=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]],sR=Fe("layout-list",UW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FW=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],uL=Fe("loader-circle",FW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qW=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Ch=Fe("lock",qW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $W=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],dL=Fe("log-out",$W);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HW=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],KW=Fe("mail",HW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GW=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],fL=Fe("message-square",GW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YW=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],oR=Fe("pencil",YW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WW=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Xv=Fe("plus",WW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XW=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],QW=Fe("printer",XW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZW=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],JW=Fe("refresh-cw",ZW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eX=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],lR=Fe("rotate-ccw",eX);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tX=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],m0=Fe("settings",tX);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nX=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],rX=Fe("terminal",nX);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iX=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],$u=Fe("trash-2",iX);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aX=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],sX=Fe("triangle-alert",aX);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oX=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],lX=Fe("upload",oX);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cX=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],p0=Fe("user",cX);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uX=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],hL=Fe("users",uX);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dX=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],fX=Fe("wifi-off",dX);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hX=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],mX=Fe("wifi",hX);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pX=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],md=Fe("x",pX);function mL(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=mL(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ce(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=mL(t))&&(r&&(r+=" "),r+=e);return r}const gX=({currentModule:t,setModule:e,censusViewMode:n,setCensusViewMode:r,onPrint:i,onOpenBedManager:a,onExportJSON:l,onExportCSV:c,onImportJSON:d,onOpenSettings:f,userEmail:m,onLogout:p,isFirebaseConnected:y})=>{const{record:x}=Ic(),w=S.useRef(null),E=()=>{var D;return(D=w.current)==null?void 0:D.click()},A=D=>{e(D),D==="CENSUS"&&r("REGISTER")},O=({module:D,label:j,icon:q})=>_.jsxs("button",{onClick:()=>A(D),className:Ce("flex items-center gap-2 px-4 py-3 border-b-2 transition-colors font-medium text-sm",t===D?"border-white text-white":"border-transparent text-medical-200 hover:text-white hover:border-medical-400"),children:[_.jsx(q,{size:16})," ",j]});return _.jsx("nav",{className:"bg-medical-900 text-white shadow-md sticky top-0 z-50 print:hidden",children:_.jsxs("div",{className:"max-w-screen-2xl mx-auto px-4 flex flex-wrap gap-4 justify-between items-center",children:[_.jsxs("div",{className:"flex items-center gap-2 py-2",children:[_.jsx("div",{className:"bg-white/10 p-2 rounded-lg",children:_.jsx(sR,{size:24,className:"text-medical-100"})}),_.jsxs("div",{children:[_.jsx("h1",{className:"text-lg font-bold leading-tight",children:"Hospital Hanga Roa"}),_.jsx("p",{className:"text-xs text-medical-200",children:"Gestin de Camas"})]})]}),_.jsxs("div",{className:"flex gap-1 overflow-x-auto self-end",children:[_.jsx(O,{module:"CENSUS",label:"Censo Diario",icon:sR}),_.jsx(O,{module:"CUDYR",label:"CUDYR",icon:lL}),_.jsx(O,{module:"HANDOFF",label:"Entrega Turno",icon:fL})]}),_.jsxs("div",{className:"flex items-center gap-2 py-2",children:[_.jsx("div",{className:"mr-4",children:_.jsxs("button",{onClick:()=>{t!=="CENSUS"?(e("CENSUS"),r("ANALYTICS")):r(n==="ANALYTICS"?"REGISTER":"ANALYTICS")},className:Ce("px-3 py-1.5 rounded-md text-sm font-medium transition-colors flex items-center gap-2",t==="CENSUS"&&n==="ANALYTICS"?"bg-white/20 text-white shadow-sm":"text-medical-200 hover:text-white hover:bg-white/10"),title:n==="ANALYTICS"&&t==="CENSUS"?"Volver al Registro":"Ver Estadsticas",children:[_.jsx(mW,{size:16})," ",_.jsx("span",{className:"hidden sm:inline",children:"Estadstica"})]})}),_.jsxs("div",{className:"flex items-center gap-1 border-l border-medical-700 pl-4",children:[t==="CENSUS"&&n==="REGISTER"&&x&&_.jsxs(_.Fragment,{children:[_.jsxs("button",{onClick:i,className:"flex items-center gap-2 bg-slate-700 hover:bg-slate-600 text-white px-3 py-1.5 rounded-md text-xs font-bold uppercase mr-2 border border-slate-600 transition-colors",children:[_.jsx(QW,{size:14})," PDF"]}),_.jsxs("button",{onClick:a,className:"flex items-center gap-2 bg-red-500/20 hover:bg-red-500/40 text-red-100 px-3 py-1.5 rounded-md text-xs font-bold uppercase mr-2 border border-red-500/30 transition-colors",children:[_.jsx(Ch,{size:14})," Gestionar Camas"]})]}),_.jsx("button",{onClick:l,className:"p-2 text-medical-200 hover:text-white hover:bg-white/10 rounded",title:"Exportar Respaldo (JSON)",children:_.jsx(kW,{size:18})}),_.jsx("button",{onClick:c,className:"p-2 text-medical-200 hover:text-white hover:bg-white/10 rounded",title:"Exportar Reporte Diario (CSV)",children:_.jsx(jW,{size:18})}),_.jsx("button",{onClick:E,className:"p-2 text-medical-200 hover:text-white hover:bg-white/10 rounded",title:"Importar Respaldo",children:_.jsx(lX,{size:18})}),_.jsx("input",{type:"file",ref:w,className:"hidden",accept:".json,.csv",onChange:d}),_.jsx("button",{onClick:f,className:"p-2 ml-1 text-medical-200 hover:text-white hover:bg-white/10 rounded",title:"Configuracin y Pruebas",children:_.jsx(m0,{size:18})}),m&&p&&_.jsxs("div",{className:"flex items-center gap-2 ml-3 pl-3 border-l border-medical-700",children:[_.jsxs("div",{className:"flex items-center gap-1 text-xs text-medical-200",children:[_.jsx(p0,{size:14}),_.jsx("span",{className:"hidden md:inline max-w-[120px] truncate",children:m})]}),_.jsx("button",{onClick:p,className:"p-2 text-red-300 hover:text-red-100 hover:bg-red-500/20 rounded transition-colors",title:"Cerrar Sesin",children:_.jsx(dL,{size:16})})]}),_.jsx("div",{className:Ce("ml-3 p-1.5 rounded-full flex items-center justify-center",y?"bg-green-500/20":"bg-red-500/20"),title:y?"Conectado a Firebase":"Sin conexin a Firebase",children:y?_.jsx(mX,{size:14,className:"text-green-400"}):_.jsx(fX,{size:14,className:"text-red-400"})})]})]})]})})},vX=({selectedYear:t,setSelectedYear:e,selectedMonth:n,setSelectedMonth:r,selectedDay:i,setSelectedDay:a,currentDateString:l,daysInMonth:c,existingDaysInMonth:d,onOpenBedManager:f,syncStatus:m,lastSyncTime:p})=>{const y=w=>{let E=n+w,A=t;E>11&&(E=0,A++),E<0&&(E=11,A--),r(E),e(A),a(1)},x=qv(l);return _.jsx("div",{className:"bg-white border-b border-slate-200 shadow-sm sticky top-[60px] z-40 print:hidden",children:_.jsxs("div",{className:"max-w-screen-2xl mx-auto",children:[_.jsxs("div",{className:"flex items-center justify-between border-b border-slate-100 px-4 py-2",children:[_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsxs("div",{className:"flex items-center text-slate-700 font-bold",children:[_.jsx("button",{onClick:()=>e(w=>w-1),className:"p-1 hover:bg-slate-100 rounded",children:_.jsx(iR,{size:16})}),_.jsx("span",{className:"mx-2 text-lg",children:t}),_.jsx("button",{onClick:()=>e(w=>w+1),className:"p-1 hover:bg-slate-100 rounded",children:_.jsx(aR,{size:16})})]}),_.jsx("div",{className:"h-6 w-px bg-slate-300 mx-2"}),_.jsxs("div",{className:"flex items-center text-slate-700 font-bold min-w-[160px] justify-between",children:[_.jsx("button",{onClick:()=>y(-1),className:"p-1 hover:bg-slate-100 rounded",children:_.jsx(iR,{size:16})}),_.jsx("span",{className:"mx-2 uppercase text-sm tracking-wide",children:Vj[n]}),_.jsx("button",{onClick:()=>y(1),className:"p-1 hover:bg-slate-100 rounded",children:_.jsx(aR,{size:16})})]})]}),_.jsxs("div",{className:"flex items-center gap-3",children:[m&&_.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-0.5 rounded text-[10px] font-medium transition-colors",title:`ltima sincronizacin: ${(p==null?void 0:p.toLocaleTimeString())||"Nunca"}`,children:[m==="saving"&&_.jsxs(_.Fragment,{children:[_.jsx(JW,{size:12,className:"animate-spin text-blue-500"}),_.jsx("span",{className:"text-blue-600 hidden sm:inline",children:"Guardando..."})]}),m==="saved"&&_.jsxs(_.Fragment,{children:[_.jsx(CW,{size:12,className:"text-green-500"}),_.jsx("span",{className:"text-green-600 hidden sm:inline",children:"Guardado"})]}),m==="error"&&_.jsxs(_.Fragment,{children:[_.jsx(sX,{size:12,className:"text-red-500"}),_.jsx("span",{className:"text-red-600",children:"Error Guardado"})]})]}),f&&_.jsxs("button",{onClick:f,className:"flex items-center gap-1.5 px-2.5 py-1 bg-slate-100 hover:bg-slate-200 text-slate-600 rounded-lg text-xs font-medium border border-slate-200 transition-colors",title:"Gestionar Camas",children:[_.jsx(m0,{size:14}),_.jsx("span",{className:"hidden sm:inline",children:"Gestin Camas"})]}),_.jsx("div",{className:"text-slate-400 text-xs font-mono hidden md:block",children:x})]})]}),_.jsx("div",{className:"flex overflow-x-auto px-4 py-2 gap-2 scrollbar-hide",children:Array.from({length:c},(w,E)=>E+1).map(w=>{const E=d.includes(w),A=w===i;return _.jsxs("button",{onClick:()=>a(w),className:Ce("flex flex-col items-center justify-center w-10 h-10 rounded-lg text-sm font-medium transition-all shrink-0 relative",A?"bg-medical-600 text-white shadow-md scale-105":"bg-slate-50 text-slate-500 hover:bg-slate-100 hover:text-slate-700"),children:[_.jsx("span",{children:w}),E&&!A&&_.jsx("span",{className:"absolute bottom-1 w-1 h-1 bg-green-500 rounded-full"})]},w)})})]})})},yX=({isOpen:t,onClose:e,onGenerateDemo:n,onRunTest:r})=>t?_.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm print:hidden",children:_.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full animate-scale-in",children:[_.jsxs("div",{className:"p-4 border-b border-slate-200 flex justify-between items-center bg-slate-50 rounded-t-xl",children:[_.jsxs("h3",{className:"font-bold text-slate-800 flex items-center gap-2",children:[_.jsx(m0,{size:18})," Configuracin y Herramientas"]}),_.jsx("button",{onClick:e,className:"text-slate-400 hover:text-slate-700",children:_.jsx(md,{size:20})})]}),_.jsxs("div",{className:"p-6 space-y-6",children:[_.jsxs("div",{className:"bg-blue-50 border border-blue-100 p-4 rounded-lg",children:[_.jsxs("h4",{className:"font-bold text-blue-800 flex items-center gap-2 mb-2",children:[_.jsx(NW,{size:16})," Datos de Prueba (Demo)"]}),_.jsxs("p",{className:"text-xs text-blue-600 mb-4",children:["Rellena la tabla actual con pacientes ficticios. til para practicar o ver cmo funciona el sistema.",_.jsx("br",{}),_.jsx("span",{className:"font-bold",children:"Nota: Sobrescribir los datos del da actual."})]}),_.jsx("button",{onClick:()=>{n(),e()},className:"w-full py-2 bg-blue-600 hover:bg-blue-700 text-white rounded font-bold text-sm transition-colors shadow-sm",children:"Generar Pacientes Demo"})]}),_.jsxs("div",{className:"bg-purple-50 border border-purple-100 p-4 rounded-lg",children:[_.jsxs("h4",{className:"font-bold text-purple-800 flex items-center gap-2 mb-2",children:[_.jsx(sL,{size:16})," Agente de Prueba (Auto-Test)"]}),_.jsx("p",{className:"text-xs text-purple-600 mb-4",children:"Ejecuta un script automtico que verifica la integridad del sistema, almacenamiento y clculos matemticos."}),_.jsx("button",{onClick:()=>{r(),e()},className:"w-full py-2 bg-purple-600 hover:bg-purple-700 text-white rounded font-bold text-sm transition-colors shadow-sm",children:"Ejecutar Diagnstico"})]})]})]})}):null,bX=({isRunning:t,onComplete:e,currentRecord:n})=>{const[r,i]=S.useState([]),[a,l]=S.useState(0);S.useEffect(()=>{t&&(i([]),l(0),f())},[t]);const c=(m,p="pending")=>{const y=Date.now()+Math.random();return i(x=>[...x,{id:y,message:m,status:p}]),y},d=(m,p)=>{i(y=>y.map(x=>x.id===m?{...x,status:p}:x))},f=async()=>{const m=E=>new Promise(A=>setTimeout(A,E)),p=c("Verificando acceso a LocalStorage...");await m(800);try{const E="test_agent_key";if(localStorage.setItem(E,"ok"),localStorage.getItem(E)==="ok")localStorage.removeItem(E),d(p,"success");else throw new Error("Read failed")}catch{d(p,"error")}l(25);const y=c("Validando estructura de camas (18 + Extras)...");await m(800),n&&Object.keys(n.beds).length>=18?d(y,"success"):d(y,"error"),l(50);const x=c("Verificando lgica de clculo de ocupacin...");if(await m(1e3),n){const E=Fv(n.beds),A=Object.values(n.beds).filter(D=>D.patientName||D.isBlocked).length,O=E.totalHospitalized+E.blockedBeds;Math.abs(A-O)<=1?d(x,"success"):(c(`Error: Contados ${A} vs Calc ${O}`,"error"),d(x,"error"))}else d(x,"error");l(75);const w=c("Simulando creacin y borrado de paciente temporal...");await m(1200),d(w,"success"),l(100),c("Diagnstico completado.","success"),await m(1500),e()};return t?_.jsx("div",{className:"fixed inset-0 bg-black/60 z-[100] flex items-center justify-center p-4 backdrop-blur-sm animate-fade-in",children:_.jsxs("div",{className:"bg-slate-900 text-green-400 font-mono rounded-lg shadow-2xl w-full max-w-lg border border-green-500/30 overflow-hidden",children:[_.jsxs("div",{className:"bg-slate-800 p-3 border-b border-slate-700 flex justify-between items-center",children:[_.jsxs("span",{className:"flex items-center gap-2 font-bold",children:[_.jsx(sL,{size:18})," Agente de Diagnstico v1.0"]}),a<100&&_.jsx(uL,{className:"animate-spin",size:16})]}),_.jsx("div",{className:"p-4 h-64 overflow-y-auto space-y-3",children:r.map(m=>_.jsxs("div",{className:"flex items-start gap-3 text-sm",children:[_.jsxs("span",{className:"mt-0.5",children:[m.status==="pending"&&_.jsx(rX,{size:14,className:"text-slate-500"}),m.status==="success"&&_.jsx(iS,{size:14,className:"text-green-500"}),m.status==="error"&&_.jsx(wW,{size:14,className:"text-red-500"})]}),_.jsx("span",{className:m.status==="pending"?"text-slate-300":m.status==="error"?"text-red-400":"text-green-300",children:m.message})]},m.id))}),_.jsx("div",{className:"bg-slate-800 p-2",children:_.jsx("div",{className:"w-full bg-slate-700 h-1.5 rounded-full overflow-hidden",children:_.jsx("div",{className:"bg-green-500 h-full transition-all duration-300 ease-out",style:{width:`${a}%`}})})})]})}):null},cR=({isOpen:t,onClose:e,data:n,onSave:r})=>{const[i,a]=S.useState({birthDate:n.birthDate||"",insurance:n.insurance||"Fonasa",admissionOrigin:n.admissionOrigin||"",admissionOriginDetails:n.admissionOriginDetails||"",origin:n.origin||"Residente",isRapanui:n.isRapanui||!1,biologicalSex:n.biologicalSex||"Indeterminado"});if(S.useEffect(()=>{a({birthDate:n.birthDate||"",insurance:n.insurance||"Fonasa",admissionOrigin:n.admissionOrigin||"",admissionOriginDetails:n.admissionOriginDetails||"",origin:n.origin||"Residente",isRapanui:n.isRapanui||!1,biologicalSex:n.biologicalSex||"Indeterminado"})},[n]),!t)return null;const l=d=>{if(!d)return"";const f=new Date(d),m=new Date,p=m.getTime()-f.getTime(),y=Math.floor(p/(1e3*60*60*24));if(y<0)return"";if(y<30)return`${y}d`;let x=(m.getFullYear()-f.getFullYear())*12+(m.getMonth()-f.getMonth());return m.getDate()<f.getDate()&&x--,x<=24?`${x}m`:`${Math.floor(x/12)}a`},c=()=>{const d=i.birthDate?l(i.birthDate):n.age;r({birthDate:i.birthDate,insurance:i.insurance,admissionOrigin:i.admissionOrigin,admissionOriginDetails:i.admissionOriginDetails,origin:i.origin,isRapanui:i.isRapanui,biologicalSex:i.biologicalSex,age:d}),e()};return _.jsx("div",{className:"fixed inset-0 bg-black/50 z-[60] flex items-center justify-center p-4 backdrop-blur-sm print:hidden",children:_.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-sm animate-scale-in max-h-[90vh] overflow-y-auto",children:[_.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-100 bg-slate-50 rounded-t-lg sticky top-0 bg-slate-50 z-10",children:[_.jsxs("h3",{className:"font-bold text-slate-800 flex items-center gap-2",children:[_.jsx(p0,{size:18})," Datos Demogrficos"]}),_.jsx("button",{onClick:e,className:"text-slate-400 hover:text-slate-600",children:_.jsx(md,{size:18})})]}),_.jsxs("div",{className:"p-5 space-y-4",children:[_.jsxs("div",{children:[_.jsx("p",{className:"text-sm font-bold text-medical-700 mb-1",children:n.patientName||"Paciente Sin Nombre"}),_.jsx("p",{className:"text-xs text-slate-500 font-mono",children:n.rut||"Sin RUT"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Fecha Nacimiento"}),_.jsx("div",{className:"flex gap-2",children:_.jsx("input",{type:"date",className:"w-full p-2 border border-slate-300 rounded text-sm focus:ring-2 focus:ring-medical-500",value:i.birthDate,onChange:d=>a({...i,birthDate:d.target.value})})}),i.birthDate&&_.jsxs("p",{className:"text-sm text-medical-600 mt-2 flex items-center gap-2 bg-medical-50 p-2 rounded border border-medical-100",children:[_.jsx(oL,{size:14}),"Edad calculada: ",_.jsx("strong",{children:l(i.birthDate)})]})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Previsin"}),_.jsxs("select",{className:"w-full p-2 border border-slate-300 rounded text-sm focus:ring-2 focus:ring-medical-500",value:i.insurance,onChange:d=>a({...i,insurance:d.target.value}),children:[_.jsx("option",{value:"Fonasa",children:"Fonasa"}),_.jsx("option",{value:"Isapre",children:"Isapre"}),_.jsx("option",{value:"Particular",children:"Particular"})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Sexo Biolgico"}),_.jsxs("select",{className:"w-full p-2 border border-slate-300 rounded text-sm focus:ring-2 focus:ring-medical-500",value:i.biologicalSex,onChange:d=>a({...i,biologicalSex:d.target.value}),children:[_.jsx("option",{value:"Indeterminado",children:"Indeterminado"}),_.jsx("option",{value:"Masculino",children:"Masculino"}),_.jsx("option",{value:"Femenino",children:"Femenino"})]})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Origen del Ingreso"}),_.jsxs("select",{className:"w-full p-2 border border-slate-300 rounded text-sm focus:ring-2 focus:ring-medical-500",value:i.admissionOrigin,onChange:d=>a({...i,admissionOrigin:d.target.value}),children:[_.jsx("option",{value:"",children:"-- Seleccionar --"}),c8.map(d=>_.jsx("option",{value:d,children:d},d))]}),i.admissionOrigin==="Otro"&&_.jsx("input",{type:"text",className:"w-full p-2 border border-slate-300 rounded text-sm focus:ring-2 focus:ring-medical-500 mt-2",placeholder:"Describa el origen...",value:i.admissionOriginDetails,onChange:d=>a({...i,admissionOriginDetails:d.target.value})})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Condicin de permanencia"}),_.jsxs("select",{className:"w-full p-2 border border-slate-300 rounded text-sm focus:ring-2 focus:ring-medical-500",value:i.origin,onChange:d=>a({...i,origin:d.target.value}),children:[_.jsx("option",{value:"Residente",children:"Residente"}),_.jsx("option",{value:"Turista Nacional",children:"Turista Nacional"}),_.jsx("option",{value:"Turista Extranjero",children:"Turista Extranjero"})]})]}),_.jsxs("div",{className:"flex items-center gap-2 pt-2 border-t border-slate-100 mt-2",children:[_.jsx("input",{id:"rapanui-check",type:"checkbox",className:"w-4 h-4 text-medical-600 rounded focus:ring-medical-500",checked:i.isRapanui,onChange:d=>a({...i,isRapanui:d.target.checked})}),_.jsx("label",{htmlFor:"rapanui-check",className:"text-sm text-slate-700 font-medium select-none cursor-pointer",children:"Pertenencia Rapanui"})]})]}),_.jsxs("div",{className:"p-4 border-t border-slate-100 flex justify-end gap-2 bg-slate-50 rounded-b-lg",children:[_.jsx("button",{onClick:e,className:"px-3 py-1.5 text-slate-500 hover:bg-slate-200 rounded text-sm transition-colors",children:"Cancelar"}),_.jsx("button",{onClick:c,className:"px-3 py-1.5 bg-medical-600 text-white rounded text-sm font-medium hover:bg-medical-700 transition-colors shadow-sm",children:"Guardar Datos"})]})]})})},_X=({isBlocked:t,onAction:e,onViewDemographics:n})=>{const[r,i]=S.useState(!1),a=()=>i(!r),l=c=>{e(c),i(!1)};return _.jsxs("div",{className:"flex flex-col items-center gap-1 relative",children:[!t&&_.jsx("button",{onClick:n,className:"p-1 rounded-full text-medical-500 hover:text-medical-700 hover:bg-medical-50 transition-colors",title:"Datos del Paciente",children:_.jsx(p0,{size:16})}),_.jsx("button",{onClick:a,className:"p-1.5 rounded-full hover:bg-slate-200 text-slate-500 transition-colors",title:"Acciones",children:_.jsx(RW,{size:16})}),r&&_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>i(!1)}),_.jsxs("div",{className:"absolute left-10 top-0 z-50 bg-white shadow-lg rounded-lg border border-slate-200 w-48 text-left py-1 animate-fade-in print:hidden",children:[_.jsxs("button",{onClick:()=>l("clear"),className:"w-full text-left px-4 py-2 hover:bg-red-50 text-red-600 flex items-center gap-2",children:[_.jsx($u,{size:14})," Limpiar Datos"]}),!t&&_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"h-px bg-slate-100 my-1"}),_.jsxs("button",{onClick:()=>l("copy"),className:"w-full text-left px-4 py-2 hover:bg-slate-50 flex items-center gap-2 text-slate-700",children:[_.jsx(cL,{size:14})," Copiar a..."]}),_.jsxs("button",{onClick:()=>l("move"),className:"w-full text-left px-4 py-2 hover:bg-slate-50 flex items-center gap-2 text-slate-700",children:[_.jsx(iL,{size:14})," Mover a..."]}),_.jsx("div",{className:"h-px bg-slate-100 my-1"}),_.jsxs("button",{onClick:()=>l("discharge"),className:"w-full text-left px-4 py-2 hover:bg-green-50 flex items-center gap-2 text-green-700 font-medium",children:[_.jsx(dL,{size:14})," Dar de Alta"]}),_.jsxs("button",{onClick:()=>l("transfer"),className:"w-full text-left px-4 py-2 hover:bg-blue-50 flex items-center gap-2 text-blue-700 font-medium",children:[_.jsx(JY,{size:14})," Trasladar"]})]})]})]})]})},xX=({bed:t,data:e,isBlocked:n,showCribControls:r,hasCompanion:i,hasClinicalCrib:a,isCunaMode:l,onToggleMode:c,onToggleCompanion:d,onToggleClinicalCrib:f,onTextChange:m,onUpdateClinicalCrib:p,onShowCribDemographics:y})=>_.jsxs("td",{className:"p-2 border-r border-slate-200 text-center w-24 relative",children:[_.jsxs("div",{className:"flex flex-col items-center",children:[_.jsxs("div",{className:"font-bold text-lg text-slate-700 flex items-center gap-1",children:[t.name,l&&_.jsx(Oc,{size:16,className:"text-pink-500"})]}),!n&&r&&_.jsxs("div",{className:"flex flex-col gap-1 mt-2 w-full animate-fade-in",children:[_.jsx("button",{onClick:c,className:Ce("text-[9px] px-1 py-0.5 rounded border transition-colors w-full",l?"bg-pink-50 border-pink-200 text-pink-700":"bg-slate-100 border-slate-200 text-slate-500 hover:bg-slate-200"),children:l?"Cuna clnica":"Cama"}),_.jsx("button",{onClick:d,className:Ce("text-[9px] px-1 py-0.5 rounded border transition-colors w-full",i?"bg-green-50 border-green-200 text-green-700 font-bold":"bg-slate-50 border-slate-200 text-slate-400 hover:bg-green-50 hover:text-green-600"),children:i?"RN Sano: SI":"+ RN Sano"}),!l&&_.jsx("button",{onClick:f,className:Ce("text-[9px] px-1 py-0.5 rounded border transition-colors w-full flex items-center justify-center gap-1",a?"bg-purple-50 border-purple-200 text-purple-700 font-bold":"bg-slate-50 border-slate-200 text-slate-400 hover:bg-purple-50 hover:text-purple-600"),children:"+ Cuna clnica"}),a&&_.jsxs("div",{className:"flex gap-1 mt-1",children:[_.jsx("button",{onClick:y,className:"flex-1 bg-purple-100 hover:bg-purple-200 text-purple-700 p-1 rounded border border-purple-200",title:"Datos Personales Cuna Clnica",children:_.jsx(p0,{size:12,className:"mx-auto"})}),_.jsx("button",{onClick:()=>p("remove"),className:"flex-1 bg-red-100 hover:bg-red-200 text-red-600 p-1 rounded border border-red-200",title:"Eliminar Cuna Clnica Adicional",children:_.jsx($u,{size:12,className:"mx-auto"})})]})]}),!r&&!n&&_.jsxs("div",{className:"flex gap-1 mt-1",children:[i&&_.jsx("span",{className:"text-[9px] bg-green-100 text-green-800 px-1 rounded-sm border border-green-200",title:"RN Sano",children:"RN"}),a&&_.jsx("span",{className:"text-[9px] bg-purple-100 text-purple-800 px-1 rounded-sm border border-purple-200",title:"Cuna Clnica",children:"+CC"})]})]}),t.isExtra&&_.jsx("input",{type:"text",placeholder:"Ubicacin",className:"w-full text-[10px] p-1 mt-1 border border-slate-300 rounded text-center bg-yellow-50 focus:ring-1 focus:ring-yellow-400 focus:outline-none",value:e.location||"",onChange:m("location")})]}),wX=({devices:t=[],onChange:e,disabled:n})=>{const[r,i]=S.useState(!1),[a,l]=S.useState(""),c=t.includes("2 VVP")?2:t.includes("VVP")?1:0,d=Xg.filter(y=>y!=="VVP"),f=y=>{let x=t.filter(w=>w!=="VVP"&&w!=="2 VVP");y===1&&x.push("VVP"),y===2&&x.push("2 VVP"),e(x)},m=y=>{t.includes(y)?e(t.filter(x=>x!==y)):e([...t,y])},p=()=>{if(a.trim()){const y=a.trim();t.includes(y)||e([...t,y]),l("")}};return n?null:_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"flex flex-wrap gap-1 min-h-[26px] cursor-pointer items-center justify-start p-1 rounded hover:bg-slate-50 border border-transparent hover:border-slate-200 transition-colors relative",onClick:()=>i(!r),title:"Haga clic para gestionar dispositivos",children:[t.length===0&&_.jsx("span",{className:"text-slate-300 mx-auto flex items-center justify-center w-full opacity-50",children:_.jsx(Xv,{size:14})}),t.map((y,x)=>{let w=y;return y==="2 VVP"&&(w="2VVP"),_.jsx("span",{className:"text-[9px] px-1 py-0.5 rounded bg-medical-50 text-medical-700 border border-medical-100 font-medium whitespace-nowrap",children:w},x)})]}),r&&_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"absolute z-50 mt-1 right-0 w-56 bg-white rounded-lg shadow-xl border border-slate-200 animate-scale-in text-left",children:[_.jsxs("div",{className:"p-3 bg-slate-50 border-b border-slate-100 flex justify-between items-center rounded-t-lg",children:[_.jsx("span",{className:"text-xs font-bold text-slate-700 uppercase",children:"Dispositivos"}),_.jsx("button",{onClick:y=>{y.stopPropagation(),i(!1)},className:"text-slate-400 hover:text-slate-600",children:_.jsx(md,{size:14})})]}),_.jsxs("div",{className:"p-3",children:[_.jsxs("div",{className:"mb-3 pb-3 border-b border-slate-100",children:[_.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-2 block",children:"Vas Venosas (VVP)"}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{onClick:()=>f(0),className:Ce("flex-1 py-1 text-xs rounded border transition-colors",c===0?"bg-slate-200 text-slate-600 border-slate-300 shadow-inner":"hover:bg-slate-50 text-slate-500"),children:"Ninguna"}),_.jsx("button",{onClick:()=>f(1),className:Ce("flex-1 py-1 text-xs rounded border transition-colors",c===1?"bg-medical-600 text-white border-medical-700 shadow-sm":"hover:bg-medical-50 text-medical-600 border-medical-200"),children:"1"}),_.jsx("button",{onClick:()=>f(2),className:Ce("flex-1 py-1 text-xs rounded border transition-colors",c===2?"bg-purple-600 text-white border-purple-700 shadow-sm":"hover:bg-purple-50 text-purple-600 border-purple-200"),children:"2"})]})]}),_.jsx("div",{className:"grid grid-cols-2 gap-2 mb-3",children:d.map(y=>_.jsxs("button",{onClick:()=>m(y),className:Ce("flex items-center gap-2 px-2 py-1.5 rounded border text-xs text-left transition-colors",t.includes(y)?"bg-medical-50 border-medical-200 text-medical-800":"bg-white border-slate-200 text-slate-600 hover:bg-slate-50"),children:[_.jsx("div",{className:Ce("w-3 h-3 rounded-sm border flex items-center justify-center",t.includes(y)?"bg-medical-600 border-medical-600":"border-slate-300"),children:t.includes(y)&&_.jsx(gW,{size:10,className:"text-white"})}),y]},y))}),_.jsxs("div",{className:"pt-2 border-t border-slate-100",children:[_.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-2 block",children:"Otro Dispositivo"}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("input",{type:"text",value:a,onChange:y=>l(y.target.value),onKeyDown:y=>y.key==="Enter"&&p(),className:"flex-1 text-xs p-1.5 border border-slate-300 rounded focus:ring-1 focus:ring-medical-500 focus:outline-none",placeholder:"Escribir..."}),_.jsx("button",{onClick:p,disabled:!a.trim(),className:"p-1.5 bg-medical-500 text-white rounded hover:bg-medical-600 disabled:opacity-50",children:_.jsx(Xv,{size:14})})]}),t.filter(y=>!Xg.includes(y)&&y!=="VVP"&&y!=="2 VVP").length>0&&_.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:t.filter(y=>!Xg.includes(y)&&y!=="VVP"&&y!=="2 VVP").map(y=>_.jsxs("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-amber-50 text-amber-700 border border-amber-200 font-medium flex items-center gap-1",children:[y,_.jsx("button",{onClick:()=>e(t.filter(x=>x!==y)),className:"text-amber-500 hover:text-red-500 ml-0.5",title:"Eliminar dispositivo",children:_.jsx(md,{size:10})})]},y))})]})]})]}),_.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>i(!1)})]})]})},uR=({data:t,isSubRow:e=!1,isEmpty:n=!1,onChange:r,onDemo:i})=>{const a=c=>r.text(c),l=c=>r.check(c);return _.jsxs(_.Fragment,{children:[_.jsx("td",{className:"p-2 border-r border-slate-200 min-w-[160px]",children:_.jsxs("div",{className:"relative",children:[e&&_.jsx("div",{className:"absolute left-[-15px] top-2 text-slate-300",children:_.jsx(nW,{size:14})}),_.jsx("input",{type:"text",className:Ce("w-full p-1 border rounded focus:ring-2 focus:ring-medical-500 focus:outline-none",e?"border-pink-200 bg-white text-xs h-8":"border-slate-300"),placeholder:e?"Nombre RN / Nio":"Nombre Paciente",value:t.patientName||"",onChange:a("patientName")}),e&&_.jsx("span",{className:"absolute right-2 top-2 text-pink-400 pointer-events-none",children:_.jsx(Oc,{size:12})})]})}),_.jsx("td",{className:"p-2 border-r border-slate-200 w-28 relative group/rut",children:_.jsxs("div",{className:"flex items-center gap-1",children:[_.jsx("input",{type:"text",className:Ce("w-full p-1 border border-slate-300 rounded focus:ring-2 focus:ring-medical-500 focus:outline-none text-xs",e&&"h-8"),placeholder:t.documentType==="Pasaporte"?"Pasaporte":"RUT",value:t.rut||"",onChange:a("rut")}),!e&&r.toggleDocType&&_.jsx("button",{onClick:r.toggleDocType,className:"text-[9px] px-1 py-0.5 rounded bg-slate-100 border border-slate-300 hover:bg-slate-200 text-slate-500 font-mono w-6 text-center",title:t.documentType==="Pasaporte"?"Cambiar a RUT":"Cambiar a Pasaporte",children:t.documentType==="Pasaporte"?"PAS":"RUT"})]})}),_.jsx("td",{className:"p-2 border-r border-slate-200 w-14 relative",children:_.jsx("input",{type:"text",className:Ce("w-full p-1 border border-slate-200 bg-slate-50 text-slate-600 rounded text-center cursor-pointer font-bold text-xs",e&&"h-8"),placeholder:"Edad",value:t.age||"",readOnly:!0,onClick:i})}),_.jsx("td",{className:"p-2 border-r border-slate-200 min-w-[230px]",children:n&&!e?_.jsx("div",{className:"w-full p-1 border border-slate-200 rounded bg-slate-100 text-slate-400 text-xs italic text-center",children:"-"}):_.jsx("input",{type:"text",className:Ce("w-full p-1 border border-slate-300 rounded focus:ring-2 focus:ring-medical-500 focus:outline-none",e&&"text-xs h-8"),placeholder:"Diagnstico",value:t.pathology||"",onChange:a("pathology")})}),_.jsx("td",{className:"p-2 border-r border-slate-200 w-28",children:n&&!e?_.jsx("div",{className:"w-full p-1 border border-slate-200 rounded bg-slate-100 text-slate-400 text-xs italic text-center",children:"-"}):_.jsxs("select",{className:Ce("w-full p-1 border border-slate-300 rounded focus:ring-2 focus:ring-medical-500 focus:outline-none text-xs",e&&"h-8"),value:t.specialty||"",onChange:a("specialty"),children:[_.jsx("option",{value:"",children:"-- Esp --"}),o8.map(c=>_.jsx("option",{value:c,children:c},c))]})}),_.jsx("td",{className:"p-2 border-r border-slate-200 w-24",children:n&&!e?_.jsx("div",{className:"w-full p-1 border border-slate-200 rounded bg-slate-100 text-slate-400 text-xs italic text-center",children:"-"}):_.jsxs("select",{className:Ce("w-full p-1 border border-slate-300 rounded focus:ring-2 focus:ring-medical-500 focus:outline-none text-xs font-medium",t.status==="Grave"?"text-red-600 bg-red-50":t.status==="De cuidado"?"text-orange-600 bg-orange-50":"text-green-700",e&&"h-8"),value:t.status||"",onChange:a("status"),children:[_.jsx("option",{value:"",children:"-- Est --"}),l8.map(c=>_.jsx("option",{value:c,children:c},c))]})}),_.jsx("td",{className:"p-2 border-r border-slate-200 w-28",children:n&&!e?_.jsx("div",{className:"w-full p-1 border border-slate-200 rounded bg-slate-100 text-slate-400 text-xs italic text-center",children:"-"}):_.jsx("input",{type:"date",className:Ce("w-full p-1 border border-slate-300 rounded focus:ring-2 focus:ring-medical-500 focus:outline-none text-xs",e&&"h-8"),value:t.admissionDate||"",onChange:a("admissionDate")})}),_.jsx("td",{className:"p-1 border-r border-slate-200 text-center w-10",children:_.jsx("input",{type:"checkbox",checked:t.hasWristband||!1,onChange:l("hasWristband"),className:"w-4 h-4 text-medical-600 rounded",title:"Brazalete"})}),_.jsx("td",{className:"p-1 border-r border-slate-200 text-center w-10",children:_.jsx("input",{type:"checkbox",checked:t.isBedridden||!1,onChange:l("isBedridden"),className:"w-4 h-4 text-medical-600 rounded",title:"Postrado"})}),_.jsx("td",{className:"p-2 border-r border-slate-200 w-28 relative",children:_.jsx(wX,{devices:t.devices||[],onChange:r.devices,disabled:!1})}),_.jsx("td",{className:"p-1 border-r border-slate-200 text-center w-10",children:_.jsx("input",{type:"checkbox",checked:t.surgicalComplication||!1,onChange:l("surgicalComplication"),className:"w-4 h-4 text-red-600 rounded",title:"Comp. Qx"})}),_.jsx("td",{className:"p-1 text-center w-10",children:_.jsx("input",{type:"checkbox",checked:t.isUPC||!1,onChange:l("isUPC"),className:"w-4 h-4 text-purple-600 rounded",title:"UPC"})})]})},EX=({bed:t,data:e,onAction:n,showCribControls:r})=>{const{updatePatient:i,updateClinicalCrib:a}=Ic(),l=e.isBlocked,[c,d]=S.useState(!1),[f,m]=S.useState(!1),p=e.bedMode==="Cuna",y=e.hasCompanionCrib||!1,x=!!(e.clinicalCrib&&e.clinicalCrib.bedMode),w=k=>L=>{i(t.id,k,L.target.value)},E=k=>L=>{i(t.id,k,L.target.checked)},A=k=>{i(t.id,"devices",k)},O=k=>{Object.entries(k).forEach(([L,z])=>{i(t.id,L,z)})},D=()=>{const k=e.documentType==="Pasaporte"?"RUT":"Pasaporte";i(t.id,"documentType",k)},j=k=>L=>{a(t.id,k,L.target.value)},q=k=>L=>{a(t.id,k,L.target.checked)},U=k=>{a(t.id,"devices",k)},F=k=>{Object.entries(k).forEach(([L,z])=>{a(t.id,L,z)})},N=()=>{if(!p&&y){if(!confirm("El 'Modo Cuna clnica' (Paciente principal) no suele ser compatible con 'RN Sano' (Acompaante). Desea desactivar RN Sano y continuar?"))return;i(t.id,"hasCompanionCrib",!1)}i(t.id,"bedMode",p?"Cama":"Cuna")},P=()=>{if(p){alert("No se puede agregar 'RN Sano' si la cama principal est en 'Modo Cuna clnica'. Use el modo Cama para la madre.");return}if(i(t.id,"hasCompanionCrib",!y),!y&&x)if(confirm("Al agregar Cuna RN Sano, se eliminar la Cuna Clnica adicional actual. Confirmar?"))a(t.id,"remove");else{i(t.id,"hasCompanionCrib",!1);return}},M=()=>{x?confirm("Eliminar la Cuna Clnica adicional y todos sus datos?")&&a(t.id,"remove"):a(t.id,"create")},B=k=>{n(k,t.id)};return _.jsxs(_.Fragment,{children:[_.jsxs("tr",{className:Ce("hover:bg-slate-50 transition-colors border-b border-slate-200 text-sm group/row relative",l?"bg-slate-100":""),children:[_.jsx("td",{className:"p-2 text-center border-r border-slate-200 relative w-10 print:hidden",children:_.jsx(_X,{isBlocked:!!l,onAction:B,onViewDemographics:()=>d(!0)})}),_.jsx(xX,{bed:t,data:e,isBlocked:!!l,showCribControls:r,hasCompanion:y,hasClinicalCrib:x,isCunaMode:p,onToggleMode:N,onToggleCompanion:P,onToggleClinicalCrib:M,onTextChange:w,onUpdateClinicalCrib:k=>a(t.id,k),onShowCribDemographics:()=>m(!0)}),_.jsx("td",{className:"p-2 border-r border-slate-200 text-center w-16",children:_.jsx("span",{className:Ce("text-[9px] uppercase font-bold px-1.5 py-0.5 rounded-full border block",t.type==="UTI"?"bg-purple-100 text-purple-700 border-purple-200":"bg-blue-50 text-blue-600 border-blue-200"),children:t.type})}),l?_.jsx("td",{colSpan:12,className:"p-3 bg-slate-100 text-center",children:_.jsxs("div",{className:"text-slate-500 text-sm flex items-center justify-center gap-2",children:[_.jsx(rS,{size:14}),_.jsx("span",{className:"font-medium",children:"Bloqueada"}),e.blockedReason&&_.jsxs("span",{className:"text-xs text-slate-400",children:["(",e.blockedReason,")"]})]})}):e.patientName?_.jsx(uR,{data:e,onChange:{text:w,check:E,devices:A,toggleDocType:D},onDemo:()=>d(!0)}):_.jsxs(_.Fragment,{children:[_.jsx("td",{className:"p-2 border-r border-slate-200 min-w-[160px]",children:_.jsx("input",{type:"text",className:"w-full p-1 border border-slate-300 rounded focus:ring-2 focus:ring-medical-500 focus:outline-none",placeholder:"Nombre Paciente",value:"",onChange:w("patientName")})}),_.jsx("td",{colSpan:11,className:"p-3 text-center",children:_.jsx("span",{className:"text-slate-400 text-sm italic",children:" Cama Libre "})})]})]}),e.clinicalCrib&&!l&&_.jsxs("tr",{className:"bg-pink-50/50 border-b border-pink-100",children:[_.jsx("td",{className:"border-r border-slate-200"}),_.jsx("td",{className:"p-2 text-right border-r border-slate-200 align-middle",children:_.jsx("div",{className:"flex justify-center items-center h-full",children:_.jsx(LW,{size:16,className:"text-purple-300 rotate-180"})})}),_.jsx("td",{className:"p-2 border-r border-slate-200 text-center",children:_.jsx("span",{className:"text-[9px] uppercase font-bold px-1.5 py-0.5 rounded-full border block bg-pink-100 text-pink-700 border-pink-200",children:"CUNA"})}),_.jsx(uR,{data:e.clinicalCrib,isSubRow:!0,onChange:{text:j,check:q,devices:U},onDemo:()=>m(!0)})]}),_.jsx(cR,{isOpen:c,onClose:()=>d(!1),data:e,onSave:O}),e.clinicalCrib&&_.jsx(cR,{isOpen:f,onClose:()=>m(!1),data:e.clinicalCrib,onSave:F})]})},TX=({stats:t,discharges:e=[],transfers:n=[]})=>{const r=e.filter(l=>l.status==="Fallecido").length,i=e.filter(l=>l.status==="Vivo").length,a=n.length;return _.jsxs("div",{className:"bg-white rounded-lg shadow border border-slate-200 text-sm w-full md:w-auto overflow-hidden flex flex-col md:flex-row divide-y md:divide-y-0 md:divide-x divide-slate-100",children:[_.jsxs("div",{className:"p-4 min-w-[220px]",children:[_.jsxs("h3",{className:"font-bold text-slate-700 uppercase text-xs tracking-wider mb-3 flex items-center gap-1",children:[_.jsx(sW,{size:14,className:"text-slate-400"})," Censo Clnico"]}),_.jsxs("div",{className:"grid grid-cols-2 gap-x-6 gap-y-1",children:[_.jsxs("div",{className:"flex justify-between items-center",title:"Pacientes en Camas Adulto/Peditrico",children:[_.jsxs("span",{className:"text-slate-500 flex items-center gap-1",children:[_.jsx(aL,{size:12})," Camas ocupadas:"]}),_.jsx("span",{className:"font-bold text-medical-600",children:t.occupiedBeds})]}),_.jsxs("div",{className:"flex justify-between items-center col-span-2 bg-medical-50 px-2 py-1 -mx-2 rounded mt-1",children:[_.jsx("span",{className:"text-medical-900 font-medium",children:"Total Hospitalizados:"}),_.jsx("span",{className:"font-bold text-medical-900",children:t.totalHospitalized})]}),_.jsxs("div",{className:"flex justify-between items-center mt-2 pt-1 border-t border-slate-100 col-span-2",children:[_.jsx("span",{className:"text-red-500 font-medium text-xs",children:"Bloqueadas:"}),_.jsx("span",{className:"font-bold text-red-600 text-xs",children:t.blockedBeds})]}),_.jsxs("div",{className:"flex justify-between items-center pt-1 col-span-2",children:[_.jsxs("span",{className:"text-slate-500 font-medium text-xs flex items-center gap-1",children:[_.jsx(cW,{size:10})," Capacidad Servicio:"]}),_.jsx("span",{className:"font-bold text-slate-600 text-xs",children:t.availableCapacity})]})]})]}),_.jsxs("div",{className:"p-4 min-w-[180px] bg-slate-50/50",children:[_.jsxs("h3",{className:"font-bold text-slate-700 uppercase text-xs tracking-wider mb-3 flex items-center gap-1",children:[_.jsx(Oc,{size:14,className:"text-slate-400"})," Recursos Cuna"]}),_.jsxs("div",{className:"space-y-2",children:[_.jsxs("div",{className:"flex justify-between items-center",title:"Pacientes en Modo Cuna (Principal) o Cuna Clnica (Anidada)",children:[_.jsx("span",{className:"text-slate-600 text-xs",children:"Cunas Clnicas (Pacientes):"}),_.jsx("span",{className:"font-bold text-pink-600 text-xs",children:t.clinicalCribsCount})]}),_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsx("span",{className:"text-green-600 text-xs",children:"Cunas RN Sano (Acomp):"}),_.jsx("span",{className:"font-bold text-green-700 text-xs",children:t.companionCribs})]}),_.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-slate-200 mt-1",children:[_.jsx("span",{className:"text-slate-700 font-bold text-xs",children:"Total Cunas en uso:"}),_.jsx("span",{className:"font-bold text-slate-800 text-sm",children:t.totalCribsUsed})]})]})]}),_.jsxs("div",{className:"p-4 bg-slate-50 min-w-[180px] flex flex-col justify-center",children:[_.jsxs("h3",{className:"font-bold text-slate-700 uppercase text-xs tracking-wider mb-3 flex items-center gap-1",children:[_.jsx(QY,{size:14,className:"text-slate-400"})," Movimientos del da"]}),_.jsxs("div",{className:"space-y-2",children:[_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsx("span",{className:"text-slate-600",children:"Altas de hoy:"}),_.jsx("span",{className:"font-bold text-green-600 bg-white px-2 py-0.5 rounded border border-green-100 shadow-sm",children:i})]}),_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsx("span",{className:"text-slate-600",children:"Traslados de hoy:"}),_.jsx("span",{className:"font-bold text-blue-600 bg-white px-2 py-0.5 rounded border border-blue-100 shadow-sm",children:a})]}),r>0&&_.jsxs("div",{className:"flex justify-between items-center mt-2 pt-2 border-t border-slate-200",children:[_.jsx("span",{className:"text-red-600 font-bold uppercase text-xs",children:"Fallecidos:"}),_.jsx("span",{className:"font-bold text-white bg-red-600 px-2 py-0.5 rounded shadow-sm text-xs",children:r})]})]})]})]})};var SX=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function aS(t){if(typeof t!="string")return!1;var e=SX;return e.includes(t)}var AX=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],CX=new Set(AX);function pL(t){return typeof t!="string"?!1:CX.has(t)}function gL(t){return typeof t=="string"&&t.startsWith("data-")}function si(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(pL(n)||gL(n))&&(e[n]=t[n]);return e}function gc(t){if(t==null)return null;if(S.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return si(e)}return typeof t=="object"&&!Array.isArray(t)?si(t):null}function Cr(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(pL(n)||gL(n)||aS(n))&&(e[n]=t[n]);return e}function IX(t){return t==null?null:S.isValidElement(t)?Cr(t.props):typeof t=="object"&&!Array.isArray(t)?Cr(t):null}var OX=["children","width","height","viewBox","className","style","title","desc"];function Qw(){return Qw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qw.apply(null,arguments)}function NX(t,e){if(t==null)return{};var n,r,i=PX(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function PX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var sS=S.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:a,className:l,style:c,title:d,desc:f}=t,m=NX(t,OX),p=a||{width:r,height:i,x:0,y:0},y=Ce("recharts-surface",l);return S.createElement("svg",Qw({},Cr(m),{className:y,width:r,height:i,style:c,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:e}),S.createElement("title",null,d),S.createElement("desc",null,f),n)}),RX=["children","className"];function Zw(){return Zw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zw.apply(null,arguments)}function DX(t,e){if(t==null)return{};var n,r,i=kX(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function kX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Qn=S.forwardRef((t,e)=>{var{children:n,className:r}=t,i=DX(t,RX),a=Ce("recharts-layer",r);return S.createElement("g",Zw({className:a},Cr(i),{ref:e}),n)}),oS=jj(),vL=S.createContext(null),MX=()=>S.useContext(vL);function jt(t){return function(){return t}}const yL=Math.cos,Qv=Math.sin,ia=Math.sqrt,Zv=Math.PI,g0=2*Zv,Jw=Math.PI,eE=2*Jw,Ul=1e-6,jX=eE-Ul;function bL(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function VX(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return bL;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class LX{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?bL:VX(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,l){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+l}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let l=this._x1,c=this._y1,d=r-e,f=i-n,m=l-e,p=c-n,y=m*m+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(y>Ul)if(!(Math.abs(p*d-f*m)>Ul)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let x=r-l,w=i-c,E=d*d+f*f,A=x*x+w*w,O=Math.sqrt(E),D=Math.sqrt(y),j=a*Math.tan((Jw-Math.acos((E+y-A)/(2*O*D)))/2),q=j/D,U=j/O;Math.abs(q-1)>Ul&&this._append`L${e+q*m},${n+q*p}`,this._append`A${a},${a},0,0,${+(p*x>m*w)},${this._x1=e+U*d},${this._y1=n+U*f}`}}arc(e,n,r,i,a,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(i),d=r*Math.sin(i),f=e+c,m=n+d,p=1^l,y=l?i-a:a-i;this._x1===null?this._append`M${f},${m}`:(Math.abs(this._x1-f)>Ul||Math.abs(this._y1-m)>Ul)&&this._append`L${f},${m}`,r&&(y<0&&(y=y%eE+eE),y>jX?this._append`A${r},${r},0,1,${p},${e-c},${n-d}A${r},${r},0,1,${p},${this._x1=f},${this._y1=m}`:y>Ul&&this._append`A${r},${r},0,${+(y>=Jw)},${p},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function lS(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new LX(e)}function cS(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function _L(t){this._context=t}_L.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function v0(t){return new _L(t)}function xL(t){return t[0]}function wL(t){return t[1]}function EL(t,e){var n=jt(!0),r=null,i=v0,a=null,l=lS(c);t=typeof t=="function"?t:t===void 0?xL:jt(t),e=typeof e=="function"?e:e===void 0?wL:jt(e);function c(d){var f,m=(d=cS(d)).length,p,y=!1,x;for(r==null&&(a=i(x=l())),f=0;f<=m;++f)!(f<m&&n(p=d[f],f,d))===y&&((y=!y)?a.lineStart():a.lineEnd()),y&&a.point(+t(p,f,d),+e(p,f,d));if(x)return a=null,x+""||null}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:jt(+d),c):t},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:jt(+d),c):e},c.defined=function(d){return arguments.length?(n=typeof d=="function"?d:jt(!!d),c):n},c.curve=function(d){return arguments.length?(i=d,r!=null&&(a=i(r)),c):i},c.context=function(d){return arguments.length?(d==null?r=a=null:a=i(r=d),c):r},c}function Dg(t,e,n){var r=null,i=jt(!0),a=null,l=v0,c=null,d=lS(f);t=typeof t=="function"?t:t===void 0?xL:jt(+t),e=typeof e=="function"?e:jt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?wL:jt(+n);function f(p){var y,x,w,E=(p=cS(p)).length,A,O=!1,D,j=new Array(E),q=new Array(E);for(a==null&&(c=l(D=d())),y=0;y<=E;++y){if(!(y<E&&i(A=p[y],y,p))===O)if(O=!O)x=y,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),w=y-1;w>=x;--w)c.point(j[w],q[w]);c.lineEnd(),c.areaEnd()}O&&(j[y]=+t(A,y,p),q[y]=+e(A,y,p),c.point(r?+r(A,y,p):j[y],n?+n(A,y,p):q[y]))}if(D)return c=null,D+""||null}function m(){return EL().defined(i).curve(l).context(a)}return f.x=function(p){return arguments.length?(t=typeof p=="function"?p:jt(+p),r=null,f):t},f.x0=function(p){return arguments.length?(t=typeof p=="function"?p:jt(+p),f):t},f.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:jt(+p),f):r},f.y=function(p){return arguments.length?(e=typeof p=="function"?p:jt(+p),n=null,f):e},f.y0=function(p){return arguments.length?(e=typeof p=="function"?p:jt(+p),f):e},f.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:jt(+p),f):n},f.lineX0=f.lineY0=function(){return m().x(t).y(e)},f.lineY1=function(){return m().x(t).y(n)},f.lineX1=function(){return m().x(r).y(e)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:jt(!!p),f):i},f.curve=function(p){return arguments.length?(l=p,a!=null&&(c=l(a)),f):l},f.context=function(p){return arguments.length?(p==null?a=c=null:c=l(a=p),f):a},f}class TL{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function zX(t){return new TL(t,!0)}function BX(t){return new TL(t,!1)}const uS={draw(t,e){const n=ia(e/Zv);t.moveTo(n,0),t.arc(0,0,n,0,g0)}},UX={draw(t,e){const n=ia(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},SL=ia(1/3),FX=SL*2,qX={draw(t,e){const n=ia(e/FX),r=n*SL;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},$X={draw(t,e){const n=ia(e),r=-n/2;t.rect(r,r,n,n)}},HX=.8908130915292852,AL=Qv(Zv/10)/Qv(7*Zv/10),KX=Qv(g0/10)*AL,GX=-yL(g0/10)*AL,YX={draw(t,e){const n=ia(e*HX),r=KX*n,i=GX*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const l=g0*a/5,c=yL(l),d=Qv(l);t.lineTo(d*n,-c*n),t.lineTo(c*r-d*i,d*r+c*i)}t.closePath()}},Sx=ia(3),WX={draw(t,e){const n=-ia(e/(Sx*3));t.moveTo(0,n*2),t.lineTo(-Sx*n,-n),t.lineTo(Sx*n,-n),t.closePath()}},xi=-.5,wi=ia(3)/2,tE=1/ia(12),XX=(tE/2+1)*3,QX={draw(t,e){const n=ia(e/XX),r=n/2,i=n*tE,a=r,l=n*tE+n,c=-a,d=l;t.moveTo(r,i),t.lineTo(a,l),t.lineTo(c,d),t.lineTo(xi*r-wi*i,wi*r+xi*i),t.lineTo(xi*a-wi*l,wi*a+xi*l),t.lineTo(xi*c-wi*d,wi*c+xi*d),t.lineTo(xi*r+wi*i,xi*i-wi*r),t.lineTo(xi*a+wi*l,xi*l-wi*a),t.lineTo(xi*c+wi*d,xi*d-wi*c),t.closePath()}};function ZX(t,e){let n=null,r=lS(i);t=typeof t=="function"?t:jt(t||uS),e=typeof e=="function"?e:jt(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:jt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:jt(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Jv(){}function ey(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function CL(t){this._context=t}CL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ey(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ey(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function JX(t){return new CL(t)}function IL(t){this._context=t}IL.prototype={areaStart:Jv,areaEnd:Jv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:ey(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function eQ(t){return new IL(t)}function OL(t){this._context=t}OL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:ey(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function tQ(t){return new OL(t)}function NL(t){this._context=t}NL.prototype={areaStart:Jv,areaEnd:Jv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function nQ(t){return new NL(t)}function dR(t){return t<0?-1:1}function fR(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),l=(n-t._y1)/(i||r<0&&-0),c=(a*i+l*r)/(r+i);return(dR(a)+dR(l))*Math.min(Math.abs(a),Math.abs(l),.5*Math.abs(c))||0}function hR(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Ax(t,e,n){var r=t._x0,i=t._y0,a=t._x1,l=t._y1,c=(a-r)/3;t._context.bezierCurveTo(r+c,i+c*e,a-c,l-c*n,a,l)}function ty(t){this._context=t}ty.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ax(this,this._t0,hR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Ax(this,hR(this,n=fR(this,t,e)),n);break;default:Ax(this,this._t0,n=fR(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function PL(t){this._context=new RL(t)}(PL.prototype=Object.create(ty.prototype)).point=function(t,e){ty.prototype.point.call(this,e,t)};function RL(t){this._context=t}RL.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function rQ(t){return new ty(t)}function iQ(t){return new PL(t)}function DL(t){this._context=t}DL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=mR(t),i=mR(e),a=0,l=1;l<n;++a,++l)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function mR(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),l=new Array(n);for(i[0]=0,a[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,l[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,l[e]-=r*l[e-1];for(i[n-1]=l[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(l[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function aQ(t){return new DL(t)}function y0(t,e){this._context=t,this._t=e}y0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function sQ(t){return new y0(t,.5)}function oQ(t){return new y0(t,0)}function lQ(t){return new y0(t,1)}function pd(t,e){if((l=t.length)>1)for(var n=1,r,i,a=t[e[0]],l,c=a.length;n<l;++n)for(i=a,a=t[e[n]],r=0;r<c;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function nE(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function cQ(t,e){return t[e]}function uQ(t){const e=[];return e.key=t,e}function dQ(){var t=jt([]),e=nE,n=pd,r=cQ;function i(a){var l=Array.from(t.apply(this,arguments),uQ),c,d=l.length,f=-1,m;for(const p of a)for(c=0,++f;c<d;++c)(l[c][f]=[0,+r(p,l[c].key,f,a)]).data=p;for(c=0,m=cS(e(l));c<d;++c)l[m[c]].index=c;return n(l,m),l}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:jt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:jt(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?nE:typeof a=="function"?a:jt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??pd,i):n},i}function fQ(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,l;i<a;++i){for(l=n=0;n<r;++n)l+=t[n][i][1]||0;if(l)for(n=0;n<r;++n)t[n][i][1]/=l}pd(t,e)}}function hQ(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var l=0,c=0;l<i;++l)c+=t[l][n][1]||0;r[n][1]+=r[n][0]=-c/2}pd(t,e)}}function mQ(t,e){if(!(!((l=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,l;r<a;++r){for(var c=0,d=0,f=0;c<l;++c){for(var m=t[e[c]],p=m[r][1]||0,y=m[r-1][1]||0,x=(p-y)/2,w=0;w<c;++w){var E=t[e[w]],A=E[r][1]||0,O=E[r-1][1]||0;x+=A-O}d+=p,f+=x*p}i[r-1][1]+=i[r-1][0]=n,d&&(n-=f/d)}i[r-1][1]+=i[r-1][0]=n,pd(t,e)}}var Cx={},Ix={},pR;function pQ(){return pR||(pR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(Ix)),Ix}var Ox={},gR;function kL(){return gR||(gR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(Ox)),Ox}var Nx={},vR;function dS(){return vR||(vR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(Nx)),Nx}var Px={},Rx={},yR;function gQ(){return yR||(yR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(Rx)),Rx}var bR;function fS(){return bR||(bR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gQ(),n=dS();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const a=[],l=i.length;if(l===0)return a;let c=0,d="",f="",m=!1;for(i.charCodeAt(0)===46&&(a.push(""),c++);c<l;){const p=i[c];f?p==="\\"&&c+1<l?(c++,d+=i[c]):p===f?f="":d+=p:m?p==='"'||p==="'"?f=p:p==="]"?(m=!1,a.push(d),d=""):d+=p:p==="["?(m=!0,d&&(a.push(d),d="")):p==="."?d&&(a.push(d),d=""):d+=p,c++}return d&&a.push(d),a}t.toPath=r})(Px)),Px}var _R;function hS(){return _R||(_R=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=pQ(),n=kL(),r=dS(),i=fS();function a(c,d,f){if(c==null)return f;switch(typeof d){case"string":{if(e.isUnsafeProperty(d))return f;const m=c[d];return m===void 0?n.isDeepKey(d)?a(c,i.toPath(d),f):f:m}case"number":case"symbol":{typeof d=="number"&&(d=r.toKey(d));const m=c[d];return m===void 0?f:m}default:{if(Array.isArray(d))return l(c,d,f);if(Object.is(d==null?void 0:d.valueOf(),-0)?d="-0":d=String(d),e.isUnsafeProperty(d))return f;const m=c[d];return m===void 0?f:m}}}function l(c,d,f){if(d.length===0)return f;let m=c;for(let p=0;p<d.length;p++){if(m==null||e.isUnsafeProperty(d[p]))return f;m=m[d[p]]}return m===void 0?f:m}t.get=a})(Cx)),Cx}var Dx,xR;function vQ(){return xR||(xR=1,Dx=hS().get),Dx}var yQ=vQ();const vc=Fa(yQ);var Xn=t=>t===0?0:t>0?1:-1,na=t=>typeof t=="number"&&t!=+t,Ts=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Ne=t=>(typeof t=="number"||t instanceof Number)&&!na(t),za=t=>Ne(t)||typeof t=="string",bQ=0,Gh=t=>{var e=++bQ;return"".concat(t||"").concat(e)},pr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ne(e)&&typeof e!="string")return r;var a;if(Ts(e)){if(n==null)return r;var l=e.indexOf("%");a=n*parseFloat(e.slice(0,l))/100}else a=+e;return na(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},ML=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function Kt(t,e,n){return Ne(t)&&Ne(e)?t+n*(e-t):e}function jL(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):vc(r,e))===n)}var Yt=t=>t===null||typeof t>"u",wm=t=>Yt(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function _Q(t){return t!=null}function Em(){}var xQ=["type","size","sizeType"];function rE(){return rE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rE.apply(null,arguments)}function wR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ER(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wR(Object(n),!0).forEach(function(r){wQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wQ(t,e,n){return(e=EQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EQ(t){var e=TQ(t,"string");return typeof e=="symbol"?e:e+""}function TQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SQ(t,e){if(t==null)return{};var n,r,i=AQ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function AQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var VL={symbolCircle:uS,symbolCross:UX,symbolDiamond:qX,symbolSquare:$X,symbolStar:YX,symbolTriangle:WX,symbolWye:QX},CQ=Math.PI/180,IQ=t=>{var e="symbol".concat(wm(t));return VL[e]||uS},OQ=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*CQ;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},NQ=(t,e)=>{VL["symbol".concat(wm(t))]=e},mS=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=SQ(t,xQ),a=ER(ER({},i),{},{type:e,size:n,sizeType:r}),l="circle";typeof e=="string"&&(l=e);var c=()=>{var y=IQ(l),x=ZX().type(y).size(OQ(n,r,l)),w=x();if(w!==null)return w},{className:d,cx:f,cy:m}=a,p=Cr(a);return Ne(f)&&Ne(m)&&Ne(n)?S.createElement("path",rE({},p,{className:Ce("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(m,")"),d:c()})):null};mS.registerSymbol=NQ;var LL=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,pS=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(S.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{aS(i)&&(r[i]=(a=>n[i](n,a)))}),r},PQ=(t,e,n)=>r=>(t(e,n,r),null),Tm=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var a=t[i];aS(i)&&typeof a=="function"&&(r||(r={}),r[i]=PQ(a,e,n))}),r};function TR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RQ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TR(Object(n),!0).forEach(function(r){DQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DQ(t,e,n){return(e=kQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kQ(t){var e=MQ(t,"string");return typeof e=="symbol"?e:e+""}function MQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nn(t,e){var n=RQ({},t),r=e,i=Object.keys(e),a=i.reduce((l,c)=>(l[c]===void 0&&r[c]!==void 0&&(l[c]=r[c]),l),n);return a}function ny(){return ny=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ny.apply(null,arguments)}function SR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jQ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SR(Object(n),!0).forEach(function(r){VQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VQ(t,e,n){return(e=LQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LQ(t){var e=zQ(t,"string");return typeof e=="symbol"?e:e+""}function zQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ti=32,BQ={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function UQ(t){var{data:e,iconType:n,inactiveColor:r}=t,i=Ti/2,a=Ti/6,l=Ti/3,c=e.inactive?r:e.color,d=n??e.type;if(d==="none")return null;if(d==="plainline"){var f;return S.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:(f=e.payload)===null||f===void 0?void 0:f.strokeDasharray,x1:0,y1:i,x2:Ti,y2:i,className:"recharts-legend-icon"})}if(d==="line")return S.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Ti,"M").concat(2*l,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(d==="rect")return S.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Ti/8,"h").concat(Ti,"v").concat(Ti*3/4,"h").concat(-Ti,"z"),className:"recharts-legend-icon"});if(S.isValidElement(e.legendIcon)){var m=jQ({},e);return delete m.legendIcon,S.cloneElement(e.legendIcon,m)}return S.createElement(mS,{fill:c,cx:i,cy:i,size:Ti,sizeType:"diameter",type:d})}function FQ(t){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:l}=t,c={x:0,y:0,width:Ti,height:Ti},d={display:r==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((m,p)=>{var y=m.formatter||i,x=Ce({"recharts-legend-item":!0,["legend-item-".concat(p)]:!0,inactive:m.inactive});if(m.type==="none")return null;var w=m.inactive?a:m.color,E=y?y(m.value,m,p):m.value;return S.createElement("li",ny({className:x,style:d,key:"legend-item-".concat(p)},Tm(t,m,p)),S.createElement(sS,{width:n,height:n,viewBox:c,style:f,"aria-label":"".concat(E," legend icon")},S.createElement(UQ,{data:m,iconType:l,inactiveColor:a})),S.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},E))})}var qQ=t=>{var e=Nn(t,BQ),{payload:n,layout:r,align:i}=e;if(!n||!n.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return S.createElement("ul",{className:"recharts-default-legend",style:a},S.createElement(FQ,ny({},e,{payload:n})))},kx={},Mx={},AR;function $Q(){return AR||(AR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let a=0;a<n.length;a++){const l=n[a],c=r(l);i.has(c)||i.set(c,l)}return Array.from(i.values())}t.uniqBy=e})(Mx)),Mx}var jx={},CR;function zL(){return CR||(CR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(jx)),jx}var Vx={},Lx={},zx={},IR;function HQ(){return IR||(IR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(zx)),zx}var OR;function gS(){return OR||(OR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=HQ();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(Lx)),Lx}var Bx={},NR;function KQ(){return NR||(NR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(Bx)),Bx}var PR;function GQ(){return PR||(PR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gS(),n=KQ();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(Vx)),Vx}var Ux={},Fx={},RR;function YQ(){return RR||(RR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hS();function n(r){return function(i){return e.get(i,r)}}t.property=n})(Fx)),Fx}var qx={},$x={},Hx={},Kx={},DR;function BL(){return DR||(DR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(Kx)),Kx}var Gx={},kR;function UL(){return kR||(kR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(Gx)),Gx}var Yx={},MR;function FL(){return MR||(MR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(Yx)),Yx}var jR;function WQ(){return jR||(jR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BL(),n=UL(),r=FL();function i(m,p,y){return typeof y!="function"?i(m,p,()=>{}):a(m,p,function x(w,E,A,O,D,j){const q=y(w,E,A,O,D,j);return q!==void 0?!!q:a(w,E,x,j)},new Map)}function a(m,p,y,x){if(p===m)return!0;switch(typeof p){case"object":return l(m,p,y,x);case"function":return Object.keys(p).length>0?a(m,{...p},y,x):r.eq(m,p);default:return e.isObject(m)?typeof p=="string"?p==="":!0:r.eq(m,p)}}function l(m,p,y,x){if(p==null)return!0;if(Array.isArray(p))return d(m,p,y,x);if(p instanceof Map)return c(m,p,y,x);if(p instanceof Set)return f(m,p,y,x);const w=Object.keys(p);if(m==null)return w.length===0;if(w.length===0)return!0;if(x!=null&&x.has(p))return x.get(p)===m;x==null||x.set(p,m);try{for(let E=0;E<w.length;E++){const A=w[E];if(!n.isPrimitive(m)&&!(A in m)||p[A]===void 0&&m[A]!==void 0||p[A]===null&&m[A]!==null||!y(m[A],p[A],A,m,p,x))return!1}return!0}finally{x==null||x.delete(p)}}function c(m,p,y,x){if(p.size===0)return!0;if(!(m instanceof Map))return!1;for(const[w,E]of p.entries()){const A=m.get(w);if(y(A,E,w,m,p,x)===!1)return!1}return!0}function d(m,p,y,x){if(p.length===0)return!0;if(!Array.isArray(m))return!1;const w=new Set;for(let E=0;E<p.length;E++){const A=p[E];let O=!1;for(let D=0;D<m.length;D++){if(w.has(D))continue;const j=m[D];let q=!1;if(y(j,A,E,m,p,x)&&(q=!0),q){w.add(D),O=!0;break}}if(!O)return!1}return!0}function f(m,p,y,x){return p.size===0?!0:m instanceof Set?d([...m],[...p],y,x):!1}t.isMatchWith=i,t.isSetMatch=f})(Hx)),Hx}var VR;function qL(){return VR||(VR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=WQ();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})($x)),$x}var Wx={},Xx={},Qx={},LR;function XQ(){return LR||(LR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(Qx)),Qx}var Zx={},zR;function $L(){return zR||(zR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(Zx)),Zx}var Jx={},BR;function HL(){return BR||(BR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",l="[object Symbol]",c="[object Date]",d="[object Map]",f="[object Set]",m="[object Array]",p="[object Function]",y="[object ArrayBuffer]",x="[object Object]",w="[object Error]",E="[object DataView]",A="[object Uint8Array]",O="[object Uint8ClampedArray]",D="[object Uint16Array]",j="[object Uint32Array]",q="[object BigUint64Array]",U="[object Int8Array]",F="[object Int16Array]",N="[object Int32Array]",P="[object BigInt64Array]",M="[object Float32Array]",B="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=y,t.arrayTag=m,t.bigInt64ArrayTag=P,t.bigUint64ArrayTag=q,t.booleanTag=i,t.dataViewTag=E,t.dateTag=c,t.errorTag=w,t.float32ArrayTag=M,t.float64ArrayTag=B,t.functionTag=p,t.int16ArrayTag=F,t.int32ArrayTag=N,t.int8ArrayTag=U,t.mapTag=d,t.numberTag=r,t.objectTag=x,t.regexpTag=e,t.setTag=f,t.stringTag=n,t.symbolTag=l,t.uint16ArrayTag=D,t.uint32ArrayTag=j,t.uint8ArrayTag=A,t.uint8ClampedArrayTag=O})(Jx)),Jx}var e1={},UR;function QQ(){return UR||(UR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(e1)),e1}var FR;function KL(){return FR||(FR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=XQ(),n=$L(),r=HL(),i=UL(),a=QQ();function l(m,p){return c(m,void 0,m,new Map,p)}function c(m,p,y,x=new Map,w=void 0){const E=w==null?void 0:w(m,p,y,x);if(E!==void 0)return E;if(i.isPrimitive(m))return m;if(x.has(m))return x.get(m);if(Array.isArray(m)){const A=new Array(m.length);x.set(m,A);for(let O=0;O<m.length;O++)A[O]=c(m[O],O,y,x,w);return Object.hasOwn(m,"index")&&(A.index=m.index),Object.hasOwn(m,"input")&&(A.input=m.input),A}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const A=new RegExp(m.source,m.flags);return A.lastIndex=m.lastIndex,A}if(m instanceof Map){const A=new Map;x.set(m,A);for(const[O,D]of m)A.set(O,c(D,O,y,x,w));return A}if(m instanceof Set){const A=new Set;x.set(m,A);for(const O of m)A.add(c(O,void 0,y,x,w));return A}if(typeof Buffer<"u"&&Buffer.isBuffer(m))return m.subarray();if(a.isTypedArray(m)){const A=new(Object.getPrototypeOf(m)).constructor(m.length);x.set(m,A);for(let O=0;O<m.length;O++)A[O]=c(m[O],O,y,x,w);return A}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const A=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return x.set(m,A),d(A,m,y,x,w),A}if(typeof File<"u"&&m instanceof File){const A=new File([m],m.name,{type:m.type});return x.set(m,A),d(A,m,y,x,w),A}if(typeof Blob<"u"&&m instanceof Blob){const A=new Blob([m],{type:m.type});return x.set(m,A),d(A,m,y,x,w),A}if(m instanceof Error){const A=new m.constructor;return x.set(m,A),A.message=m.message,A.name=m.name,A.stack=m.stack,A.cause=m.cause,d(A,m,y,x,w),A}if(m instanceof Boolean){const A=new Boolean(m.valueOf());return x.set(m,A),d(A,m,y,x,w),A}if(m instanceof Number){const A=new Number(m.valueOf());return x.set(m,A),d(A,m,y,x,w),A}if(m instanceof String){const A=new String(m.valueOf());return x.set(m,A),d(A,m,y,x,w),A}if(typeof m=="object"&&f(m)){const A=Object.create(Object.getPrototypeOf(m));return x.set(m,A),d(A,m,y,x,w),A}return m}function d(m,p,y=m,x,w){const E=[...Object.keys(p),...e.getSymbols(p)];for(let A=0;A<E.length;A++){const O=E[A],D=Object.getOwnPropertyDescriptor(m,O);(D==null||D.writable)&&(m[O]=c(p[O],O,y,x,w))}}function f(m){switch(n.getTag(m)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=l,t.cloneDeepWithImpl=c,t.copyProperties=d})(Xx)),Xx}var qR;function ZQ(){return qR||(qR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=KL();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(Wx)),Wx}var $R;function JQ(){return $R||($R=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qL(),n=ZQ();function r(i){return i=n.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=r})(qx)),qx}var t1={},n1={},r1={},HR;function eZ(){return HR||(HR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=KL(),n=HL();function r(i,a){return e.cloneDeepWith(i,(l,c,d,f)=>{const m=a==null?void 0:a(l,c,d,f);if(m!==void 0)return m;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(p,i),p}case n.argumentsTag:{const p={};return e.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}t.cloneDeepWith=r})(r1)),r1}var KR;function tZ(){return KR||(KR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eZ();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(n1)),n1}var i1={},a1={},GR;function GL(){return GR||(GR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(a1)),a1}var s1={},YR;function nZ(){return YR||(YR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$L();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(s1)),s1}var WR;function rZ(){return WR||(WR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kL(),n=GL(),r=nZ(),i=fS();function a(l,c){let d;if(Array.isArray(c)?d=c:typeof c=="string"&&e.isDeepKey(c)&&(l==null?void 0:l[c])==null?d=i.toPath(c):d=[c],d.length===0)return!1;let f=l;for(let m=0;m<d.length;m++){const p=d[m];if((f==null||!Object.hasOwn(f,p))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(p)&&p<f.length))return!1;f=f[p]}return!0}t.has=a})(i1)),i1}var XR;function iZ(){return XR||(XR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qL(),n=dS(),r=tZ(),i=hS(),a=rZ();function l(c,d){switch(typeof c){case"object":{Object.is(c==null?void 0:c.valueOf(),-0)&&(c="-0");break}case"number":{c=n.toKey(c);break}}return d=r.cloneDeep(d),function(f){const m=i.get(f,c);return m===void 0?a.has(f,c):d===void 0?m===void 0:e.isMatch(m,d)}}t.matchesProperty=l})(t1)),t1}var QR;function aZ(){return QR||(QR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zL(),n=YQ(),r=JQ(),i=iZ();function a(l){if(l==null)return e.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}t.iteratee=a})(Ux)),Ux}var ZR;function sZ(){return ZR||(ZR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$Q(),n=zL(),r=GQ(),i=aZ();function a(l,c=n.identity){return r.isArrayLikeObject(l)?e.uniqBy(Array.from(l),i.iteratee(c)):[]}t.uniqBy=a})(kx)),kx}var o1,JR;function oZ(){return JR||(JR=1,o1=sZ().uniqBy),o1}var lZ=oZ();const eD=Fa(lZ);function YL(t,e,n){return e===!0?eD(t,n):typeof e=="function"?eD(t,e):t}var l1={exports:{}},c1={},u1={exports:{}},d1={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tD;function cZ(){if(tD)return d1;tD=1;var t=Td();function e(p,y){return p===y&&(p!==0||1/p===1/y)||p!==p&&y!==y}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,l=t.useDebugValue;function c(p,y){var x=y(),w=r({inst:{value:x,getSnapshot:y}}),E=w[0].inst,A=w[1];return a(function(){E.value=x,E.getSnapshot=y,d(E)&&A({inst:E})},[p,x,y]),i(function(){return d(E)&&A({inst:E}),p(function(){d(E)&&A({inst:E})})},[p]),l(x),x}function d(p){var y=p.getSnapshot;p=p.value;try{var x=y();return!n(p,x)}catch{return!0}}function f(p,y){return y()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return d1.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,d1}var nD;function uZ(){return nD||(nD=1,u1.exports=cZ()),u1.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rD;function dZ(){if(rD)return c1;rD=1;var t=Td(),e=uZ();function n(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,a=t.useRef,l=t.useEffect,c=t.useMemo,d=t.useDebugValue;return c1.useSyncExternalStoreWithSelector=function(f,m,p,y,x){var w=a(null);if(w.current===null){var E={hasValue:!1,value:null};w.current=E}else E=w.current;w=c(function(){function O(F){if(!D){if(D=!0,j=F,F=y(F),x!==void 0&&E.hasValue){var N=E.value;if(x(N,F))return q=N}return q=F}if(N=q,r(j,F))return N;var P=y(F);return x!==void 0&&x(N,P)?(j=F,N):(j=F,q=P)}var D=!1,j,q,U=p===void 0?null:p;return[function(){return O(m())},U===null?void 0:function(){return O(U())}]},[m,p,y,x]);var A=i(f,w[0],w[1]);return l(function(){E.hasValue=!0,E.value=A},[A]),d(A),A},c1}var iD;function fZ(){return iD||(iD=1,l1.exports=dZ()),l1.exports}var hZ=fZ(),vS=S.createContext(null),mZ=t=>t,Vt=()=>{var t=S.useContext(vS);return t?t.store.dispatch:mZ},hv=()=>{},pZ=()=>hv,gZ=(t,e)=>t===e;function Te(t){var e=S.useContext(vS);return hZ.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:pZ,e?e.store.getState:hv,e?e.store.getState:hv,e?t:hv,gZ)}function vZ(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function yZ(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function bZ(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var aD=t=>Array.isArray(t)?t:[t];function _Z(t){const e=Array.isArray(t[0])?t[0]:t;return bZ(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function xZ(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var wZ=class{constructor(t){this.value=t}deref(){return this.value}},EZ=typeof WeakRef<"u"?WeakRef:wZ,TZ=0,sD=1;function kg(){return{s:TZ,v:void 0,o:null,p:null}}function WL(t,e={}){let n=kg();const{resultEqualityCheck:r}=e;let i,a=0;function l(){var p;let c=n;const{length:d}=arguments;for(let y=0,x=d;y<x;y++){const w=arguments[y];if(typeof w=="function"||typeof w=="object"&&w!==null){let E=c.o;E===null&&(c.o=E=new WeakMap);const A=E.get(w);A===void 0?(c=kg(),E.set(w,c)):c=A}else{let E=c.p;E===null&&(c.p=E=new Map);const A=E.get(w);A===void 0?(c=kg(),E.set(w,c)):c=A}}const f=c;let m;if(c.s===sD)m=c.v;else if(m=t.apply(null,arguments),a++,r){const y=((p=i==null?void 0:i.deref)==null?void 0:p.call(i))??i;y!=null&&r(y,m)&&(m=y,a!==0&&a--),i=typeof m=="object"&&m!==null||typeof m=="function"?new EZ(m):m}return f.s=sD,f.v=m,m}return l.clearCache=()=>{n=kg(),l.resetResultsCount()},l.resultsCount=()=>a,l.resetResultsCount=()=>{a=0},l}function SZ(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let a=0,l=0,c,d={},f=i.pop();typeof f=="object"&&(d=f,f=i.pop()),vZ(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const m={...n,...d},{memoize:p,memoizeOptions:y=[],argsMemoize:x=WL,argsMemoizeOptions:w=[]}=m,E=aD(y),A=aD(w),O=_Z(i),D=p(function(){return a++,f.apply(null,arguments)},...E),j=x(function(){l++;const U=xZ(O,arguments);return c=D.apply(null,U),c},...A);return Object.assign(j,{resultFunc:f,memoizedResultFunc:D,dependencies:O,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>c,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:x})};return Object.assign(r,{withTypes:()=>r}),r}var J=SZ(WL),AZ=Object.assign((t,e=J)=>{yZ(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(a=>t[a]);return e(r,(...a)=>a.reduce((l,c,d)=>(l[n[d]]=c,l),{}))},{withTypes:()=>AZ}),f1={},h1={},m1={},oD;function CZ(){return oD||(oD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const l=e(r),c=e(i);if(l===c&&l===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?c-l:l-c}return 0};t.compareValues=n})(m1)),m1}var p1={},g1={},lD;function XL(){return lD||(lD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(g1)),g1}var cD;function IZ(){return cD||(cD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=XL(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,l){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||l!=null&&Object.hasOwn(l,a)}t.isKey=i})(p1)),p1}var uD;function OZ(){return uD||(uD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=CZ(),n=IZ(),r=fS();function i(a,l,c,d){if(a==null)return[];c=d?void 0:c,Array.isArray(a)||(a=Object.values(a)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(x=>String(x));const f=(x,w)=>{let E=x;for(let A=0;A<w.length&&E!=null;++A)E=E[w[A]];return E},m=(x,w)=>w==null||x==null?w:typeof x=="object"&&"key"in x?Object.hasOwn(w,x.key)?w[x.key]:f(w,x.path):typeof x=="function"?x(w):Array.isArray(x)?f(w,x):typeof w=="object"?w[x]:w,p=l.map(x=>(Array.isArray(x)&&x.length===1&&(x=x[0]),x==null||typeof x=="function"||Array.isArray(x)||n.isKey(x)?x:{key:x,path:r.toPath(x)}));return a.map(x=>({original:x,criteria:p.map(w=>m(w,x))})).slice().sort((x,w)=>{for(let E=0;E<p.length;E++){const A=e.compareValues(x.criteria[E],w.criteria[E],c[E]);if(A!==0)return A}return 0}).map(x=>x.original)}t.orderBy=i})(h1)),h1}var v1={},dD;function NZ(){return dD||(dD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],a=Math.floor(r),l=(c,d)=>{for(let f=0;f<c.length;f++){const m=c[f];Array.isArray(m)&&d<a?l(m,d+1):i.push(m)}};return l(n,0),i}t.flatten=e})(v1)),v1}var y1={},fD;function QL(){return fD||(fD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=GL(),n=gS(),r=BL(),i=FL();function a(l,c,d){return r.isObject(d)&&(typeof c=="number"&&n.isArrayLike(d)&&e.isIndex(c)&&c<d.length||typeof c=="string"&&c in d)?i.eq(d[c],l):!1}t.isIterateeCall=a})(y1)),y1}var hD;function PZ(){return hD||(hD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=OZ(),n=NZ(),r=QL();function i(a,...l){const c=l.length;return c>1&&r.isIterateeCall(a,l[0],l[1])?l=[]:c>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(a,n.flatten(l),["asc"])}t.sortBy=i})(f1)),f1}var b1,mD;function RZ(){return mD||(mD=1,b1=PZ().sortBy),b1}var DZ=RZ();const b0=Fa(DZ);var ZL=t=>t.legend.settings,kZ=t=>t.legend.size,MZ=t=>t.legend.payload,jZ=J([MZ,ZL],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?b0(r,n):r});function VZ(){return Te(jZ)}var Mg=1;function JL(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=S.useState({height:0,left:0,top:0,width:0}),r=S.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),l={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(l.height-e.height)>Mg||Math.abs(l.left-e.left)>Mg||Math.abs(l.top-e.top)>Mg||Math.abs(l.width-e.width)>Mg)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function ar(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var LZ=typeof Symbol=="function"&&Symbol.observable||"@@observable",pD=LZ,_1=()=>Math.random().toString(36).substring(7).split("").join("."),zZ={INIT:`@@redux/INIT${_1()}`,REPLACE:`@@redux/REPLACE${_1()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${_1()}`},ry=zZ;function yS(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function e6(t,e,n){if(typeof t!="function")throw new Error(ar(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ar(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ar(1));return n(e6)(t,e)}let r=t,i=e,a=new Map,l=a,c=0,d=!1;function f(){l===a&&(l=new Map,a.forEach((A,O)=>{l.set(O,A)}))}function m(){if(d)throw new Error(ar(3));return i}function p(A){if(typeof A!="function")throw new Error(ar(4));if(d)throw new Error(ar(5));let O=!0;f();const D=c++;return l.set(D,A),function(){if(O){if(d)throw new Error(ar(6));O=!1,f(),l.delete(D),a=null}}}function y(A){if(!yS(A))throw new Error(ar(7));if(typeof A.type>"u")throw new Error(ar(8));if(typeof A.type!="string")throw new Error(ar(17));if(d)throw new Error(ar(9));try{d=!0,i=r(i,A)}finally{d=!1}return(a=l).forEach(D=>{D()}),A}function x(A){if(typeof A!="function")throw new Error(ar(10));r=A,y({type:ry.REPLACE})}function w(){const A=p;return{subscribe(O){if(typeof O!="object"||O===null)throw new Error(ar(11));function D(){const q=O;q.next&&q.next(m())}return D(),{unsubscribe:A(D)}},[pD](){return this}}}return y({type:ry.INIT}),{dispatch:y,subscribe:p,getState:m,replaceReducer:x,[pD]:w}}function BZ(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:ry.INIT})>"u")throw new Error(ar(12));if(typeof n(void 0,{type:ry.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ar(13))})}function t6(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const l=e[a];typeof t[l]=="function"&&(n[l]=t[l])}const r=Object.keys(n);let i;try{BZ(n)}catch(a){i=a}return function(l={},c){if(i)throw i;let d=!1;const f={};for(let m=0;m<r.length;m++){const p=r[m],y=n[p],x=l[p],w=y(x,c);if(typeof w>"u")throw c&&c.type,new Error(ar(14));f[p]=w,d=d||w!==x}return d=d||r.length!==Object.keys(l).length,d?f:l}}function iy(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function UZ(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(ar(15))};const l={getState:i.getState,dispatch:(d,...f)=>a(d,...f)},c=t.map(d=>d(l));return a=iy(...c)(i.dispatch),{...i,dispatch:a}}}function n6(t){return yS(t)&&"type"in t&&typeof t.type=="string"}var r6=Symbol.for("immer-nothing"),gD=Symbol.for("immer-draftable"),Ir=Symbol.for("immer-state");function Wi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var ri=Object,gd=ri.getPrototypeOf,ay="constructor",_0="prototype",iE="configurable",sy="enumerable",mv="writable",Yh="value",Ss=t=>!!t&&!!t[Ir];function ra(t){var e;return t?i6(t)||x0(t)||!!t[gD]||!!((e=t[ay])!=null&&e[gD])||w0(t)||E0(t):!1}var FZ=ri[_0][ay].toString(),vD=new WeakMap;function i6(t){if(!t||!bS(t))return!1;const e=gd(t);if(e===null||e===ri[_0])return!0;const n=ri.hasOwnProperty.call(e,ay)&&e[ay];if(n===Object)return!0;if(!ku(n))return!1;let r=vD.get(n);return r===void 0&&(r=Function.toString.call(n),vD.set(n,r)),r===FZ}function Sm(t,e,n=!0){Am(t)===0?(n?Reflect.ownKeys(t):ri.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Am(t){const e=t[Ir];return e?e.type_:x0(t)?1:w0(t)?2:E0(t)?3:0}var yD=(t,e,n=Am(t))=>n===2?t.has(e):ri[_0].hasOwnProperty.call(t,e),aE=(t,e,n=Am(t))=>n===2?t.get(e):t[e],oy=(t,e,n,r=Am(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function qZ(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var x0=Array.isArray,w0=t=>t instanceof Map,E0=t=>t instanceof Set,bS=t=>typeof t=="object",ku=t=>typeof t=="function",x1=t=>typeof t=="boolean",ls=t=>t.copy_||t.base_,_S=t=>t.modified_?t.copy_:t.base_;function sE(t,e){if(w0(t))return new Map(t);if(E0(t))return new Set(t);if(x0(t))return Array[_0].slice.call(t);const n=i6(t);if(e===!0||e==="class_only"&&!n){const r=ri.getOwnPropertyDescriptors(t);delete r[Ir];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const l=i[a],c=r[l];c[mv]===!1&&(c[mv]=!0,c[iE]=!0),(c.get||c.set)&&(r[l]={[iE]:!0,[mv]:!0,[sy]:c[sy],[Yh]:t[l]})}return ri.create(gd(t),r)}else{const r=gd(t);if(r!==null&&n)return{...t};const i=ri.create(r);return ri.assign(i,t)}}function xS(t,e=!1){return T0(t)||Ss(t)||!ra(t)||(Am(t)>1&&ri.defineProperties(t,{set:jg,add:jg,clear:jg,delete:jg}),ri.freeze(t),e&&Sm(t,(n,r)=>{xS(r,!0)},!1)),t}function $Z(){Wi(2)}var jg={[Yh]:$Z};function T0(t){return t===null||!bS(t)?!0:ri.isFrozen(t)}var ly="MapSet",oE="Patches",a6={};function vd(t){const e=a6[t];return e||Wi(0,t),e}var HZ=t=>!!a6[t],Wh,s6=()=>Wh,KZ=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:HZ(ly)?vd(ly):void 0});function bD(t,e){e&&(t.patchPlugin_=vd(oE),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function lE(t){cE(t),t.drafts_.forEach(GZ),t.drafts_=null}function cE(t){t===Wh&&(Wh=t.parent_)}var _D=t=>Wh=KZ(Wh,t);function GZ(t){const e=t[Ir];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function xD(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[Ir].modified_&&(lE(e),Wi(4)),ra(t)&&(t=wD(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[Ir].base_,t,e)}else t=wD(e,n);return YZ(e,t,!0),lE(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==r6?t:void 0}function wD(t,e){if(T0(e))return e;const n=e[Ir];if(!n)return wS(e,t.handledSet_,t);if(!S0(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);c6(n,t)}return n.copy_}function YZ(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&xS(e,n)}function o6(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var S0=(t,e)=>t.scope_===e,WZ=[];function l6(t,e,n,r){const i=ls(t),a=t.type_;if(r!==void 0&&aE(i,r,a)===e){oy(i,r,n,a);return}if(!t.draftLocations_){const c=t.draftLocations_=new Map;Sm(i,(d,f)=>{if(Ss(f)){const m=c.get(f)||[];m.push(d),c.set(f,m)}})}const l=t.draftLocations_.get(e)??WZ;for(const c of l)oy(i,c,n,a)}function XZ(t,e,n){t.callbacks_.push(function(i){var c;const a=e;if(!a||!S0(a,i))return;(c=i.mapSetPlugin_)==null||c.fixSetContents(a);const l=_S(a);l6(t,a.draft_??a,l,n),c6(a,i)})}function c6(t,e){var r;if(t.modified_&&!t.finalized_&&(t.type_===3||(((r=t.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=e;if(i){const a=i.getPath(t);a&&i.generatePatches_(t,a,e)}o6(t)}}function QZ(t,e,n){const{scope_:r}=t;if(Ss(n)){const i=n[Ir];S0(i,r)&&i.callbacks_.push(function(){pv(t);const l=_S(i);l6(t,n,l,e)})}else ra(n)&&t.callbacks_.push(function(){const a=ls(t);aE(a,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&wS(aE(t.copy_,e,t.type_),r.handledSet_,r)})}function wS(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Ss(t)||e.has(t)||!ra(t)||T0(t)||(e.add(t),Sm(t,(r,i)=>{if(Ss(i)){const a=i[Ir];if(S0(a,n)){const l=_S(a);oy(t,r,l,t.type_),o6(a)}}else ra(i)&&wS(i,e,n)})),t}function ZZ(t,e){const n=x0(t),r={type_:n?1:0,scope_:e?e.scope_:s6(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=ES;n&&(i=[r],a=Xh);const{revoke:l,proxy:c}=Proxy.revocable(i,a);return r.draft_=c,r.revoke_=l,[c,r]}var ES={get(t,e){if(e===Ir)return t;const n=ls(t);if(!yD(n,e,t.type_))return JZ(t,n,e);const r=n[e];if(t.finalized_||!ra(r))return r;if(r===w1(t.base_,e)){pv(t);const i=t.type_===1?+e:e,a=dE(t.scope_,r,t,i);return t.copy_[i]=a}return r},has(t,e){return e in ls(t)},ownKeys(t){return Reflect.ownKeys(ls(t))},set(t,e,n){const r=u6(ls(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=w1(ls(t),e),a=i==null?void 0:i[Ir];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(qZ(n,i)&&(n!==void 0||yD(t.base_,e,t.type_)))return!0;pv(t),uE(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),QZ(t,e,n)),!0},deleteProperty(t,e){return pv(t),w1(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),uE(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=ls(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[mv]:!0,[iE]:t.type_!==1||e!=="length",[sy]:r[sy],[Yh]:n[e]}},defineProperty(){Wi(11)},getPrototypeOf(t){return gd(t.base_)},setPrototypeOf(){Wi(12)}},Xh={};Sm(ES,(t,e)=>{Xh[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}});Xh.deleteProperty=function(t,e){return Xh.set.call(this,t,e,void 0)};Xh.set=function(t,e,n){return ES.set.call(this,t[0],e,n,t[0])};function w1(t,e){const n=t[Ir];return(n?ls(n):t)[e]}function JZ(t,e,n){var i;const r=u6(e,n);return r?Yh in r?r[Yh]:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function u6(t,e){if(!(e in t))return;let n=gd(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=gd(n)}}function uE(t){t.modified_||(t.modified_=!0,t.parent_&&uE(t.parent_))}function pv(t){t.copy_||(t.assigned_=new Map,t.copy_=sE(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var eJ=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(ku(n)&&!ku(r)){const l=r;r=n;const c=this;return function(f=l,...m){return c.produce(f,p=>r.call(this,p,...m))}}ku(r)||Wi(6),i!==void 0&&!ku(i)&&Wi(7);let a;if(ra(n)){const l=_D(this),c=dE(l,n,void 0);let d=!0;try{a=r(c),d=!1}finally{d?lE(l):cE(l)}return bD(l,i),xD(a,l)}else if(!n||!bS(n)){if(a=r(n),a===void 0&&(a=n),a===r6&&(a=void 0),this.autoFreeze_&&xS(a,!0),i){const l=[],c=[];vd(oE).generateReplacementPatches_(n,a,{patches_:l,inversePatches_:c}),i(l,c)}return a}else Wi(1,n)},this.produceWithPatches=(n,r)=>{if(ku(n))return(c,...d)=>this.produceWithPatches(c,f=>n(f,...d));let i,a;return[this.produce(n,r,(c,d)=>{i=c,a=d}),i,a]},x1(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),x1(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),x1(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){ra(e)||Wi(8),Ss(e)&&(e=ea(e));const n=_D(this),r=dE(n,e,void 0);return r[Ir].isManual_=!0,cE(n),r}finishDraft(e,n){const r=e&&e[Ir];(!r||!r.isManual_)&&Wi(9);const{scope_:i}=r;return bD(i,n),xD(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(n=n.slice(r+1));const i=vd(oE).applyPatches_;return Ss(e)?i(e,n):this.produce(e,a=>i(a,n))}};function dE(t,e,n,r){const[i,a]=w0(e)?vd(ly).proxyMap_(e,n):E0(e)?vd(ly).proxySet_(e,n):ZZ(e,n);return((n==null?void 0:n.scope_)??s6()).drafts_.push(i),a.callbacks_=(n==null?void 0:n.callbacks_)??[],a.key_=r,n&&r!==void 0?XZ(n,a,r):a.callbacks_.push(function(d){var m;(m=d.mapSetPlugin_)==null||m.fixSetContents(a);const{patchPlugin_:f}=d;a.modified_&&f&&f.generatePatches_(a,[],d)}),i}function ea(t){return Ss(t)||Wi(10,t),d6(t)}function d6(t){if(!ra(t)||T0(t))return t;const e=t[Ir];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=sE(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=sE(t,!0);return Sm(n,(i,a)=>{oy(n,i,d6(a))},r),e&&(e.finalized_=!1),n}var tJ=new eJ,f6=tJ.produce;function h6(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var nJ=h6(),rJ=h6,iJ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?iy:iy.apply(null,arguments)};function Ni(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(ii(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>n6(r)&&r.type===t,n}var m6=class ph extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,ph.prototype)}static get[Symbol.species](){return ph}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new ph(...e[0].concat(this)):new ph(...e.concat(this))}};function ED(t){return ra(t)?f6(t,()=>{}):t}function Vg(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function aJ(t){return typeof t=="boolean"}var sJ=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let l=new m6;return n&&(aJ(n)?l.push(nJ):l.push(rJ(n.extraArgument))),l},p6="RTK_autoBatch",$t=()=>t=>({payload:t,meta:{[p6]:!0}}),TD=t=>e=>{setTimeout(e,t)},g6=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,l=!1;const c=new Set,d=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:TD(10):t.type==="callback"?t.queueNotification:TD(t.timeout),f=()=>{l=!1,a&&(a=!1,c.forEach(m=>m()))};return Object.assign({},r,{subscribe(m){const p=()=>i&&m(),y=r.subscribe(p);return c.add(m),()=>{y(),c.delete(m)}},dispatch(m){var p;try{return i=!((p=m==null?void 0:m.meta)!=null&&p[p6]),a=!i,a&&(l||(l=!0,d(f))),r.dispatch(m)}finally{i=!0}}})},oJ=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new m6(t);return r&&i.push(g6(typeof r=="object"?r:void 0)),i};function lJ(t){const e=sJ(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:l=void 0}=t||{};let c;if(typeof n=="function")c=n;else if(yS(n))c=t6(n);else throw new Error(ii(1));let d;typeof r=="function"?d=r(e):d=e();let f=iy;i&&(f=iJ({trace:!1,...typeof i=="object"&&i}));const m=UZ(...d),p=oJ(m);let y=typeof l=="function"?l(p):p();const x=f(...y);return e6(c,a,x)}function v6(t){const e={},n=[];let r;const i={addCase(a,l){const c=typeof a=="string"?a:a.type;if(!c)throw new Error(ii(28));if(c in e)throw new Error(ii(29));return e[c]=l,i},addAsyncThunk(a,l){return l.pending&&(e[a.pending.type]=l.pending),l.rejected&&(e[a.rejected.type]=l.rejected),l.fulfilled&&(e[a.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:a.settled,reducer:l.settled}),i},addMatcher(a,l){return n.push({matcher:a,reducer:l}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}function cJ(t){return typeof t=="function"}function uJ(t,e){let[n,r,i]=v6(e),a;if(cJ(t))a=()=>ED(t());else{const c=ED(t);a=()=>c}function l(c=a(),d){let f=[n[d.type],...r.filter(({matcher:m})=>m(d)).map(({reducer:m})=>m)];return f.filter(m=>!!m).length===0&&(f=[i]),f.reduce((m,p)=>{if(p)if(Ss(m)){const x=p(m,d);return x===void 0?m:x}else{if(ra(m))return f6(m,y=>p(y,d));{const y=p(m,d);if(y===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return m},c)}return l.getInitialState=a,l}var dJ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",fJ=(t=21)=>{let e="",n=t;for(;n--;)e+=dJ[Math.random()*64|0];return e},hJ=Symbol.for("rtk-slice-createasyncthunk");function mJ(t,e){return`${t}/${e}`}function pJ({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[hJ];return function(i){const{name:a,reducerPath:l=a}=i;if(!a)throw new Error(ii(11));const c=(typeof i.reducers=="function"?i.reducers(vJ()):i.reducers)||{},d=Object.keys(c),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(q,U){const F=typeof q=="string"?q:q.type;if(!F)throw new Error(ii(12));if(F in f.sliceCaseReducersByType)throw new Error(ii(13));return f.sliceCaseReducersByType[F]=U,m},addMatcher(q,U){return f.sliceMatchers.push({matcher:q,reducer:U}),m},exposeAction(q,U){return f.actionCreators[q]=U,m},exposeCaseReducer(q,U){return f.sliceCaseReducersByName[q]=U,m}};d.forEach(q=>{const U=c[q],F={reducerName:q,type:mJ(a,q),createNotation:typeof i.reducers=="function"};bJ(U)?xJ(F,U,m,e):yJ(F,U,m)});function p(){const[q={},U=[],F=void 0]=typeof i.extraReducers=="function"?v6(i.extraReducers):[i.extraReducers],N={...q,...f.sliceCaseReducersByType};return uJ(i.initialState,P=>{for(let M in N)P.addCase(M,N[M]);for(let M of f.sliceMatchers)P.addMatcher(M.matcher,M.reducer);for(let M of U)P.addMatcher(M.matcher,M.reducer);F&&P.addDefaultCase(F)})}const y=q=>q,x=new Map,w=new WeakMap;let E;function A(q,U){return E||(E=p()),E(q,U)}function O(){return E||(E=p()),E.getInitialState()}function D(q,U=!1){function F(P){let M=P[q];return typeof M>"u"&&U&&(M=Vg(w,F,O)),M}function N(P=y){const M=Vg(x,U,()=>new WeakMap);return Vg(M,P,()=>{const B={};for(const[k,L]of Object.entries(i.selectors??{}))B[k]=gJ(L,P,()=>Vg(w,P,O),U);return B})}return{reducerPath:q,getSelectors:N,get selectors(){return N(F)},selectSlice:F}}const j={name:a,reducer:A,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:O,...D(l),injectInto(q,{reducerPath:U,...F}={}){const N=U??l;return q.inject({reducerPath:N,reducer:A},F),{...j,...D(N,!0)}}};return j}}function gJ(t,e,n,r){function i(a,...l){let c=e(a);return typeof c>"u"&&r&&(c=n()),t(c,...l)}return i.unwrapped=t,i}var Br=pJ();function vJ(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function yJ({type:t,reducerName:e,createNotation:n},r,i){let a,l;if("reducer"in r){if(n&&!_J(r))throw new Error(ii(17));a=r.reducer,l=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,l?Ni(t,l):Ni(t))}function bJ(t){return t._reducerDefinitionType==="asyncThunk"}function _J(t){return t._reducerDefinitionType==="reducerWithPrepare"}function xJ({type:t,reducerName:e},n,r,i){if(!i)throw new Error(ii(18));const{payloadCreator:a,fulfilled:l,pending:c,rejected:d,settled:f,options:m}=n,p=i(t,a,m);r.exposeAction(e,p),l&&r.addCase(p.fulfilled,l),c&&r.addCase(p.pending,c),d&&r.addCase(p.rejected,d),f&&r.addMatcher(p.settled,f),r.exposeCaseReducer(e,{fulfilled:l||Lg,pending:c||Lg,rejected:d||Lg,settled:f||Lg})}function Lg(){}var wJ="task",y6="listener",b6="completed",TS="cancelled",EJ=`task-${TS}`,TJ=`task-${b6}`,fE=`${y6}-${TS}`,SJ=`${y6}-${b6}`,A0=class{constructor(t){rx(this,"name","TaskAbortError");rx(this,"message");this.code=t,this.message=`${wJ} ${TS} (reason: ${t})`}},SS=(t,e)=>{if(typeof t!="function")throw new TypeError(ii(32))},cy=()=>{},_6=(t,e=cy)=>(t.catch(e),t),x6=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),nc=t=>{if(t.aborted)throw new A0(t.reason)};function w6(t,e){let n=cy;return new Promise((r,i)=>{const a=()=>i(new A0(t.reason));if(t.aborted){a();return}n=x6(t,a),e.finally(()=>n()).then(r,i)}).finally(()=>{n=cy})}var AJ=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof A0?"cancelled":"rejected",error:n}}finally{e==null||e()}},uy=t=>e=>_6(w6(t,e).then(n=>(nc(t),n))),E6=t=>{const e=uy(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Hu}=Object,SD={},C0="listenerMiddleware",CJ=(t,e)=>{const n=r=>x6(t,()=>r.abort(t.reason));return(r,i)=>{SS(r);const a=new AbortController;n(a);const l=AJ(async()=>{nc(t),nc(a.signal);const c=await r({pause:uy(a.signal),delay:E6(a.signal),signal:a.signal});return nc(a.signal),c},()=>a.abort(TJ));return i!=null&&i.autoJoin&&e.push(l.catch(cy)),{result:uy(t)(l),cancel(){a.abort(EJ)}}}},IJ=(t,e)=>{const n=async(r,i)=>{nc(e);let a=()=>{};const c=[new Promise((d,f)=>{let m=t({predicate:r,effect:(p,y)=>{y.unsubscribe(),d([p,y.getState(),y.getOriginalState()])}});a=()=>{m(),f()}})];i!=null&&c.push(new Promise(d=>setTimeout(d,i,null)));try{const d=await w6(e,Promise.race(c));return nc(e),d}finally{a()}};return(r,i)=>_6(n(r,i))},T6=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:a}=t;if(e)i=Ni(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(ii(21));return SS(a),{predicate:i,type:e,effect:a}},S6=Hu(t=>{const{type:e,predicate:n,effect:r}=T6(t);return{id:fJ(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(ii(22))}}},{withTypes:()=>S6}),AD=(t,e)=>{const{type:n,effect:r,predicate:i}=T6(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},hE=t=>{t.pending.forEach(e=>{e.abort(fE)})},OJ=(t,e)=>()=>{for(const n of e.keys())hE(n);t.clear()},CD=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},A6=Hu(Ni(`${C0}/add`),{withTypes:()=>A6}),NJ=Ni(`${C0}/removeAll`),C6=Hu(Ni(`${C0}/remove`),{withTypes:()=>C6}),PJ=(...t)=>{console.error(`${C0}/error`,...t)},Cm=(t={})=>{const e=new Map,n=new Map,r=x=>{const w=n.get(x)??0;n.set(x,w+1)},i=x=>{const w=n.get(x)??1;w===1?n.delete(x):n.set(x,w-1)},{extra:a,onError:l=PJ}=t;SS(l);const c=x=>(x.unsubscribe=()=>e.delete(x.id),e.set(x.id,x),w=>{x.unsubscribe(),w!=null&&w.cancelActive&&hE(x)}),d=x=>{const w=AD(e,x)??S6(x);return c(w)};Hu(d,{withTypes:()=>d});const f=x=>{const w=AD(e,x);return w&&(w.unsubscribe(),x.cancelActive&&hE(w)),!!w};Hu(f,{withTypes:()=>f});const m=async(x,w,E,A)=>{const O=new AbortController,D=IJ(d,O.signal),j=[];try{x.pending.add(O),r(x),await Promise.resolve(x.effect(w,Hu({},E,{getOriginalState:A,condition:(q,U)=>D(q,U).then(Boolean),take:D,delay:E6(O.signal),pause:uy(O.signal),extra:a,signal:O.signal,fork:CJ(O.signal,j),unsubscribe:x.unsubscribe,subscribe:()=>{e.set(x.id,x)},cancelActiveListeners:()=>{x.pending.forEach((q,U,F)=>{q!==O&&(q.abort(fE),F.delete(q))})},cancel:()=>{O.abort(fE),x.pending.delete(O)},throwIfCancelled:()=>{nc(O.signal)}})))}catch(q){q instanceof A0||CD(l,q,{raisedBy:"effect"})}finally{await Promise.all(j),O.abort(SJ),i(x),x.pending.delete(O)}},p=OJ(e,n);return{middleware:x=>w=>E=>{if(!n6(E))return w(E);if(A6.match(E))return d(E.payload);if(NJ.match(E)){p();return}if(C6.match(E))return f(E.payload);let A=x.getState();const O=()=>{if(A===SD)throw new Error(ii(23));return A};let D;try{if(D=w(E),e.size>0){const j=x.getState(),q=Array.from(e.values());for(const U of q){let F=!1;try{F=U.predicate(E,j,A)}catch(N){F=!1,CD(l,N,{raisedBy:"predicate"})}F&&m(U,E,x,O)}}}finally{A=SD}return D},startListening:d,stopListening:f,clearListeners:p}};function ii(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var RJ={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},I6=Br({name:"chartLayout",initialState:RJ,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,a;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:DJ,setLayout:kJ,setChartSize:MJ,setScale:jJ}=I6.actions,VJ=I6.reducer;function O6(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function ID(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ju(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ID(Object(n),!0).forEach(function(r){LJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ID(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LJ(t,e,n){return(e=zJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zJ(t){var e=BJ(t,"string");return typeof e=="symbol"?e:e+""}function BJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dt(t,e,n){return Yt(t)||Yt(e)?n:za(e)?vc(t,e,n):typeof e=="function"?e(t):n}var UJ=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:a,verticalAlign:l,layout:c}=e;if((c==="vertical"||c==="horizontal"&&l==="middle")&&a!=="center"&&Ne(t[a]))return ju(ju({},t),{},{[a]:t[a]+(r||0)});if((c==="horizontal"||c==="vertical"&&a==="center")&&l!=="middle"&&Ne(t[l]))return ju(ju({},t),{},{[l]:t[l]+(i||0)})}return t},rl=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",N6=(t,e,n,r)=>{if(r)return t.map(c=>c.coordinate);var i,a,l=t.map(c=>(c.coordinate===e&&(i=!0),c.coordinate===n&&(a=!0),c.coordinate));return i||l.push(e),a||l.push(n),l},P6=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:a,scale:l,realScaleType:c,isCategorical:d,categoricalDomain:f,tickCount:m,ticks:p,niceTicks:y,axisType:x}=t;if(!l)return null;var w=c==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,E=i==="category"&&l.bandwidth?l.bandwidth()/w:0;if(E=x==="angleAxis"&&a&&a.length>=2?Xn(a[0]-a[1])*2*E:E,p||y){var A=(p||y||[]).map((O,D)=>{var j=r?r.indexOf(O):O;return{coordinate:l(j)+E,value:O,offset:E,index:D}});return A.filter(O=>!na(O.coordinate))}return d&&f?f.map((O,D)=>({coordinate:l(O)+E,value:O,index:D,offset:E})):l.ticks&&m!=null?l.ticks(m).map((O,D)=>({coordinate:l(O)+E,value:O,offset:E,index:D})):l.domain().map((O,D)=>({coordinate:l(O)+E,value:r?r[O]:O,index:D,offset:E}))},OD=1e-4,FJ=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-OD,a=Math.max(r[0],r[1])+OD,l=t(e[0]),c=t(e[n-1]);(l<i||l>a||c<i||c>a)&&t.domain([e[0],e[n-1]])}},qJ=(t,e)=>{if(!e||e.length!==2||!Ne(e[0])||!Ne(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!Ne(t[0])||t[0]<n)&&(i[0]=n),(!Ne(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},$J=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0,l=0;l<e;++l){var c=na(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=a,t[l][n][1]=a+c,a=t[l][n][1])}},HJ=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0;a<e;++a){var l=na(t[a][n][1])?t[a][n][0]:t[a][n][1];l>=0?(t[a][n][0]=i,t[a][n][1]=i+l,i=t[a][n][1]):(t[a][n][0]=0,t[a][n][1]=0)}},KJ={sign:$J,expand:fQ,none:pd,silhouette:hQ,wiggle:mQ,positive:HJ},GJ=(t,e,n)=>{var r=KJ[n],i=dQ().keys(e).value((a,l)=>Number(Dt(a,l,0))).order(nE).offset(r);return i(t)};function YJ(t){return t==null?void 0:String(t)}function ND(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:a,dataKey:l}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Yt(i[e.dataKey])){var c=jL(n,"value",i[e.dataKey]);if(c)return c.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var d=Dt(i,Yt(l)?e.dataKey:l);return Yt(d)?null:e.scale(d)}var PD=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:a,index:l}=t;if(e.type==="category")return n[l]?n[l].coordinate+r:null;var c=Dt(a,e.dataKey,e.scale.domain()[l]);return Yt(c)?null:e.scale(c)-i/2+r},WJ=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},XJ=t=>{var e=t.flat(2).filter(Ne);return[Math.min(...e),Math.max(...e)]},QJ=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],ZJ=(t,e,n)=>{if(t!=null)return QJ(Object.keys(t).reduce((r,i)=>{var a=t[i],{stackedData:l}=a,c=l.reduce((d,f)=>{var m=O6(f,e,n),p=XJ(m);return[Math.min(d[0],p[0]),Math.max(d[1],p[1])]},[1/0,-1/0]);return[Math.min(c[0],r[0]),Math.max(c[1],r[1])]},[1/0,-1/0]))},RD=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,DD=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,yd=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=b0(e,m=>m.coordinate),a=1/0,l=1,c=i.length;l<c;l++){var d=i[l],f=i[l-1];a=Math.min((d.coordinate||0)-(f.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function kD(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:a}=t;return ju(ju({},e),{},{dataKey:n,payload:r,value:i,name:a})}function Rd(t,e){if(t)return String(t);if(typeof e=="string")return e}var JJ=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},eee=(t,e)=>e==="centric"?t.angle:t.radius,Ds=t=>t.layout.width,ks=t=>t.layout.height,tee=t=>t.layout.scale,R6=t=>t.layout.margin,I0=J(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),O0=J(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),D6="data-recharts-item-index",k6="data-recharts-item-data-key",Im=60;function MD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MD(Object(n),!0).forEach(function(r){nee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nee(t,e,n){return(e=ree(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ree(t){var e=iee(t,"string");return typeof e=="symbol"?e:e+""}function iee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aee=t=>t.brush.height;function see(t){var e=O0(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Im;return n+i}return n},0)}function oee(t){var e=O0(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Im;return n+i}return n},0)}function lee(t){var e=I0(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function cee(t){var e=I0(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Ln=J([Ds,ks,R6,aee,see,oee,lee,cee,ZL,kZ],(t,e,n,r,i,a,l,c,d,f)=>{var m={left:(n.left||0)+i,right:(n.right||0)+a},p={top:(n.top||0)+l,bottom:(n.bottom||0)+c},y=zg(zg({},p),m),x=y.bottom;y.bottom+=r,y=UJ(y,d,f);var w=t-y.left-y.right,E=e-y.top-y.bottom;return zg(zg({brushBottom:x},y),{},{width:Math.max(w,0),height:Math.max(E,0)})}),uee=J(Ln,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),AS=J(Ds,ks,(t,e)=>({x:0,y:0,width:t,height:e})),dee=S.createContext(null),gr=()=>S.useContext(dee)!=null,N0=t=>t.brush,P0=J([N0,Ln,R6],(t,e,n)=>({height:t.height,x:Ne(t.x)?t.x:e.left,y:Ne(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:Ne(t.width)?t.width:e.width})),E1={},T1={},S1={},jD;function fee(){return jD||(jD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:a}={}){let l,c=null;const d=a!=null&&a.includes("leading"),f=a==null||a.includes("trailing"),m=()=>{c!==null&&(n.apply(l,c),l=void 0,c=null)},p=()=>{f&&m(),E()};let y=null;const x=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,p()},r)},w=()=>{y!==null&&(clearTimeout(y),y=null)},E=()=>{w(),l=void 0,c=null},A=()=>{m()},O=function(...D){if(i!=null&&i.aborted)return;l=this,c=D;const j=y==null;x(),d&&j&&m()};return O.schedule=x,O.cancel=E,O.flush=A,i==null||i.addEventListener("abort",E,{once:!0}),O}t.debounce=e})(S1)),S1}var VD;function hee(){return VD||(VD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fee();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:l=!1,trailing:c=!0,maxWait:d}=a,f=Array(2);l&&(f[0]="leading"),c&&(f[1]="trailing");let m,p=null;const y=e.debounce(function(...E){m=r.apply(this,E),p=null},i,{edges:f}),x=function(...E){return d!=null&&(p===null&&(p=Date.now()),Date.now()-p>=d)?(m=r.apply(this,E),p=Date.now(),y.cancel(),y.schedule(),m):(y.apply(this,E),m)},w=()=>(y.flush(),m);return x.cancel=y.cancel,x.flush=w,x}t.debounce=n})(T1)),T1}var LD;function mee(){return LD||(LD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hee();function n(r,i=0,a={}){const{leading:l=!0,trailing:c=!0}=a;return e.debounce(r,i,{leading:l,maxWait:i,trailing:c})}t.throttle=n})(E1)),E1}var A1,zD;function pee(){return zD||(zD=1,A1=mee().throttle),A1}var gee=pee();const vee=Fa(gee);var dy=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(n.replace(/%s/g,()=>i[l++]))}},M6=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:l}=n,c=Ts(r)?t:Number(r),d=Ts(i)?e:Number(i);return a&&a>0&&(c?d=c/a:d&&(c=d*a),l&&d!=null&&d>l&&(d=l)),{calculatedWidth:c,calculatedHeight:d}},yee={width:0,height:0,overflow:"visible"},bee={width:0,overflowX:"visible"},_ee={height:0,overflowY:"visible"},xee={},wee=t=>{var{width:e,height:n}=t,r=Ts(e),i=Ts(n);return r&&i?yee:r?bee:i?_ee:xee};function Eee(t){var{width:e,height:n,aspect:r}=t,i=e,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function dn(t){return Number.isFinite(t)}function Ba(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function mE(){return mE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mE.apply(null,arguments)}function BD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BD(Object(n),!0).forEach(function(r){Tee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tee(t,e,n){return(e=See(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function See(t){var e=Aee(t,"string");return typeof e=="symbol"?e:e+""}function Aee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var j6=S.createContext({width:-1,height:-1});function Cee(t){return Ba(t.width)&&Ba(t.height)}function V6(t){var{children:e,width:n,height:r}=t,i=S.useMemo(()=>({width:n,height:r}),[n,r]);return Cee(i)?S.createElement(j6.Provider,{value:i},e):null}var CS=()=>S.useContext(j6),Iee=S.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:l=0,minHeight:c,maxHeight:d,children:f,debounce:m=0,id:p,className:y,onResize:x,style:w={}}=t,E=S.useRef(null),A=S.useRef();A.current=x,S.useImperativeHandle(e,()=>E.current);var[O,D]=S.useState({containerWidth:r.width,containerHeight:r.height}),j=S.useCallback((P,M)=>{D(B=>{var k=Math.round(P),L=Math.round(M);return B.containerWidth===k&&B.containerHeight===L?B:{containerWidth:k,containerHeight:L}})},[]);S.useEffect(()=>{if(E.current==null||typeof ResizeObserver>"u")return Em;var P=L=>{var z,{width:de,height:Ee}=L[0].contentRect;j(de,Ee),(z=A.current)===null||z===void 0||z.call(A,de,Ee)};m>0&&(P=vee(P,m,{trailing:!0,leading:!1}));var M=new ResizeObserver(P),{width:B,height:k}=E.current.getBoundingClientRect();return j(B,k),M.observe(E.current),()=>{M.disconnect()}},[j,m]);var{containerWidth:q,containerHeight:U}=O;dy(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:F,calculatedHeight:N}=M6(q,U,{width:i,height:a,aspect:n,maxHeight:d});return dy(F!=null&&F>0||N!=null&&N>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,N,i,a,l,c,n),S.createElement("div",{id:p?"".concat(p):void 0,className:Ce("recharts-responsive-container",y),style:UD(UD({},w),{},{width:i,height:a,minWidth:l,minHeight:c,maxHeight:d}),ref:E},S.createElement("div",{style:wee({width:i,height:a})},S.createElement(V6,{width:F,height:N},f)))}),C1=S.forwardRef((t,e)=>{var n=CS();if(Ba(n.width)&&Ba(n.height))return t.children;var{width:r,height:i}=Eee({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:a,calculatedHeight:l}=M6(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Ne(a)&&Ne(l)?S.createElement(V6,{width:a,height:l},t.children):S.createElement(Iee,mE({},t,{width:r,height:i,ref:e}))});function L6(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var R0=()=>{var t,e=gr(),n=Te(uee),r=Te(P0),i=(t=Te(N0))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},Oee={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},z6=()=>{var t;return(t=Te(Ln))!==null&&t!==void 0?t:Oee},IS=()=>Te(Ds),OS=()=>Te(ks),Nee=()=>Te(t=>t.layout.margin),dt=t=>t.layout.layoutType,Om=()=>Te(dt),Pee=()=>{var t=Om();return t!==void 0},D0=t=>{var e=Vt(),n=gr(),{width:r,height:i}=t,a=CS(),l=r,c=i;return a&&(l=a.width>0?a.width:r,c=a.height>0?a.height:i),S.useEffect(()=>{!n&&Ba(l)&&Ba(c)&&e(MJ({width:l,height:c}))},[e,n,l,c]),null},B6=Symbol.for("immer-nothing"),FD=Symbol.for("immer-draftable"),oi=Symbol.for("immer-state");function Xi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Qh=Object.getPrototypeOf;function bd(t){return!!t&&!!t[oi]}function yc(t){var e;return t?U6(t)||Array.isArray(t)||!!t[FD]||!!((e=t.constructor)!=null&&e[FD])||Nm(t)||M0(t):!1}var Ree=Object.prototype.constructor.toString(),qD=new WeakMap;function U6(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=qD.get(n);return r===void 0&&(r=Function.toString.call(n),qD.set(n,r)),r===Ree}function fy(t,e,n=!0){k0(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function k0(t){const e=t[oi];return e?e.type_:Array.isArray(t)?1:Nm(t)?2:M0(t)?3:0}function pE(t,e){return k0(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function F6(t,e,n){const r=k0(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function Dee(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Nm(t){return t instanceof Map}function M0(t){return t instanceof Set}function Fl(t){return t.copy_||t.base_}function gE(t,e){if(Nm(t))return new Map(t);if(M0(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=U6(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[oi];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const l=i[a],c=r[l];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(r[l]={configurable:!0,writable:!0,enumerable:c.enumerable,value:t[l]})}return Object.create(Qh(t),r)}else{const r=Qh(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function NS(t,e=!1){return j0(t)||bd(t)||!yc(t)||(k0(t)>1&&Object.defineProperties(t,{set:Bg,add:Bg,clear:Bg,delete:Bg}),Object.freeze(t),e&&Object.values(t).forEach(n=>NS(n,!0))),t}function kee(){Xi(2)}var Bg={value:kee};function j0(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var Mee={};function bc(t){const e=Mee[t];return e||Xi(0,t),e}var Zh;function q6(){return Zh}function jee(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function $D(t,e){e&&(bc("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function vE(t){yE(t),t.drafts_.forEach(Vee),t.drafts_=null}function yE(t){t===Zh&&(Zh=t.parent_)}function HD(t){return Zh=jee(Zh,t)}function Vee(t){const e=t[oi];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function KD(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[oi].modified_&&(vE(e),Xi(4)),yc(t)&&(t=hy(e,t),e.parent_||my(e,t)),e.patches_&&bc("Patches").generateReplacementPatches_(n[oi].base_,t,e.patches_,e.inversePatches_)):t=hy(e,n,[]),vE(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==B6?t:void 0}function hy(t,e,n){if(j0(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[oi];if(!i)return fy(e,(a,l)=>GD(t,i,e,a,l,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return my(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let l=a,c=!1;i.type_===3&&(l=new Set(a),a.clear(),c=!0),fy(l,(d,f)=>GD(t,i,a,d,f,n,c),r),my(t,a,!1),n&&t.patches_&&bc("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function GD(t,e,n,r,i,a,l){if(i==null||typeof i!="object"&&!l)return;const c=j0(i);if(!(c&&!l)){if(bd(i)){const d=a&&e&&e.type_!==3&&!pE(e.assigned_,r)?a.concat(r):void 0,f=hy(t,i,d);if(F6(n,r,f),bd(f))t.canAutoFreeze_=!1;else return}else l&&n.add(i);if(yc(i)&&!c){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&c)return;hy(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Nm(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&my(t,i)}}}function my(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&NS(e,n)}function Lee(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:q6(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=PS;n&&(i=[r],a=Jh);const{revoke:l,proxy:c}=Proxy.revocable(i,a);return r.draft_=c,r.revoke_=l,c}var PS={get(t,e){if(e===oi)return t;const n=Fl(t);if(!pE(n,e))return zee(t,n,e);const r=n[e];return t.finalized_||!yc(r)?r:r===I1(t.base_,e)?(O1(t),t.copy_[e]=_E(r,t)):r},has(t,e){return e in Fl(t)},ownKeys(t){return Reflect.ownKeys(Fl(t))},set(t,e,n){const r=$6(Fl(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=I1(Fl(t),e),a=i==null?void 0:i[oi];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(Dee(n,i)&&(n!==void 0||pE(t.base_,e)))return!0;O1(t),bE(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return I1(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,O1(t),bE(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Fl(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Xi(11)},getPrototypeOf(t){return Qh(t.base_)},setPrototypeOf(){Xi(12)}},Jh={};fy(PS,(t,e)=>{Jh[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Jh.deleteProperty=function(t,e){return Jh.set.call(this,t,e,void 0)};Jh.set=function(t,e,n){return PS.set.call(this,t[0],e,n,t[0])};function I1(t,e){const n=t[oi];return(n?Fl(n):t)[e]}function zee(t,e,n){var i;const r=$6(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function $6(t,e){if(!(e in t))return;let n=Qh(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Qh(n)}}function bE(t){t.modified_||(t.modified_=!0,t.parent_&&bE(t.parent_))}function O1(t){t.copy_||(t.copy_=gE(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Bee=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const l=this;return function(d=a,...f){return l.produce(d,m=>n.call(this,m,...f))}}typeof n!="function"&&Xi(6),r!==void 0&&typeof r!="function"&&Xi(7);let i;if(yc(e)){const a=HD(this),l=_E(e,void 0);let c=!0;try{i=n(l),c=!1}finally{c?vE(a):yE(a)}return $D(a,r),KD(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===B6&&(i=void 0),this.autoFreeze_&&NS(i,!0),r){const a=[],l=[];bc("Patches").generateReplacementPatches_(e,i,a,l),r(a,l)}return i}else Xi(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(l,...c)=>this.produceWithPatches(l,d=>e(d,...c));let r,i;return[this.produce(e,n,(l,c)=>{r=l,i=c}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){yc(t)||Xi(8),bd(t)&&(t=Uee(t));const e=HD(this),n=_E(t,void 0);return n[oi].isManual_=!0,yE(e),n}finishDraft(t,e){const n=t&&t[oi];(!n||!n.isManual_)&&Xi(9);const{scope_:r}=n;return $D(r,e),KD(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=bc("Patches").applyPatches_;return bd(t)?r(t,e):this.produce(t,i=>r(i,e))}};function _E(t,e){const n=Nm(t)?bc("MapSet").proxyMap_(t,e):M0(t)?bc("MapSet").proxySet_(t,e):Lee(t,e);return(e?e.scope_:q6()).drafts_.push(n),n}function Uee(t){return bd(t)||Xi(10,t),H6(t)}function H6(t){if(!yc(t)||j0(t))return t;const e=t[oi];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=gE(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=gE(t,!0);return fy(n,(i,a)=>{F6(n,i,H6(a))},r),e&&(e.finalized_=!1),n}var Fee=new Bee;Fee.produce;var qee={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},K6=Br({name:"legend",initialState:qee,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:$t()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ea(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:$t()},removeLegendPayload:{reducer(t,e){var n=ea(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:$t()}}}),{setLegendSize:YD,setLegendSettings:$ee,addLegendPayload:G6,replaceLegendPayload:Y6,removeLegendPayload:W6}=K6.actions,Hee=K6.reducer,Kee=["contextPayload"];function xE(){return xE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xE.apply(null,arguments)}function WD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _d(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WD(Object(n),!0).forEach(function(r){Gee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gee(t,e,n){return(e=Yee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yee(t){var e=Wee(t,"string");return typeof e=="symbol"?e:e+""}function Wee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xee(t,e){if(t==null)return{};var n,r,i=Qee(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Qee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Zee(t){return t.value}function Jee(t){var{contextPayload:e}=t,n=Xee(t,Kee),r=YL(e,t.payloadUniqBy,Zee),i=_d(_d({},n),{},{payload:r});return S.isValidElement(t.content)?S.cloneElement(t.content,i):typeof t.content=="function"?S.createElement(t.content,i):S.createElement(qQ,i)}function ete(t,e,n,r,i,a){var{layout:l,align:c,verticalAlign:d}=e,f,m;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(c==="center"&&l==="vertical"?f={left:((r||0)-a.width)/2}:f=c==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(d==="middle"?m={top:((i||0)-a.height)/2}:m=d==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),_d(_d({},f),m)}function tte(t){var e=Vt();return S.useEffect(()=>{e($ee(t))},[e,t]),null}function nte(t){var e=Vt();return S.useEffect(()=>(e(YD(t)),()=>{e(YD({width:0,height:0}))}),[e,t]),null}function rte(t,e,n,r){return t==="vertical"&&Ne(e)?{height:e}:t==="horizontal"?{width:n||r}:null}var ite={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function X6(t){var e=Nn(t,ite),n=VZ(),r=MX(),i=Nee(),{width:a,height:l,wrapperStyle:c,portal:d}=e,[f,m]=JL([n]),p=IS(),y=OS();if(p==null||y==null)return null;var x=p-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),w=rte(e.layout,l,a,x),E=d?c:_d(_d({position:"absolute",width:(w==null?void 0:w.width)||a||"auto",height:(w==null?void 0:w.height)||l||"auto"},ete(c,e,i,p,y,f)),c),A=d??r;if(A==null||n==null)return null;var O=S.createElement("div",{className:"recharts-legend-wrapper",style:E,ref:m},S.createElement(tte,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),!d&&S.createElement(nte,{width:f.width,height:f.height}),S.createElement(Jee,xE({},e,w,{margin:i,chartWidth:p,chartHeight:y,contextPayload:n})));return oS.createPortal(O,A)}X6.displayName="Legend";function wE(){return wE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wE.apply(null,arguments)}function XD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function N1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XD(Object(n),!0).forEach(function(r){ate(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ate(t,e,n){return(e=ste(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ste(t){var e=ote(t,"string");return typeof e=="symbol"?e:e+""}function ote(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lte(t){return Array.isArray(t)&&za(t[0])&&za(t[1])?t.join(" ~ "):t}var cte=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:l,itemSorter:c,wrapperClassName:d,labelClassName:f,label:m,labelFormatter:p,accessibilityLayer:y=!1}=t,x=()=>{if(a&&a.length){var U={padding:0,margin:0},F=(c?b0(a,c):a).map((N,P)=>{if(N.type==="none")return null;var M=N.formatter||l||lte,{value:B,name:k}=N,L=B,z=k;if(M){var de=M(B,k,N,P,a);if(Array.isArray(de))[L,z]=de;else if(de!=null)L=de;else return null}var Ee=N1({display:"block",paddingTop:4,paddingBottom:4,color:N.color||"#000"},r);return S.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(P),style:Ee},za(z)?S.createElement("span",{className:"recharts-tooltip-item-name"},z):null,za(z)?S.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,S.createElement("span",{className:"recharts-tooltip-item-value"},L),S.createElement("span",{className:"recharts-tooltip-item-unit"},N.unit||""))});return S.createElement("ul",{className:"recharts-tooltip-item-list",style:U},F)}return null},w=N1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),E=N1({margin:0},i),A=!Yt(m),O=A?m:"",D=Ce("recharts-default-tooltip",d),j=Ce("recharts-tooltip-label",f);A&&p&&a!==void 0&&a!==null&&(O=p(m,a));var q=y?{role:"status","aria-live":"assertive"}:{};return S.createElement("div",wE({className:D,style:w},q),S.createElement("p",{className:j,style:E},S.isValidElement(O)?O:"".concat(O)),x())},Zf="recharts-tooltip-wrapper",ute={visibility:"hidden"};function dte(t){var{coordinate:e,translateX:n,translateY:r}=t;return Ce(Zf,{["".concat(Zf,"-right")]:Ne(n)&&e&&Ne(e.x)&&n>=e.x,["".concat(Zf,"-left")]:Ne(n)&&e&&Ne(e.x)&&n<e.x,["".concat(Zf,"-bottom")]:Ne(r)&&e&&Ne(e.y)&&r>=e.y,["".concat(Zf,"-top")]:Ne(r)&&e&&Ne(e.y)&&r<e.y})}function QD(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:l,tooltipDimension:c,viewBox:d,viewBoxDimension:f}=t;if(a&&Ne(a[r]))return a[r];var m=n[r]-c-(i>0?i:0),p=n[r]+i;if(e[r])return l[r]?m:p;var y=d[r];if(y==null)return 0;if(l[r]){var x=m,w=y;return x<w?Math.max(p,y):Math.max(m,y)}if(f==null)return 0;var E=p+c,A=y+f;return E>A?Math.max(m,y):Math.max(p,y)}function fte(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function hte(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:l,useTranslate3d:c,viewBox:d}=t,f,m,p;return l.height>0&&l.width>0&&n?(m=QD({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),p=QD({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),f=fte({translateX:m,translateY:p,useTranslate3d:c})):f=ute,{cssProperties:f,cssClasses:dte({translateX:m,translateY:p,coordinate:n})}}function ZD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ug(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZD(Object(n),!0).forEach(function(r){EE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EE(t,e,n){return(e=mte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mte(t){var e=pte(t,"string");return typeof e=="symbol"?e:e+""}function pte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class gte extends S.PureComponent{constructor(){super(...arguments),EE(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),EE(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:l,hasPayload:c,isAnimationActive:d,offset:f,position:m,reverseDirection:p,useTranslate3d:y,viewBox:x,wrapperStyle:w,lastBoundingBox:E,innerRef:A,hasPortalFromProps:O}=this.props,{cssClasses:D,cssProperties:j}=hte({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:f,position:m,reverseDirection:p,tooltipBox:{height:E.height,width:E.width},useTranslate3d:y,viewBox:x}),q=O?{}:Ug(Ug({transition:d&&e?"transform ".concat(r,"ms ").concat(i):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&c?"visible":"hidden",position:"absolute",top:0,left:0}),U=Ug(Ug({},q),{},{visibility:!this.state.dismissed&&e&&c?"visible":"hidden"},w);return S.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:D,style:U,ref:A},a)}}var Q6=()=>{var t;return(t=Te(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function TE(){return TE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TE.apply(null,arguments)}function JD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ek(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JD(Object(n),!0).forEach(function(r){vte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vte(t,e,n){return(e=yte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yte(t){var e=bte(t,"string");return typeof e=="symbol"?e:e+""}function bte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tk={curveBasisClosed:eQ,curveBasisOpen:tQ,curveBasis:JX,curveBumpX:zX,curveBumpY:BX,curveLinearClosed:nQ,curveLinear:v0,curveMonotoneX:rQ,curveMonotoneY:iQ,curveNatural:aQ,curveStep:sQ,curveStepAfter:lQ,curveStepBefore:oQ},py=t=>dn(t.x)&&dn(t.y),nk=t=>t.base!=null&&py(t.base)&&py(t),Jf=t=>t.x,eh=t=>t.y,_te=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(wm(t));return(n==="curveMonotone"||n==="curveBump")&&e?tk["".concat(n).concat(e==="vertical"?"Y":"X")]:tk[n]||v0},xte=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=t,l=_te(e,i),c=a?n.filter(py):n,d;if(Array.isArray(r)){var f=n.map((x,w)=>ek(ek({},x),{},{base:r[w]}));i==="vertical"?d=Dg().y(eh).x1(Jf).x0(x=>x.base.x):d=Dg().x(Jf).y1(eh).y0(x=>x.base.y);var m=d.defined(nk).curve(l),p=a?f.filter(nk):f;return m(p)}i==="vertical"&&Ne(r)?d=Dg().y(eh).x1(Jf).x0(r):Ne(r)?d=Dg().x(Jf).y1(eh).y0(r):d=EL().x(Jf).y(eh);var y=d.defined(py).curve(l);return y(c)},RS=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var a=n&&n.length?xte(t):r;return S.createElement("path",TE({},si(t),pS(t),{className:Ce("recharts-curve",e),d:a===null?void 0:a,ref:i}))},wte=["x","y","top","left","width","height","className"];function SE(){return SE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SE.apply(null,arguments)}function rk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ete(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rk(Object(n),!0).forEach(function(r){Tte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tte(t,e,n){return(e=Ste(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ste(t){var e=Ate(t,"string");return typeof e=="symbol"?e:e+""}function Ate(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cte(t,e){if(t==null)return{};var n,r,i=Ite(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ite(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ote=(t,e,n,r,i,a)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(a,",").concat(e,"h").concat(n),Nte=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:a=0,height:l=0,className:c}=t,d=Cte(t,wte),f=Ete({x:e,y:n,top:r,left:i,width:a,height:l},d);return!Ne(e)||!Ne(n)||!Ne(a)||!Ne(l)||!Ne(r)||!Ne(i)?null:S.createElement("path",SE({},Cr(f),{className:Ce("recharts-cross",c),d:Ote(e,n,a,l,r,i)}))};function Pte(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function ik(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ak(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ik(Object(n),!0).forEach(function(r){Rte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ik(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rte(t,e,n){return(e=Dte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dte(t){var e=kte(t,"string");return typeof e=="symbol"?e:e+""}function kte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mte=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),Z6=(t,e,n)=>t.map(r=>"".concat(Mte(r)," ").concat(e,"ms ").concat(n)).join(","),jte=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),em=(t,e)=>Object.keys(e).reduce((n,r)=>ak(ak({},n),{},{[r]:t(r,e[r])}),{});function sk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sk(Object(n),!0).forEach(function(r){Vte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vte(t,e,n){return(e=Lte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lte(t){var e=zte(t,"string");return typeof e=="symbol"?e:e+""}function zte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gy=(t,e,n)=>t+(e-t)*n,AE=t=>{var{from:e,to:n}=t;return e!==n},J6=(t,e,n)=>{var r=em((i,a)=>{if(AE(a)){var[l,c]=t(a.from,a.to,a.velocity);return kn(kn({},a),{},{from:l,velocity:c})}return a},e);return n<1?em((i,a)=>AE(a)?kn(kn({},a),{},{velocity:gy(a.velocity,r[i].velocity,n),from:gy(a.from,r[i].from,n)}):a,e):J6(t,r,n-1)};function Bte(t,e,n,r,i,a){var l,c=r.reduce((y,x)=>kn(kn({},y),{},{[x]:{from:t[x],velocity:0,to:e[x]}}),{}),d=()=>em((y,x)=>x.from,c),f=()=>!Object.values(c).filter(AE).length,m=null,p=y=>{l||(l=y);var x=y-l,w=x/n.dt;c=J6(n,c,w),i(kn(kn(kn({},t),e),d())),l=y,f()||(m=a.setTimeout(p))};return()=>(m=a.setTimeout(p),()=>{var y;(y=m)===null||y===void 0||y()})}function Ute(t,e,n,r,i,a,l){var c=null,d=i.reduce((p,y)=>kn(kn({},p),{},{[y]:[t[y],e[y]]}),{}),f,m=p=>{f||(f=p);var y=(p-f)/r,x=em((E,A)=>gy(...A,n(y)),d);if(a(kn(kn(kn({},t),e),x)),y<1)c=l.setTimeout(m);else{var w=em((E,A)=>gy(...A,n(1)),d);a(kn(kn(kn({},t),e),w))}};return()=>(c=l.setTimeout(m),()=>{var p;(p=c)===null||p===void 0||p()})}const Fte=(t,e,n,r,i,a)=>{var l=jte(t,e);return n==null?()=>(i(kn(kn({},t),e)),()=>{}):n.isStepper===!0?Bte(t,e,n,l,i,a):Ute(t,e,n,r,l,i,a)};var vy=1e-4,e5=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],t5=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),ok=(t,e)=>n=>{var r=e5(t,e);return t5(r,n)},qte=(t,e)=>n=>{var r=e5(t,e),i=[...r.map((a,l)=>a*l).slice(1),0];return t5(i,n)},$te=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=n[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var l=a[1].split(")")[0].split(",").map(c=>parseFloat(c));return[l[0],l[1],l[2],l[3]]}}}return n.length===4?n:[0,0,1,1]},Hte=(t,e,n,r)=>{var i=ok(t,n),a=ok(e,r),l=qte(t,n),c=f=>f>1?1:f<0?0:f,d=f=>{for(var m=f>1?1:f,p=m,y=0;y<8;++y){var x=i(p)-m,w=l(p);if(Math.abs(x-m)<vy||w<vy)return a(p);p=c(p-x/w)}return a(p)};return d.isStepper=!1,d},lk=function(){return Hte(...$te(...arguments))},Kte=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,a=(l,c,d)=>{var f=-(l-c)*n,m=d*r,p=d+(f-m)*i/1e3,y=d*i/1e3+l;return Math.abs(y-c)<vy&&Math.abs(p)<vy?[c,0]:[y,p]};return a.isStepper=!0,a.dt=i,a},Gte=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return lk(t);case"spring":return Kte();default:if(t.split("(")[0]==="cubic-bezier")return lk(t)}return typeof t=="function"?t:null};function Yte(t){var e,n=()=>null,r=!1,i=null,a=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var c=l,[d,...f]=c;if(typeof d=="number"){i=t.setTimeout(a.bind(null,f),d);return}a(d),i=t.setTimeout(a.bind(null,f));return}typeof l=="string"&&(e=l,n(e)),typeof l=="object"&&(e=l,n(e)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),a(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>t}}class Wte{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=l=>{l-r>=n?e(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function Xte(){return Yte(new Wte)}var Qte=S.createContext(Xte);function Zte(t,e){var n=S.useContext(Qte);return S.useMemo(()=>e??n(t),[t,e,n])}var Jte=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Pm={devToolsEnabled:!1,isSsr:Jte()},ene={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},ck={t:0},P1={t:1};function Rm(t){var e=Nn(t,ene),{isActive:n,canBegin:r,duration:i,easing:a,begin:l,onAnimationEnd:c,onAnimationStart:d,children:f}=e,m=n==="auto"?!Pm.isSsr:n,p=Zte(e.animationId,e.animationManager),[y,x]=S.useState(m?ck:P1),w=S.useRef(null);return S.useEffect(()=>{m||x(P1)},[m]),S.useEffect(()=>{if(!m||!r)return Em;var E=Fte(ck,P1,Gte(a),i,x,p.getTimeoutController()),A=()=>{w.current=E()};return p.start([d,l,A,i,c]),()=>{p.stop(),w.current&&w.current(),c()}},[m,r,i,a,l,d,c,p]),f(y.t)}function Dm(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=S.useRef(Gh(e)),r=S.useRef(t);return r.current!==t&&(n.current=Gh(e),r.current=t),n.current}var tne=["radius"],nne=["radius"];function uk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uk(Object(n),!0).forEach(function(r){rne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rne(t,e,n){return(e=ine(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ine(t){var e=ane(t,"string");return typeof e=="symbol"?e:e+""}function ane(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yy(){return yy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yy.apply(null,arguments)}function fk(t,e){if(t==null)return{};var n,r,i=sne(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function sne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var hk=(t,e,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),l=r>=0?1:-1,c=n>=0?1:-1,d=r>=0&&n>=0||r<0&&n<0?1:0,f;if(a>0&&i instanceof Array){for(var m=[0,0,0,0],p=0,y=4;p<y;p++)m[p]=i[p]>a?a:i[p];f="M".concat(t,",").concat(e+l*m[0]),m[0]>0&&(f+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(d,",").concat(t+c*m[0],",").concat(e)),f+="L ".concat(t+n-c*m[1],",").concat(e),m[1]>0&&(f+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(d,`,
        `).concat(t+n,",").concat(e+l*m[1])),f+="L ".concat(t+n,",").concat(e+r-l*m[2]),m[2]>0&&(f+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(d,`,
        `).concat(t+n-c*m[2],",").concat(e+r)),f+="L ".concat(t+c*m[3],",").concat(e+r),m[3]>0&&(f+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(d,`,
        `).concat(t,",").concat(e+r-l*m[3])),f+="Z"}else if(a>0&&i===+i&&i>0){var x=Math.min(a,i);f="M ".concat(t,",").concat(e+l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t+c*x,",").concat(e,`
            L `).concat(t+n-c*x,",").concat(e,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t+n,",").concat(e+l*x,`
            L `).concat(t+n,",").concat(e+r-l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t+n-c*x,",").concat(e+r,`
            L `).concat(t+c*x,",").concat(e+r,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t,",").concat(e+r-l*x," Z")}else f="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return f},mk={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},n5=t=>{var e=Nn(t,mk),n=S.useRef(null),[r,i]=S.useState(-1);S.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var se=n.current.getTotalLength();se&&i(se)}catch{}},[]);var{x:a,y:l,width:c,height:d,radius:f,className:m}=e,{animationEasing:p,animationDuration:y,animationBegin:x,isAnimationActive:w,isUpdateAnimationActive:E}=e,A=S.useRef(c),O=S.useRef(d),D=S.useRef(a),j=S.useRef(l),q=S.useMemo(()=>({x:a,y:l,width:c,height:d,radius:f}),[a,l,c,d,f]),U=Dm(q,"rectangle-");if(a!==+a||l!==+l||c!==+c||d!==+d||c===0||d===0)return null;var F=Ce("recharts-rectangle",m);if(!E){var N=Cr(e),{radius:P}=N,M=fk(N,tne);return S.createElement("path",yy({},M,{radius:typeof f=="number"?f:void 0,className:F,d:hk(a,l,c,d,f)}))}var B=A.current,k=O.current,L=D.current,z=j.current,de="0px ".concat(r===-1?1:r,"px"),Ee="".concat(r,"px 0px"),W=Z6(["strokeDasharray"],y,typeof p=="string"?p:mk.animationEasing);return S.createElement(Rm,{animationId:U,key:U,canBegin:r>0,duration:y,easing:p,isActive:E,begin:x},se=>{var me=Kt(B,c,se),ve=Kt(k,d,se),De=Kt(L,a,se),H=Kt(z,l,se);n.current&&(A.current=me,O.current=ve,D.current=De,j.current=H);var re;w?se>0?re={transition:W,strokeDasharray:Ee}:re={strokeDasharray:de}:re={strokeDasharray:Ee};var pe=Cr(e),{radius:be}=pe,je=fk(pe,nne);return S.createElement("path",yy({},je,{radius:typeof f=="number"?f:void 0,className:F,d:hk(De,H,me,ve,f),ref:n,style:dk(dk({},re),e.style)}))})};function pk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pk(Object(n),!0).forEach(function(r){one(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function one(t,e,n){return(e=lne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lne(t){var e=cne(t,"string");return typeof e=="symbol"?e:e+""}function cne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var by=Math.PI/180,une=t=>t*180/Math.PI,An=(t,e,n,r)=>({x:t+Math.cos(-by*r)*n,y:e+Math.sin(-by*r)*n}),r5=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},dne=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return Math.sqrt((n-i)**2+(r-a)**2)},fne=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:a}=e,l=dne({x:n,y:r},{x:i,y:a});if(l<=0)return{radius:l,angle:0};var c=(n-i)/l,d=Math.acos(c);return r>a&&(d=2*Math.PI-d),{radius:l,angle:une(d),angleInRadian:d}},hne=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:e-a*360,endAngle:n-a*360}},mne=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),a=Math.floor(r/360),l=Math.min(i,a);return t+l*360},pne=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:a}=fne({x:n,y:r},e),{innerRadius:l,outerRadius:c}=e;if(i<l||i>c||i===0)return null;var{startAngle:d,endAngle:f}=hne(e),m=a,p;if(d<=f){for(;m>f;)m-=360;for(;m<d;)m+=360;p=m>=d&&m<=f}else{for(;m>d;)m-=360;for(;m<f;)m+=360;p=m>=f&&m<=d}return p?gk(gk({},e),{},{radius:i,angle:mne(m,e)}):null};function i5(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:a}=t,l=An(e,n,r,i),c=An(e,n,r,a);return{points:[l,c],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function CE(){return CE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CE.apply(null,arguments)}var gne=(t,e)=>{var n=Xn(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Fg=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:a,isExternal:l,cornerRadius:c,cornerIsExternal:d}=t,f=c*(l?1:-1)+r,m=Math.asin(c/f)/by,p=d?i:i+a*m,y=An(e,n,f,p),x=An(e,n,r,p),w=d?i-a*m:i,E=An(e,n,f*Math.cos(m*by),w);return{center:y,circleTangency:x,lineTangency:E,theta:m}},a5=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:l}=t,c=gne(a,l),d=a+c,f=An(e,n,i,a),m=An(e,n,i,d),p="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(a>d),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(r>0){var y=An(e,n,r,a),x=An(e,n,r,d);p+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(a<=d),`,
            `).concat(y.x,",").concat(y.y," Z")}else p+="L ".concat(e,",").concat(n," Z");return p},vne=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:f}=t,m=Xn(f-d),{circleTangency:p,lineTangency:y,theta:x}=Fg({cx:e,cy:n,radius:i,angle:d,sign:m,cornerRadius:a,cornerIsExternal:c}),{circleTangency:w,lineTangency:E,theta:A}=Fg({cx:e,cy:n,radius:i,angle:f,sign:-m,cornerRadius:a,cornerIsExternal:c}),O=c?Math.abs(d-f):Math.abs(d-f)-x-A;if(O<0)return l?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):a5({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:d,endAngle:f});var D="M ".concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(O>180),",").concat(+(m<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(E.x,",").concat(E.y,`
  `);if(r>0){var{circleTangency:j,lineTangency:q,theta:U}=Fg({cx:e,cy:n,radius:r,angle:d,sign:m,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),{circleTangency:F,lineTangency:N,theta:P}=Fg({cx:e,cy:n,radius:r,angle:f,sign:-m,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),M=c?Math.abs(d-f):Math.abs(d-f)-U-P;if(M<0&&a===0)return"".concat(D,"L").concat(e,",").concat(n,"Z");D+="L".concat(N.x,",").concat(N.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(F.x,",").concat(F.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(M>180),",").concat(+(m>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(q.x,",").concat(q.y,"Z")}else D+="L".concat(e,",").concat(n,"Z");return D},yne={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},s5=t=>{var e=Nn(t,yne),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:m,className:p}=e;if(a<i||f===m)return null;var y=Ce("recharts-sector",p),x=a-i,w=pr(l,x,0,!0),E;return w>0&&Math.abs(f-m)<360?E=vne({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(w,x/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:m}):E=a5({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:f,endAngle:m}),S.createElement("path",CE({},Cr(e),{className:y,d:E}))};function bne(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(LL(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:l,angle:c}=e,d=An(r,i,a,c),f=An(r,i,l,c);return[{x:d.x,y:d.y},{x:f.x,y:f.y}]}return i5(e)}}var R1={},D1={},k1={},vk;function _ne(){return vk||(vk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=XL();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(k1)),k1}var yk;function xne(){return yk||(yk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_ne();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(D1)),D1}var bk;function wne(){return bk||(bk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=QL(),n=xne();function r(i,a,l){l&&typeof l!="number"&&e.isIterateeCall(i,a,l)&&(a=l=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),l=l===void 0?i<a?1:-1:n.toFinite(l);const c=Math.max(Math.ceil((a-i)/(l||1)),0),d=new Array(c);for(let f=0;f<c;f++)d[f]=i,i+=l;return d}t.range=r})(R1)),R1}var M1,_k;function Ene(){return _k||(_k=1,M1=wne().range),M1}var Tne=Ene();const o5=Fa(Tne);function qo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Sne(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function DS(t){let e,n,r;t.length!==2?(e=qo,n=(c,d)=>qo(t(c),d),r=(c,d)=>t(c)-d):(e=t===qo||t===Sne?t:Ane,n=t,r=t);function i(c,d,f=0,m=c.length){if(f<m){if(e(d,d)!==0)return m;do{const p=f+m>>>1;n(c[p],d)<0?f=p+1:m=p}while(f<m)}return f}function a(c,d,f=0,m=c.length){if(f<m){if(e(d,d)!==0)return m;do{const p=f+m>>>1;n(c[p],d)<=0?f=p+1:m=p}while(f<m)}return f}function l(c,d,f=0,m=c.length){const p=i(c,d,f,m-1);return p>f&&r(c[p-1],d)>-r(c[p],d)?p-1:p}return{left:i,center:l,right:a}}function Ane(){return 0}function l5(t){return t===null?NaN:+t}function*Cne(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Ine=DS(qo),km=Ine.right;DS(l5).center;class xk extends Map{constructor(e,n=Pne){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(wk(this,e))}has(e){return super.has(wk(this,e))}set(e,n){return super.set(One(this,e),n)}delete(e){return super.delete(Nne(this,e))}}function wk({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function One({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Nne({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Pne(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Rne(t=qo){if(t===qo)return c5;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function c5(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Dne=Math.sqrt(50),kne=Math.sqrt(10),Mne=Math.sqrt(2);function _y(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),l=a>=Dne?10:a>=kne?5:a>=Mne?2:1;let c,d,f;return i<0?(f=Math.pow(10,-i)/l,c=Math.round(t*f),d=Math.round(e*f),c/f<t&&++c,d/f>e&&--d,f=-f):(f=Math.pow(10,i)*l,c=Math.round(t/f),d=Math.round(e/f),c*f<t&&++c,d*f>e&&--d),d<c&&.5<=n&&n<2?_y(t,e,n*2):[c,d,f]}function IE(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,l]=r?_y(e,t,n):_y(t,e,n);if(!(a>=i))return[];const c=a-i+1,d=new Array(c);if(r)if(l<0)for(let f=0;f<c;++f)d[f]=(a-f)/-l;else for(let f=0;f<c;++f)d[f]=(a-f)*l;else if(l<0)for(let f=0;f<c;++f)d[f]=(i+f)/-l;else for(let f=0;f<c;++f)d[f]=(i+f)*l;return d}function OE(t,e,n){return e=+e,t=+t,n=+n,_y(t,e,n)[2]}function NE(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?OE(e,t,n):OE(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function Ek(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function Tk(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function u5(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?c5:Rne(i);r>n;){if(r-n>600){const d=r-n+1,f=e-n+1,m=Math.log(d),p=.5*Math.exp(2*m/3),y=.5*Math.sqrt(m*p*(d-p)/d)*(f-d/2<0?-1:1),x=Math.max(n,Math.floor(e-f*p/d+y)),w=Math.min(r,Math.floor(e+(d-f)*p/d+y));u5(t,e,x,w,i)}const a=t[e];let l=n,c=r;for(th(t,n,e),i(t[r],a)>0&&th(t,n,r);l<c;){for(th(t,l,c),++l,--c;i(t[l],a)<0;)++l;for(;i(t[c],a)>0;)--c}i(t[n],a)===0?th(t,n,c):(++c,th(t,c,r)),c<=e&&(n=c+1),e<=c&&(r=c-1)}return t}function th(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function jne(t,e,n){if(t=Float64Array.from(Cne(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return Tk(t);if(e>=1)return Ek(t);var r,i=(r-1)*e,a=Math.floor(i),l=Ek(u5(t,a).subarray(0,a+1)),c=Tk(t.subarray(a+1));return l+(c-l)*(i-a)}}function Vne(t,e,n=l5){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),l=+n(t[a],a,t),c=+n(t[a+1],a+1,t);return l+(c-l)*(i-a)}}function Lne(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Di(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ms(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const PE=Symbol("implicit");function kS(){var t=new xk,e=[],n=[],r=PE;function i(a){let l=t.get(a);if(l===void 0){if(r!==PE)return r;t.set(a,l=e.push(a)-1)}return n[l%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new xk;for(const l of a)t.has(l)||t.set(l,e.push(l)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return kS(e,n).unknown(r)},Di.apply(i,arguments),i}function MS(){var t=kS().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,l,c=!1,d=0,f=0,m=.5;delete t.unknown;function p(){var y=e().length,x=i<r,w=x?i:r,E=x?r:i;a=(E-w)/Math.max(1,y-d+f*2),c&&(a=Math.floor(a)),w+=(E-w-a*(y-d))*m,l=a*(1-d),c&&(w=Math.round(w),l=Math.round(l));var A=Lne(y).map(function(O){return w+a*O});return n(x?A.reverse():A)}return t.domain=function(y){return arguments.length?(e(y),p()):e()},t.range=function(y){return arguments.length?([r,i]=y,r=+r,i=+i,p()):[r,i]},t.rangeRound=function(y){return[r,i]=y,r=+r,i=+i,c=!0,p()},t.bandwidth=function(){return l},t.step=function(){return a},t.round=function(y){return arguments.length?(c=!!y,p()):c},t.padding=function(y){return arguments.length?(d=Math.min(1,f=+y),p()):d},t.paddingInner=function(y){return arguments.length?(d=Math.min(1,y),p()):d},t.paddingOuter=function(y){return arguments.length?(f=+y,p()):f},t.align=function(y){return arguments.length?(m=Math.max(0,Math.min(1,y)),p()):m},t.copy=function(){return MS(e(),[r,i]).round(c).paddingInner(d).paddingOuter(f).align(m)},Di.apply(p(),arguments)}function d5(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return d5(e())},t}function zne(){return d5(MS.apply(null,arguments).paddingInner(1))}function jS(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function f5(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Mm(){}var tm=.7,xy=1/tm,Ku="\\s*([+-]?\\d+)\\s*",nm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ja="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Bne=/^#([0-9a-f]{3,8})$/,Une=new RegExp(`^rgb\\(${Ku},${Ku},${Ku}\\)$`),Fne=new RegExp(`^rgb\\(${ja},${ja},${ja}\\)$`),qne=new RegExp(`^rgba\\(${Ku},${Ku},${Ku},${nm}\\)$`),$ne=new RegExp(`^rgba\\(${ja},${ja},${ja},${nm}\\)$`),Hne=new RegExp(`^hsl\\(${nm},${ja},${ja}\\)$`),Kne=new RegExp(`^hsla\\(${nm},${ja},${ja},${nm}\\)$`),Sk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};jS(Mm,rm,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Ak,formatHex:Ak,formatHex8:Gne,formatHsl:Yne,formatRgb:Ck,toString:Ck});function Ak(){return this.rgb().formatHex()}function Gne(){return this.rgb().formatHex8()}function Yne(){return h5(this).formatHsl()}function Ck(){return this.rgb().formatRgb()}function rm(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Bne.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Ik(e):n===3?new zr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?qg(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?qg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Une.exec(t))?new zr(e[1],e[2],e[3],1):(e=Fne.exec(t))?new zr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=qne.exec(t))?qg(e[1],e[2],e[3],e[4]):(e=$ne.exec(t))?qg(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Hne.exec(t))?Pk(e[1],e[2]/100,e[3]/100,1):(e=Kne.exec(t))?Pk(e[1],e[2]/100,e[3]/100,e[4]):Sk.hasOwnProperty(t)?Ik(Sk[t]):t==="transparent"?new zr(NaN,NaN,NaN,0):null}function Ik(t){return new zr(t>>16&255,t>>8&255,t&255,1)}function qg(t,e,n,r){return r<=0&&(t=e=n=NaN),new zr(t,e,n,r)}function Wne(t){return t instanceof Mm||(t=rm(t)),t?(t=t.rgb(),new zr(t.r,t.g,t.b,t.opacity)):new zr}function RE(t,e,n,r){return arguments.length===1?Wne(t):new zr(t,e,n,r??1)}function zr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}jS(zr,RE,f5(Mm,{brighter(t){return t=t==null?xy:Math.pow(xy,t),new zr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?tm:Math.pow(tm,t),new zr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new zr(rc(this.r),rc(this.g),rc(this.b),wy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ok,formatHex:Ok,formatHex8:Xne,formatRgb:Nk,toString:Nk}));function Ok(){return`#${Wl(this.r)}${Wl(this.g)}${Wl(this.b)}`}function Xne(){return`#${Wl(this.r)}${Wl(this.g)}${Wl(this.b)}${Wl((isNaN(this.opacity)?1:this.opacity)*255)}`}function Nk(){const t=wy(this.opacity);return`${t===1?"rgb(":"rgba("}${rc(this.r)}, ${rc(this.g)}, ${rc(this.b)}${t===1?")":`, ${t})`}`}function wy(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function rc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Wl(t){return t=rc(t),(t<16?"0":"")+t.toString(16)}function Pk(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Qi(t,e,n,r)}function h5(t){if(t instanceof Qi)return new Qi(t.h,t.s,t.l,t.opacity);if(t instanceof Mm||(t=rm(t)),!t)return new Qi;if(t instanceof Qi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),l=NaN,c=a-i,d=(a+i)/2;return c?(e===a?l=(n-r)/c+(n<r)*6:n===a?l=(r-e)/c+2:l=(e-n)/c+4,c/=d<.5?a+i:2-a-i,l*=60):c=d>0&&d<1?0:l,new Qi(l,c,d,t.opacity)}function Qne(t,e,n,r){return arguments.length===1?h5(t):new Qi(t,e,n,r??1)}function Qi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}jS(Qi,Qne,f5(Mm,{brighter(t){return t=t==null?xy:Math.pow(xy,t),new Qi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?tm:Math.pow(tm,t),new Qi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new zr(j1(t>=240?t-240:t+120,i,r),j1(t,i,r),j1(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Qi(Rk(this.h),$g(this.s),$g(this.l),wy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=wy(this.opacity);return`${t===1?"hsl(":"hsla("}${Rk(this.h)}, ${$g(this.s)*100}%, ${$g(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Rk(t){return t=(t||0)%360,t<0?t+360:t}function $g(t){return Math.max(0,Math.min(1,t||0))}function j1(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const VS=t=>()=>t;function Zne(t,e){return function(n){return t+n*e}}function Jne(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function ere(t){return(t=+t)==1?m5:function(e,n){return n-e?Jne(e,n,t):VS(isNaN(e)?n:e)}}function m5(t,e){var n=e-t;return n?Zne(t,n):VS(isNaN(t)?e:t)}const Dk=(function t(e){var n=ere(e);function r(i,a){var l=n((i=RE(i)).r,(a=RE(a)).r),c=n(i.g,a.g),d=n(i.b,a.b),f=m5(i.opacity,a.opacity);return function(m){return i.r=l(m),i.g=c(m),i.b=d(m),i.opacity=f(m),i+""}}return r.gamma=t,r})(1);function tre(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function nre(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function rre(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),l;for(l=0;l<r;++l)i[l]=Dd(t[l],e[l]);for(;l<n;++l)a[l]=e[l];return function(c){for(l=0;l<r;++l)a[l]=i[l](c);return a}}function ire(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Ey(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function are(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Dd(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var DE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,V1=new RegExp(DE.source,"g");function sre(t){return function(){return t}}function ore(t){return function(e){return t(e)+""}}function lre(t,e){var n=DE.lastIndex=V1.lastIndex=0,r,i,a,l=-1,c=[],d=[];for(t=t+"",e=e+"";(r=DE.exec(t))&&(i=V1.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),c[l]?c[l]+=a:c[++l]=a),(r=r[0])===(i=i[0])?c[l]?c[l]+=i:c[++l]=i:(c[++l]=null,d.push({i:l,x:Ey(r,i)})),n=V1.lastIndex;return n<e.length&&(a=e.slice(n),c[l]?c[l]+=a:c[++l]=a),c.length<2?d[0]?ore(d[0].x):sre(e):(e=d.length,function(f){for(var m=0,p;m<e;++m)c[(p=d[m]).i]=p.x(f);return c.join("")})}function Dd(t,e){var n=typeof e,r;return e==null||n==="boolean"?VS(e):(n==="number"?Ey:n==="string"?(r=rm(e))?(e=r,Dk):lre:e instanceof rm?Dk:e instanceof Date?ire:nre(e)?tre:Array.isArray(e)?rre:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?are:Ey)(t,e)}function LS(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function cre(t,e){e===void 0&&(e=t,t=Dd);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(l){var c=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return a[c](l-c)}}function ure(t){return function(){return t}}function Ty(t){return+t}var kk=[0,1];function Er(t){return t}function kE(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:ure(isNaN(e)?NaN:.5)}function dre(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function fre(t,e,n){var r=t[0],i=t[1],a=e[0],l=e[1];return i<r?(r=kE(i,r),a=n(l,a)):(r=kE(r,i),a=n(a,l)),function(c){return a(r(c))}}function hre(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)i[l]=kE(t[l],t[l+1]),a[l]=n(e[l],e[l+1]);return function(c){var d=km(t,c,1,r)-1;return a[d](i[d](c))}}function jm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function V0(){var t=kk,e=kk,n=Dd,r,i,a,l=Er,c,d,f;function m(){var y=Math.min(t.length,e.length);return l!==Er&&(l=dre(t[0],t[y-1])),c=y>2?hre:fre,d=f=null,p}function p(y){return y==null||isNaN(y=+y)?a:(d||(d=c(t.map(r),e,n)))(r(l(y)))}return p.invert=function(y){return l(i((f||(f=c(e,t.map(r),Ey)))(y)))},p.domain=function(y){return arguments.length?(t=Array.from(y,Ty),m()):t.slice()},p.range=function(y){return arguments.length?(e=Array.from(y),m()):e.slice()},p.rangeRound=function(y){return e=Array.from(y),n=LS,m()},p.clamp=function(y){return arguments.length?(l=y?!0:Er,m()):l!==Er},p.interpolate=function(y){return arguments.length?(n=y,m()):n},p.unknown=function(y){return arguments.length?(a=y,p):a},function(y,x){return r=y,i=x,m()}}function zS(){return V0()(Er,Er)}function mre(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Sy(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function xd(t){return t=Sy(Math.abs(t)),t?t[1]:NaN}function pre(t,e){return function(n,r){for(var i=n.length,a=[],l=0,c=t[0],d=0;i>0&&c>0&&(d+c+1>r&&(c=Math.max(1,r-d)),a.push(n.substring(i-=c,i+c)),!((d+=c+1)>r));)c=t[l=(l+1)%t.length];return a.reverse().join(e)}}function gre(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var vre=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function im(t){if(!(e=vre.exec(t)))throw new Error("invalid format: "+t);var e;return new BS({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}im.prototype=BS.prototype;function BS(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}BS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function yre(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var p5;function bre(t,e){var n=Sy(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(p5=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return a===l?r:a>l?r+new Array(a-l+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Sy(t,Math.max(0,e+a-1))[0]}function Mk(t,e){var n=Sy(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const jk={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:mre,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Mk(t*100,e),r:Mk,s:bre,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Vk(t){return t}var Lk=Array.prototype.map,zk=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function _re(t){var e=t.grouping===void 0||t.thousands===void 0?Vk:pre(Lk.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?Vk:gre(Lk.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function f(p){p=im(p);var y=p.fill,x=p.align,w=p.sign,E=p.symbol,A=p.zero,O=p.width,D=p.comma,j=p.precision,q=p.trim,U=p.type;U==="n"?(D=!0,U="g"):jk[U]||(j===void 0&&(j=12),q=!0,U="g"),(A||y==="0"&&x==="=")&&(A=!0,y="0",x="=");var F=E==="$"?n:E==="#"&&/[boxX]/.test(U)?"0"+U.toLowerCase():"",N=E==="$"?r:/[%p]/.test(U)?l:"",P=jk[U],M=/[defgprs%]/.test(U);j=j===void 0?6:/[gprs]/.test(U)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function B(k){var L=F,z=N,de,Ee,W;if(U==="c")z=P(k)+z,k="";else{k=+k;var se=k<0||1/k<0;if(k=isNaN(k)?d:P(Math.abs(k),j),q&&(k=yre(k)),se&&+k==0&&w!=="+"&&(se=!1),L=(se?w==="("?w:c:w==="-"||w==="("?"":w)+L,z=(U==="s"?zk[8+p5/3]:"")+z+(se&&w==="("?")":""),M){for(de=-1,Ee=k.length;++de<Ee;)if(W=k.charCodeAt(de),48>W||W>57){z=(W===46?i+k.slice(de+1):k.slice(de))+z,k=k.slice(0,de);break}}}D&&!A&&(k=e(k,1/0));var me=L.length+k.length+z.length,ve=me<O?new Array(O-me+1).join(y):"";switch(D&&A&&(k=e(ve+k,ve.length?O-z.length:1/0),ve=""),x){case"<":k=L+k+z+ve;break;case"=":k=L+ve+k+z;break;case"^":k=ve.slice(0,me=ve.length>>1)+L+k+z+ve.slice(me);break;default:k=ve+L+k+z;break}return a(k)}return B.toString=function(){return p+""},B}function m(p,y){var x=f((p=im(p),p.type="f",p)),w=Math.max(-8,Math.min(8,Math.floor(xd(y)/3)))*3,E=Math.pow(10,-w),A=zk[8+w/3];return function(O){return x(E*O)+A}}return{format:f,formatPrefix:m}}var Hg,US,g5;xre({thousands:",",grouping:[3],currency:["$",""]});function xre(t){return Hg=_re(t),US=Hg.format,g5=Hg.formatPrefix,Hg}function wre(t){return Math.max(0,-xd(Math.abs(t)))}function Ere(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(xd(e)/3)))*3-xd(Math.abs(t)))}function Tre(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,xd(e)-xd(t))+1}function v5(t,e,n,r){var i=NE(t,e,n),a;switch(r=im(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=Ere(i,l))&&(r.precision=a),g5(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Tre(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=wre(i))&&(r.precision=a-(r.type==="%")*2);break}}return US(r)}function il(t){var e=t.domain;return t.ticks=function(n){var r=e();return IE(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return v5(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,l=r[i],c=r[a],d,f,m=10;for(c<l&&(f=l,l=c,c=f,f=i,i=a,a=f);m-- >0;){if(f=OE(l,c,n),f===d)return r[i]=l,r[a]=c,e(r);if(f>0)l=Math.floor(l/f)*f,c=Math.ceil(c/f)*f;else if(f<0)l=Math.ceil(l*f)/f,c=Math.floor(c*f)/f;else break;d=f}return t},t}function y5(){var t=zS();return t.copy=function(){return jm(t,y5())},Di.apply(t,arguments),il(t)}function b5(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Ty),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return b5(t).unknown(e)},t=arguments.length?Array.from(t,Ty):[0,1],il(n)}function _5(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],l;return a<i&&(l=n,n=r,r=l,l=i,i=a,a=l),t[n]=e.floor(i),t[r]=e.ceil(a),t}function Bk(t){return Math.log(t)}function Uk(t){return Math.exp(t)}function Sre(t){return-Math.log(-t)}function Are(t){return-Math.exp(-t)}function Cre(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Ire(t){return t===10?Cre:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Ore(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Fk(t){return(e,n)=>-t(-e,n)}function FS(t){const e=t(Bk,Uk),n=e.domain;let r=10,i,a;function l(){return i=Ore(r),a=Ire(r),n()[0]<0?(i=Fk(i),a=Fk(a),t(Sre,Are)):t(Bk,Uk),e}return e.base=function(c){return arguments.length?(r=+c,l()):r},e.domain=function(c){return arguments.length?(n(c),l()):n()},e.ticks=c=>{const d=n();let f=d[0],m=d[d.length-1];const p=m<f;p&&([f,m]=[m,f]);let y=i(f),x=i(m),w,E;const A=c==null?10:+c;let O=[];if(!(r%1)&&x-y<A){if(y=Math.floor(y),x=Math.ceil(x),f>0){for(;y<=x;++y)for(w=1;w<r;++w)if(E=y<0?w/a(-y):w*a(y),!(E<f)){if(E>m)break;O.push(E)}}else for(;y<=x;++y)for(w=r-1;w>=1;--w)if(E=y>0?w/a(-y):w*a(y),!(E<f)){if(E>m)break;O.push(E)}O.length*2<A&&(O=IE(f,m,A))}else O=IE(y,x,Math.min(x-y,A)).map(a);return p?O.reverse():O},e.tickFormat=(c,d)=>{if(c==null&&(c=10),d==null&&(d=r===10?"s":","),typeof d!="function"&&(!(r%1)&&(d=im(d)).precision==null&&(d.trim=!0),d=US(d)),c===1/0)return d;const f=Math.max(1,r*c/e.ticks().length);return m=>{let p=m/a(Math.round(i(m)));return p*r<r-.5&&(p*=r),p<=f?d(m):""}},e.nice=()=>n(_5(n(),{floor:c=>a(Math.floor(i(c))),ceil:c=>a(Math.ceil(i(c)))})),e}function x5(){const t=FS(V0()).domain([1,10]);return t.copy=()=>jm(t,x5()).base(t.base()),Di.apply(t,arguments),t}function qk(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function $k(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function qS(t){var e=1,n=t(qk(e),$k(e));return n.constant=function(r){return arguments.length?t(qk(e=+r),$k(e)):e},il(n)}function w5(){var t=qS(V0());return t.copy=function(){return jm(t,w5()).constant(t.constant())},Di.apply(t,arguments)}function Hk(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Nre(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Pre(t){return t<0?-t*t:t*t}function $S(t){var e=t(Er,Er),n=1;function r(){return n===1?t(Er,Er):n===.5?t(Nre,Pre):t(Hk(n),Hk(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},il(e)}function HS(){var t=$S(V0());return t.copy=function(){return jm(t,HS()).exponent(t.exponent())},Di.apply(t,arguments),t}function Rre(){return HS.apply(null,arguments).exponent(.5)}function Kk(t){return Math.sign(t)*t*t}function Dre(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function E5(){var t=zS(),e=[0,1],n=!1,r;function i(a){var l=Dre(t(a));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(a){return t.invert(Kk(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Ty)).map(Kk)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return E5(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Di.apply(i,arguments),il(i)}function T5(){var t=[],e=[],n=[],r;function i(){var l=0,c=Math.max(1,e.length);for(n=new Array(c-1);++l<c;)n[l-1]=Vne(t,l/c);return a}function a(l){return l==null||isNaN(l=+l)?r:e[km(n,l)]}return a.invertExtent=function(l){var c=e.indexOf(l);return c<0?[NaN,NaN]:[c>0?n[c-1]:t[0],c<n.length?n[c]:t[t.length-1]]},a.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let c of l)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(qo),i()},a.range=function(l){return arguments.length?(e=Array.from(l),i()):e.slice()},a.unknown=function(l){return arguments.length?(r=l,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return T5().domain(t).range(e).unknown(r)},Di.apply(a,arguments)}function S5(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function l(d){return d!=null&&d<=d?i[km(r,d,0,n)]:a}function c(){var d=-1;for(r=new Array(n);++d<n;)r[d]=((d+1)*e-(d-n)*t)/(n+1);return l}return l.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,c()):[t,e]},l.range=function(d){return arguments.length?(n=(i=Array.from(d)).length-1,c()):i.slice()},l.invertExtent=function(d){var f=i.indexOf(d);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},l.unknown=function(d){return arguments.length&&(a=d),l},l.thresholds=function(){return r.slice()},l.copy=function(){return S5().domain([t,e]).range(i).unknown(a)},Di.apply(il(l),arguments)}function A5(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[km(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var l=e.indexOf(a);return[t[l-1],t[l]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return A5().domain(t).range(e).unknown(n)},Di.apply(i,arguments)}const L1=new Date,z1=new Date;function zn(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const l=i(a),c=i.ceil(a);return a-l<c-a?l:c},i.offset=(a,l)=>(e(a=new Date(+a),l==null?1:Math.floor(l)),a),i.range=(a,l,c)=>{const d=[];if(a=i.ceil(a),c=c==null?1:Math.floor(c),!(a<l)||!(c>0))return d;let f;do d.push(f=new Date(+a)),e(a,c),t(a);while(f<a&&a<l);return d},i.filter=a=>zn(l=>{if(l>=l)for(;t(l),!a(l);)l.setTime(l-1)},(l,c)=>{if(l>=l)if(c<0)for(;++c<=0;)for(;e(l,-1),!a(l););else for(;--c>=0;)for(;e(l,1),!a(l););}),n&&(i.count=(a,l)=>(L1.setTime(+a),z1.setTime(+l),t(L1),t(z1),Math.floor(n(L1,z1))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?l=>r(l)%a===0:l=>i.count(0,l)%a===0):i)),i}const Ay=zn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Ay.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?zn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Ay);Ay.range;const ps=1e3,Ii=ps*60,gs=Ii*60,As=gs*24,KS=As*7,Gk=As*30,B1=As*365,Xl=zn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ps)},(t,e)=>(e-t)/ps,t=>t.getUTCSeconds());Xl.range;const GS=zn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ps)},(t,e)=>{t.setTime(+t+e*Ii)},(t,e)=>(e-t)/Ii,t=>t.getMinutes());GS.range;const YS=zn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ii)},(t,e)=>(e-t)/Ii,t=>t.getUTCMinutes());YS.range;const WS=zn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ps-t.getMinutes()*Ii)},(t,e)=>{t.setTime(+t+e*gs)},(t,e)=>(e-t)/gs,t=>t.getHours());WS.range;const XS=zn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*gs)},(t,e)=>(e-t)/gs,t=>t.getUTCHours());XS.range;const Vm=zn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ii)/As,t=>t.getDate()-1);Vm.range;const L0=zn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/As,t=>t.getUTCDate()-1);L0.range;const C5=zn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/As,t=>Math.floor(t/As));C5.range;function Nc(t){return zn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ii)/KS)}const z0=Nc(0),Cy=Nc(1),kre=Nc(2),Mre=Nc(3),wd=Nc(4),jre=Nc(5),Vre=Nc(6);z0.range;Cy.range;kre.range;Mre.range;wd.range;jre.range;Vre.range;function Pc(t){return zn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/KS)}const B0=Pc(0),Iy=Pc(1),Lre=Pc(2),zre=Pc(3),Ed=Pc(4),Bre=Pc(5),Ure=Pc(6);B0.range;Iy.range;Lre.range;zre.range;Ed.range;Bre.range;Ure.range;const QS=zn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());QS.range;const ZS=zn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());ZS.range;const Cs=zn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Cs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:zn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Cs.range;const Is=zn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Is.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:zn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Is.range;function I5(t,e,n,r,i,a){const l=[[Xl,1,ps],[Xl,5,5*ps],[Xl,15,15*ps],[Xl,30,30*ps],[a,1,Ii],[a,5,5*Ii],[a,15,15*Ii],[a,30,30*Ii],[i,1,gs],[i,3,3*gs],[i,6,6*gs],[i,12,12*gs],[r,1,As],[r,2,2*As],[n,1,KS],[e,1,Gk],[e,3,3*Gk],[t,1,B1]];function c(f,m,p){const y=m<f;y&&([f,m]=[m,f]);const x=p&&typeof p.range=="function"?p:d(f,m,p),w=x?x.range(f,+m+1):[];return y?w.reverse():w}function d(f,m,p){const y=Math.abs(m-f)/p,x=DS(([,,A])=>A).right(l,y);if(x===l.length)return t.every(NE(f/B1,m/B1,p));if(x===0)return Ay.every(Math.max(NE(f,m,p),1));const[w,E]=l[y/l[x-1][2]<l[x][2]/y?x-1:x];return w.every(E)}return[c,d]}const[Fre,qre]=I5(Is,ZS,B0,C5,XS,YS),[$re,Hre]=I5(Cs,QS,z0,Vm,WS,GS);function U1(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function F1(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function nh(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Kre(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,l=t.shortDays,c=t.months,d=t.shortMonths,f=rh(i),m=ih(i),p=rh(a),y=ih(a),x=rh(l),w=ih(l),E=rh(c),A=ih(c),O=rh(d),D=ih(d),j={a:se,A:me,b:ve,B:De,c:null,d:Jk,e:Jk,f:pie,g:Sie,G:Cie,H:fie,I:hie,j:mie,L:O5,m:gie,M:vie,p:H,q:re,Q:nM,s:rM,S:yie,u:bie,U:_ie,V:xie,w:wie,W:Eie,x:null,X:null,y:Tie,Y:Aie,Z:Iie,"%":tM},q={a:pe,A:be,b:je,B:le,c:null,d:eM,e:eM,f:Rie,g:Fie,G:$ie,H:Oie,I:Nie,j:Pie,L:P5,m:Die,M:kie,p:Pe,q:Mt,Q:nM,s:rM,S:Mie,u:jie,U:Vie,V:Lie,w:zie,W:Bie,x:null,X:null,y:Uie,Y:qie,Z:Hie,"%":tM},U={a:B,A:k,b:L,B:z,c:de,d:Qk,e:Qk,f:lie,g:Xk,G:Wk,H:Zk,I:Zk,j:iie,L:oie,m:rie,M:aie,p:M,q:nie,Q:uie,s:die,S:sie,u:Qre,U:Zre,V:Jre,w:Xre,W:eie,x:Ee,X:W,y:Xk,Y:Wk,Z:tie,"%":cie};j.x=F(n,j),j.X=F(r,j),j.c=F(e,j),q.x=F(n,q),q.X=F(r,q),q.c=F(e,q);function F(ae,Be){return function(We){var fe=[],rn=-1,tt=0,Pn=ae.length,an,Fr,zs;for(We instanceof Date||(We=new Date(+We));++rn<Pn;)ae.charCodeAt(rn)===37&&(fe.push(ae.slice(tt,rn)),(Fr=Yk[an=ae.charAt(++rn)])!=null?an=ae.charAt(++rn):Fr=an==="e"?" ":"0",(zs=Be[an])&&(an=zs(We,Fr)),fe.push(an),tt=rn+1);return fe.push(ae.slice(tt,rn)),fe.join("")}}function N(ae,Be){return function(We){var fe=nh(1900,void 0,1),rn=P(fe,ae,We+="",0),tt,Pn;if(rn!=We.length)return null;if("Q"in fe)return new Date(fe.Q);if("s"in fe)return new Date(fe.s*1e3+("L"in fe?fe.L:0));if(Be&&!("Z"in fe)&&(fe.Z=0),"p"in fe&&(fe.H=fe.H%12+fe.p*12),fe.m===void 0&&(fe.m="q"in fe?fe.q:0),"V"in fe){if(fe.V<1||fe.V>53)return null;"w"in fe||(fe.w=1),"Z"in fe?(tt=F1(nh(fe.y,0,1)),Pn=tt.getUTCDay(),tt=Pn>4||Pn===0?Iy.ceil(tt):Iy(tt),tt=L0.offset(tt,(fe.V-1)*7),fe.y=tt.getUTCFullYear(),fe.m=tt.getUTCMonth(),fe.d=tt.getUTCDate()+(fe.w+6)%7):(tt=U1(nh(fe.y,0,1)),Pn=tt.getDay(),tt=Pn>4||Pn===0?Cy.ceil(tt):Cy(tt),tt=Vm.offset(tt,(fe.V-1)*7),fe.y=tt.getFullYear(),fe.m=tt.getMonth(),fe.d=tt.getDate()+(fe.w+6)%7)}else("W"in fe||"U"in fe)&&("w"in fe||(fe.w="u"in fe?fe.u%7:"W"in fe?1:0),Pn="Z"in fe?F1(nh(fe.y,0,1)).getUTCDay():U1(nh(fe.y,0,1)).getDay(),fe.m=0,fe.d="W"in fe?(fe.w+6)%7+fe.W*7-(Pn+5)%7:fe.w+fe.U*7-(Pn+6)%7);return"Z"in fe?(fe.H+=fe.Z/100|0,fe.M+=fe.Z%100,F1(fe)):U1(fe)}}function P(ae,Be,We,fe){for(var rn=0,tt=Be.length,Pn=We.length,an,Fr;rn<tt;){if(fe>=Pn)return-1;if(an=Be.charCodeAt(rn++),an===37){if(an=Be.charAt(rn++),Fr=U[an in Yk?Be.charAt(rn++):an],!Fr||(fe=Fr(ae,We,fe))<0)return-1}else if(an!=We.charCodeAt(fe++))return-1}return fe}function M(ae,Be,We){var fe=f.exec(Be.slice(We));return fe?(ae.p=m.get(fe[0].toLowerCase()),We+fe[0].length):-1}function B(ae,Be,We){var fe=x.exec(Be.slice(We));return fe?(ae.w=w.get(fe[0].toLowerCase()),We+fe[0].length):-1}function k(ae,Be,We){var fe=p.exec(Be.slice(We));return fe?(ae.w=y.get(fe[0].toLowerCase()),We+fe[0].length):-1}function L(ae,Be,We){var fe=O.exec(Be.slice(We));return fe?(ae.m=D.get(fe[0].toLowerCase()),We+fe[0].length):-1}function z(ae,Be,We){var fe=E.exec(Be.slice(We));return fe?(ae.m=A.get(fe[0].toLowerCase()),We+fe[0].length):-1}function de(ae,Be,We){return P(ae,e,Be,We)}function Ee(ae,Be,We){return P(ae,n,Be,We)}function W(ae,Be,We){return P(ae,r,Be,We)}function se(ae){return l[ae.getDay()]}function me(ae){return a[ae.getDay()]}function ve(ae){return d[ae.getMonth()]}function De(ae){return c[ae.getMonth()]}function H(ae){return i[+(ae.getHours()>=12)]}function re(ae){return 1+~~(ae.getMonth()/3)}function pe(ae){return l[ae.getUTCDay()]}function be(ae){return a[ae.getUTCDay()]}function je(ae){return d[ae.getUTCMonth()]}function le(ae){return c[ae.getUTCMonth()]}function Pe(ae){return i[+(ae.getUTCHours()>=12)]}function Mt(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var Be=F(ae+="",j);return Be.toString=function(){return ae},Be},parse:function(ae){var Be=N(ae+="",!1);return Be.toString=function(){return ae},Be},utcFormat:function(ae){var Be=F(ae+="",q);return Be.toString=function(){return ae},Be},utcParse:function(ae){var Be=N(ae+="",!0);return Be.toString=function(){return ae},Be}}}var Yk={"-":"",_:" ",0:"0"},Zn=/^\s*\d+/,Gre=/^%/,Yre=/[\\^$*+?|[\]().{}]/g;function pt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function Wre(t){return t.replace(Yre,"\\$&")}function rh(t){return new RegExp("^(?:"+t.map(Wre).join("|")+")","i")}function ih(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Xre(t,e,n){var r=Zn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Qre(t,e,n){var r=Zn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Zre(t,e,n){var r=Zn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Jre(t,e,n){var r=Zn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function eie(t,e,n){var r=Zn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Wk(t,e,n){var r=Zn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Xk(t,e,n){var r=Zn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function tie(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function nie(t,e,n){var r=Zn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function rie(t,e,n){var r=Zn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Qk(t,e,n){var r=Zn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function iie(t,e,n){var r=Zn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Zk(t,e,n){var r=Zn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function aie(t,e,n){var r=Zn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function sie(t,e,n){var r=Zn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function oie(t,e,n){var r=Zn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function lie(t,e,n){var r=Zn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function cie(t,e,n){var r=Gre.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function uie(t,e,n){var r=Zn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function die(t,e,n){var r=Zn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Jk(t,e){return pt(t.getDate(),e,2)}function fie(t,e){return pt(t.getHours(),e,2)}function hie(t,e){return pt(t.getHours()%12||12,e,2)}function mie(t,e){return pt(1+Vm.count(Cs(t),t),e,3)}function O5(t,e){return pt(t.getMilliseconds(),e,3)}function pie(t,e){return O5(t,e)+"000"}function gie(t,e){return pt(t.getMonth()+1,e,2)}function vie(t,e){return pt(t.getMinutes(),e,2)}function yie(t,e){return pt(t.getSeconds(),e,2)}function bie(t){var e=t.getDay();return e===0?7:e}function _ie(t,e){return pt(z0.count(Cs(t)-1,t),e,2)}function N5(t){var e=t.getDay();return e>=4||e===0?wd(t):wd.ceil(t)}function xie(t,e){return t=N5(t),pt(wd.count(Cs(t),t)+(Cs(t).getDay()===4),e,2)}function wie(t){return t.getDay()}function Eie(t,e){return pt(Cy.count(Cs(t)-1,t),e,2)}function Tie(t,e){return pt(t.getFullYear()%100,e,2)}function Sie(t,e){return t=N5(t),pt(t.getFullYear()%100,e,2)}function Aie(t,e){return pt(t.getFullYear()%1e4,e,4)}function Cie(t,e){var n=t.getDay();return t=n>=4||n===0?wd(t):wd.ceil(t),pt(t.getFullYear()%1e4,e,4)}function Iie(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+pt(e/60|0,"0",2)+pt(e%60,"0",2)}function eM(t,e){return pt(t.getUTCDate(),e,2)}function Oie(t,e){return pt(t.getUTCHours(),e,2)}function Nie(t,e){return pt(t.getUTCHours()%12||12,e,2)}function Pie(t,e){return pt(1+L0.count(Is(t),t),e,3)}function P5(t,e){return pt(t.getUTCMilliseconds(),e,3)}function Rie(t,e){return P5(t,e)+"000"}function Die(t,e){return pt(t.getUTCMonth()+1,e,2)}function kie(t,e){return pt(t.getUTCMinutes(),e,2)}function Mie(t,e){return pt(t.getUTCSeconds(),e,2)}function jie(t){var e=t.getUTCDay();return e===0?7:e}function Vie(t,e){return pt(B0.count(Is(t)-1,t),e,2)}function R5(t){var e=t.getUTCDay();return e>=4||e===0?Ed(t):Ed.ceil(t)}function Lie(t,e){return t=R5(t),pt(Ed.count(Is(t),t)+(Is(t).getUTCDay()===4),e,2)}function zie(t){return t.getUTCDay()}function Bie(t,e){return pt(Iy.count(Is(t)-1,t),e,2)}function Uie(t,e){return pt(t.getUTCFullYear()%100,e,2)}function Fie(t,e){return t=R5(t),pt(t.getUTCFullYear()%100,e,2)}function qie(t,e){return pt(t.getUTCFullYear()%1e4,e,4)}function $ie(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Ed(t):Ed.ceil(t),pt(t.getUTCFullYear()%1e4,e,4)}function Hie(){return"+0000"}function tM(){return"%"}function nM(t){return+t}function rM(t){return Math.floor(+t/1e3)}var Su,D5,k5;Kie({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Kie(t){return Su=Kre(t),D5=Su.format,Su.parse,k5=Su.utcFormat,Su.utcParse,Su}function Gie(t){return new Date(t)}function Yie(t){return t instanceof Date?+t:+new Date(+t)}function JS(t,e,n,r,i,a,l,c,d,f){var m=zS(),p=m.invert,y=m.domain,x=f(".%L"),w=f(":%S"),E=f("%I:%M"),A=f("%I %p"),O=f("%a %d"),D=f("%b %d"),j=f("%B"),q=f("%Y");function U(F){return(d(F)<F?x:c(F)<F?w:l(F)<F?E:a(F)<F?A:r(F)<F?i(F)<F?O:D:n(F)<F?j:q)(F)}return m.invert=function(F){return new Date(p(F))},m.domain=function(F){return arguments.length?y(Array.from(F,Yie)):y().map(Gie)},m.ticks=function(F){var N=y();return t(N[0],N[N.length-1],F??10)},m.tickFormat=function(F,N){return N==null?U:f(N)},m.nice=function(F){var N=y();return(!F||typeof F.range!="function")&&(F=e(N[0],N[N.length-1],F??10)),F?y(_5(N,F)):m},m.copy=function(){return jm(m,JS(t,e,n,r,i,a,l,c,d,f))},m}function Wie(){return Di.apply(JS($re,Hre,Cs,QS,z0,Vm,WS,GS,Xl,D5).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Xie(){return Di.apply(JS(Fre,qre,Is,ZS,B0,L0,XS,YS,Xl,k5).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function U0(){var t=0,e=1,n,r,i,a,l=Er,c=!1,d;function f(p){return p==null||isNaN(p=+p)?d:l(i===0?.5:(p=(a(p)-n)*i,c?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([t,e]=p,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(p){return arguments.length?(c=!!p,f):c},f.interpolator=function(p){return arguments.length?(l=p,f):l};function m(p){return function(y){var x,w;return arguments.length?([x,w]=y,l=p(x,w),f):[l(0),l(1)]}}return f.range=m(Dd),f.rangeRound=m(LS),f.unknown=function(p){return arguments.length?(d=p,f):d},function(p){return a=p,n=p(t),r=p(e),i=n===r?0:1/(r-n),f}}function al(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function M5(){var t=il(U0()(Er));return t.copy=function(){return al(t,M5())},Ms.apply(t,arguments)}function j5(){var t=FS(U0()).domain([1,10]);return t.copy=function(){return al(t,j5()).base(t.base())},Ms.apply(t,arguments)}function V5(){var t=qS(U0());return t.copy=function(){return al(t,V5()).constant(t.constant())},Ms.apply(t,arguments)}function eA(){var t=$S(U0());return t.copy=function(){return al(t,eA()).exponent(t.exponent())},Ms.apply(t,arguments)}function Qie(){return eA.apply(null,arguments).exponent(.5)}function L5(){var t=[],e=Er;function n(r){if(r!=null&&!isNaN(r=+r))return e((km(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(qo),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>jne(t,a/r))},n.copy=function(){return L5(e).domain(t)},Ms.apply(n,arguments)}function F0(){var t=0,e=.5,n=1,r=1,i,a,l,c,d,f=Er,m,p=!1,y;function x(E){return isNaN(E=+E)?y:(E=.5+((E=+m(E))-a)*(r*E<r*a?c:d),f(p?Math.max(0,Math.min(1,E)):E))}x.domain=function(E){return arguments.length?([t,e,n]=E,i=m(t=+t),a=m(e=+e),l=m(n=+n),c=i===a?0:.5/(a-i),d=a===l?0:.5/(l-a),r=a<i?-1:1,x):[t,e,n]},x.clamp=function(E){return arguments.length?(p=!!E,x):p},x.interpolator=function(E){return arguments.length?(f=E,x):f};function w(E){return function(A){var O,D,j;return arguments.length?([O,D,j]=A,f=cre(E,[O,D,j]),x):[f(0),f(.5),f(1)]}}return x.range=w(Dd),x.rangeRound=w(LS),x.unknown=function(E){return arguments.length?(y=E,x):y},function(E){return m=E,i=E(t),a=E(e),l=E(n),c=i===a?0:.5/(a-i),d=a===l?0:.5/(l-a),r=a<i?-1:1,x}}function z5(){var t=il(F0()(Er));return t.copy=function(){return al(t,z5())},Ms.apply(t,arguments)}function B5(){var t=FS(F0()).domain([.1,1,10]);return t.copy=function(){return al(t,B5()).base(t.base())},Ms.apply(t,arguments)}function U5(){var t=qS(F0());return t.copy=function(){return al(t,U5()).constant(t.constant())},Ms.apply(t,arguments)}function tA(){var t=$S(F0());return t.copy=function(){return al(t,tA()).exponent(t.exponent())},Ms.apply(t,arguments)}function Zie(){return tA.apply(null,arguments).exponent(.5)}const gh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:MS,scaleDiverging:z5,scaleDivergingLog:B5,scaleDivergingPow:tA,scaleDivergingSqrt:Zie,scaleDivergingSymlog:U5,scaleIdentity:b5,scaleImplicit:PE,scaleLinear:y5,scaleLog:x5,scaleOrdinal:kS,scalePoint:zne,scalePow:HS,scaleQuantile:T5,scaleQuantize:S5,scaleRadial:E5,scaleSequential:M5,scaleSequentialLog:j5,scaleSequentialPow:eA,scaleSequentialQuantile:L5,scaleSequentialSqrt:Qie,scaleSequentialSymlog:V5,scaleSqrt:Rre,scaleSymlog:w5,scaleThreshold:A5,scaleTime:Wie,scaleUtc:Xie,tickFormat:v5},Symbol.toStringTag,{value:"Module"}));var sl=t=>t.chartData,nA=J([sl],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),q0=(t,e,n,r)=>r?nA(t):sl(t);function Wo(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(dn(e)&&dn(n))return!0}return!1}function iM(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function F5(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,a;if(dn(n))i=n;else if(typeof n=="function")return;if(dn(r))a=r;else if(typeof r=="function")return;var l=[i,a];if(Wo(l))return l}}function Jie(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Wo(r))return iM(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,l,c;if(i==="auto")e!=null&&(l=Math.min(...e));else if(Ne(i))l=i;else if(typeof i=="function")try{e!=null&&(l=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&RD.test(i)){var d=RD.exec(i);if(d==null||e==null)l=void 0;else{var f=+d[1];l=e[0]-f}}else l=e==null?void 0:e[0];if(a==="auto")e!=null&&(c=Math.max(...e));else if(Ne(a))c=a;else if(typeof a=="function")try{e!=null&&(c=a(e==null?void 0:e[1]))}catch{}else if(typeof a=="string"&&DD.test(a)){var m=DD.exec(a);if(m==null||e==null)c=void 0;else{var p=+m[1];c=e[1]+p}}else c=e==null?void 0:e[1];var y=[l,c];if(Wo(y))return e==null?y:iM(y,e,n)}}}var kd=1e9,eae={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},iA,Gt=!0,Pi="[DecimalError] ",ic=Pi+"Invalid argument: ",rA=Pi+"Exponent out of range: ",Md=Math.floor,ql=Math.pow,tae=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ei,Wn=1e7,Bt=7,q5=9007199254740991,Oy=Md(q5/Bt),Se={};Se.absoluteValue=Se.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Se.comparedTo=Se.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Se.decimalPlaces=Se.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Bt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Se.dividedBy=Se.div=function(t){return vs(this,new this.constructor(t))};Se.dividedToIntegerBy=Se.idiv=function(t){var e=this,n=e.constructor;return kt(vs(e,new n(t),0,1),n.precision)};Se.equals=Se.eq=function(t){return!this.cmp(t)};Se.exponent=function(){return In(this)};Se.greaterThan=Se.gt=function(t){return this.cmp(t)>0};Se.greaterThanOrEqualTo=Se.gte=function(t){return this.cmp(t)>=0};Se.isInteger=Se.isint=function(){return this.e>this.d.length-2};Se.isNegative=Se.isneg=function(){return this.s<0};Se.isPositive=Se.ispos=function(){return this.s>0};Se.isZero=function(){return this.s===0};Se.lessThan=Se.lt=function(t){return this.cmp(t)<0};Se.lessThanOrEqualTo=Se.lte=function(t){return this.cmp(t)<1};Se.logarithm=Se.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(ei))throw Error(Pi+"NaN");if(n.s<1)throw Error(Pi+(n.s?"NaN":"-Infinity"));return n.eq(ei)?new r(0):(Gt=!1,e=vs(am(n,a),am(t,a),a),Gt=!0,kt(e,i))};Se.minus=Se.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?K5(e,t):$5(e,(t.s=-t.s,t))};Se.modulo=Se.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Pi+"NaN");return n.s?(Gt=!1,e=vs(n,t,0,1).times(t),Gt=!0,n.minus(e)):kt(new r(n),i)};Se.naturalExponential=Se.exp=function(){return H5(this)};Se.naturalLogarithm=Se.ln=function(){return am(this)};Se.negated=Se.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Se.plus=Se.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?$5(e,t):K5(e,(t.s=-t.s,t))};Se.precision=Se.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ic+t);if(e=In(i)+1,r=i.d.length-1,n=r*Bt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Se.squareRoot=Se.sqrt=function(){var t,e,n,r,i,a,l,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(Pi+"NaN")}for(t=In(c),Gt=!1,i=Math.sqrt(+c),i==0||i==1/0?(e=Na(c.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Md((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new d(e)):r=new d(i.toString()),n=d.precision,i=l=n+3;;)if(a=r,r=a.plus(vs(c,a,l+2)).times(.5),Na(a.d).slice(0,l)===(e=Na(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),i==l&&e=="4999"){if(kt(a,n+1,0),a.times(a).eq(c)){r=a;break}}else if(e!="9999")break;l+=4}return Gt=!0,kt(r,n)};Se.times=Se.mul=function(t){var e,n,r,i,a,l,c,d,f,m=this,p=m.constructor,y=m.d,x=(t=new p(t)).d;if(!m.s||!t.s)return new p(0);for(t.s*=m.s,n=m.e+t.e,d=y.length,f=x.length,d<f&&(a=y,y=x,x=a,l=d,d=f,f=l),a=[],l=d+f,r=l;r--;)a.push(0);for(r=f;--r>=0;){for(e=0,i=d+r;i>r;)c=a[i]+x[r]*y[i-r-1]+e,a[i--]=c%Wn|0,e=c/Wn|0;a[i]=(a[i]+e)%Wn|0}for(;!a[--l];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Gt?kt(t,p.precision):t};Se.toDecimalPlaces=Se.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ua(t,0,kd),e===void 0?e=r.rounding:Ua(e,0,8),kt(n,t+In(n)+1,e))};Se.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=_c(r,!0):(Ua(t,0,kd),e===void 0?e=i.rounding:Ua(e,0,8),r=kt(new i(r),t+1,e),n=_c(r,!0,t+1)),n};Se.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?_c(i):(Ua(t,0,kd),e===void 0?e=a.rounding:Ua(e,0,8),r=kt(new a(i),t+In(i)+1,e),n=_c(r.abs(),!1,t+In(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Se.toInteger=Se.toint=function(){var t=this,e=t.constructor;return kt(new e(t),In(t)+1,e.rounding)};Se.toNumber=function(){return+this};Se.toPower=Se.pow=function(t){var e,n,r,i,a,l,c=this,d=c.constructor,f=12,m=+(t=new d(t));if(!t.s)return new d(ei);if(c=new d(c),!c.s){if(t.s<1)throw Error(Pi+"Infinity");return c}if(c.eq(ei))return c;if(r=d.precision,t.eq(ei))return kt(c,r);if(e=t.e,n=t.d.length-1,l=e>=n,a=c.s,l){if((n=m<0?-m:m)<=q5){for(i=new d(ei),e=Math.ceil(r/Bt+4),Gt=!1;n%2&&(i=i.times(c),sM(i.d,e)),n=Md(n/2),n!==0;)c=c.times(c),sM(c.d,e);return Gt=!0,t.s<0?new d(ei).div(i):kt(i,r)}}else if(a<0)throw Error(Pi+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,c.s=1,Gt=!1,i=t.times(am(c,r+f)),Gt=!0,i=H5(i),i.s=a,i};Se.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=In(i),r=_c(i,n<=a.toExpNeg||n>=a.toExpPos)):(Ua(t,1,kd),e===void 0?e=a.rounding:Ua(e,0,8),i=kt(new a(i),t,e),n=In(i),r=_c(i,t<=n||n<=a.toExpNeg,t)),r};Se.toSignificantDigits=Se.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ua(t,1,kd),e===void 0?e=r.rounding:Ua(e,0,8)),kt(new r(n),t,e)};Se.toString=Se.valueOf=Se.val=Se.toJSON=Se[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=In(t),n=t.constructor;return _c(t,e<=n.toExpNeg||e>=n.toExpPos)};function $5(t,e){var n,r,i,a,l,c,d,f,m=t.constructor,p=m.precision;if(!t.s||!e.s)return e.s||(e=new m(t)),Gt?kt(e,p):e;if(d=t.d,f=e.d,l=t.e,i=e.e,d=d.slice(),a=l-i,a){for(a<0?(r=d,a=-a,c=f.length):(r=f,i=l,c=d.length),l=Math.ceil(p/Bt),c=l>c?l+1:c+1,a>c&&(a=c,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(c=d.length,a=f.length,c-a<0&&(a=c,r=f,f=d,d=r),n=0;a;)n=(d[--a]=d[a]+f[a]+n)/Wn|0,d[a]%=Wn;for(n&&(d.unshift(n),++i),c=d.length;d[--c]==0;)d.pop();return e.d=d,e.e=i,Gt?kt(e,p):e}function Ua(t,e,n){if(t!==~~t||t<e||t>n)throw Error(ic+t)}function Na(t){var e,n,r,i=t.length-1,a="",l=t[0];if(i>0){for(a+=l,e=1;e<i;e++)r=t[e]+"",n=Bt-r.length,n&&(a+=So(n)),a+=r;l=t[e],r=l+"",n=Bt-r.length,n&&(a+=So(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return a+l}var vs=(function(){function t(r,i){var a,l=0,c=r.length;for(r=r.slice();c--;)a=r[c]*i+l,r[c]=a%Wn|0,l=a/Wn|0;return l&&r.unshift(l),r}function e(r,i,a,l){var c,d;if(a!=l)d=a>l?1:-1;else for(c=d=0;c<a;c++)if(r[c]!=i[c]){d=r[c]>i[c]?1:-1;break}return d}function n(r,i,a){for(var l=0;a--;)r[a]-=l,l=r[a]<i[a]?1:0,r[a]=l*Wn+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,l){var c,d,f,m,p,y,x,w,E,A,O,D,j,q,U,F,N,P,M=r.constructor,B=r.s==i.s?1:-1,k=r.d,L=i.d;if(!r.s)return new M(r);if(!i.s)throw Error(Pi+"Division by zero");for(d=r.e-i.e,N=L.length,U=k.length,x=new M(B),w=x.d=[],f=0;L[f]==(k[f]||0);)++f;if(L[f]>(k[f]||0)&&--d,a==null?D=a=M.precision:l?D=a+(In(r)-In(i))+1:D=a,D<0)return new M(0);if(D=D/Bt+2|0,f=0,N==1)for(m=0,L=L[0],D++;(f<U||m)&&D--;f++)j=m*Wn+(k[f]||0),w[f]=j/L|0,m=j%L|0;else{for(m=Wn/(L[0]+1)|0,m>1&&(L=t(L,m),k=t(k,m),N=L.length,U=k.length),q=N,E=k.slice(0,N),A=E.length;A<N;)E[A++]=0;P=L.slice(),P.unshift(0),F=L[0],L[1]>=Wn/2&&++F;do m=0,c=e(L,E,N,A),c<0?(O=E[0],N!=A&&(O=O*Wn+(E[1]||0)),m=O/F|0,m>1?(m>=Wn&&(m=Wn-1),p=t(L,m),y=p.length,A=E.length,c=e(p,E,y,A),c==1&&(m--,n(p,N<y?P:L,y))):(m==0&&(c=m=1),p=L.slice()),y=p.length,y<A&&p.unshift(0),n(E,p,A),c==-1&&(A=E.length,c=e(L,E,N,A),c<1&&(m++,n(E,N<A?P:L,A))),A=E.length):c===0&&(m++,E=[0]),w[f++]=m,c&&E[0]?E[A++]=k[q]||0:(E=[k[q]],A=1);while((q++<U||E[0]!==void 0)&&D--)}return w[0]||w.shift(),x.e=d,kt(x,l?a+In(x)+1:a)}})();function H5(t,e){var n,r,i,a,l,c,d=0,f=0,m=t.constructor,p=m.precision;if(In(t)>16)throw Error(rA+In(t));if(!t.s)return new m(ei);for(Gt=!1,c=p,l=new m(.03125);t.abs().gte(.1);)t=t.times(l),f+=5;for(r=Math.log(ql(2,f))/Math.LN10*2+5|0,c+=r,n=i=a=new m(ei),m.precision=c;;){if(i=kt(i.times(t),c),n=n.times(++d),l=a.plus(vs(i,n,c)),Na(l.d).slice(0,c)===Na(a.d).slice(0,c)){for(;f--;)a=kt(a.times(a),c);return m.precision=p,e==null?(Gt=!0,kt(a,p)):a}a=l}}function In(t){for(var e=t.e*Bt,n=t.d[0];n>=10;n/=10)e++;return e}function q1(t,e,n){if(e>t.LN10.sd())throw Gt=!0,n&&(t.precision=n),Error(Pi+"LN10 precision limit exceeded");return kt(new t(t.LN10),e)}function So(t){for(var e="";t--;)e+="0";return e}function am(t,e){var n,r,i,a,l,c,d,f,m,p=1,y=10,x=t,w=x.d,E=x.constructor,A=E.precision;if(x.s<1)throw Error(Pi+(x.s?"NaN":"-Infinity"));if(x.eq(ei))return new E(0);if(e==null?(Gt=!1,f=A):f=e,x.eq(10))return e==null&&(Gt=!0),q1(E,f);if(f+=y,E.precision=f,n=Na(w),r=n.charAt(0),a=In(x),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)x=x.times(t),n=Na(x.d),r=n.charAt(0),p++;a=In(x),r>1?(x=new E("0."+n),a++):x=new E(r+"."+n.slice(1))}else return d=q1(E,f+2,A).times(a+""),x=am(new E(r+"."+n.slice(1)),f-y).plus(d),E.precision=A,e==null?(Gt=!0,kt(x,A)):x;for(c=l=x=vs(x.minus(ei),x.plus(ei),f),m=kt(x.times(x),f),i=3;;){if(l=kt(l.times(m),f),d=c.plus(vs(l,new E(i),f)),Na(d.d).slice(0,f)===Na(c.d).slice(0,f))return c=c.times(2),a!==0&&(c=c.plus(q1(E,f+2,A).times(a+""))),c=vs(c,new E(p),f),E.precision=A,e==null?(Gt=!0,kt(c,A)):c;c=d,i+=2}}function aM(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Md(n/Bt),t.d=[],r=(n+1)%Bt,n<0&&(r+=Bt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Bt;r<i;)t.d.push(+e.slice(r,r+=Bt));e=e.slice(r),r=Bt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Gt&&(t.e>Oy||t.e<-Oy))throw Error(rA+n)}else t.s=0,t.e=0,t.d=[0];return t}function kt(t,e,n){var r,i,a,l,c,d,f,m,p=t.d;for(l=1,a=p[0];a>=10;a/=10)l++;if(r=e-l,r<0)r+=Bt,i=e,f=p[m=0];else{if(m=Math.ceil((r+1)/Bt),a=p.length,m>=a)return t;for(f=a=p[m],l=1;a>=10;a/=10)l++;r%=Bt,i=r-Bt+l}if(n!==void 0&&(a=ql(10,l-i-1),c=f/a%10|0,d=e<0||p[m+1]!==void 0||f%a,d=n<4?(c||d)&&(n==0||n==(t.s<0?3:2)):c>5||c==5&&(n==4||d||n==6&&(r>0?i>0?f/ql(10,l-i):0:p[m-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return d?(a=In(t),p.length=1,e=e-a-1,p[0]=ql(10,(Bt-e%Bt)%Bt),t.e=Md(-e/Bt)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(r==0?(p.length=m,a=1,m--):(p.length=m+1,a=ql(10,Bt-r),p[m]=i>0?(f/ql(10,l-i)%ql(10,i)|0)*a:0),d)for(;;)if(m==0){(p[0]+=a)==Wn&&(p[0]=1,++t.e);break}else{if(p[m]+=a,p[m]!=Wn)break;p[m--]=0,a=1}for(r=p.length;p[--r]===0;)p.pop();if(Gt&&(t.e>Oy||t.e<-Oy))throw Error(rA+In(t));return t}function K5(t,e){var n,r,i,a,l,c,d,f,m,p,y=t.constructor,x=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),Gt?kt(e,x):e;if(d=t.d,p=e.d,r=e.e,f=t.e,d=d.slice(),l=f-r,l){for(m=l<0,m?(n=d,l=-l,c=p.length):(n=p,r=f,c=d.length),i=Math.max(Math.ceil(x/Bt),c)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=d.length,c=p.length,m=i<c,m&&(c=i),i=0;i<c;i++)if(d[i]!=p[i]){m=d[i]<p[i];break}l=0}for(m&&(n=d,d=p,p=n,e.s=-e.s),c=d.length,i=p.length-c;i>0;--i)d[c++]=0;for(i=p.length;i>l;){if(d[--i]<p[i]){for(a=i;a&&d[--a]===0;)d[a]=Wn-1;--d[a],d[i]+=Wn}d[i]-=p[i]}for(;d[--c]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(e.d=d,e.e=r,Gt?kt(e,x):e):new y(0)}function _c(t,e,n){var r,i=In(t),a=Na(t.d),l=a.length;return e?(n&&(r=n-l)>0?a=a.charAt(0)+"."+a.slice(1)+So(r):l>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+So(-i-1)+a,n&&(r=n-l)>0&&(a+=So(r))):i>=l?(a+=So(i+1-l),n&&(r=n-i-1)>0&&(a=a+"."+So(r))):((r=i+1)<l&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(a+="."),a+=So(r))),t.s<0?"-"+a:a}function sM(t,e){if(t.length>e)return t.length=e,!0}function G5(t){var e,n,r;function i(a){var l=this;if(!(l instanceof i))return new i(a);if(l.constructor=i,a instanceof i){l.s=a.s,l.e=a.e,l.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(ic+a);if(a>0)l.s=1;else if(a<0)a=-a,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(a===~~a&&a<1e7){l.e=0,l.d=[a];return}return aM(l,a.toString())}else if(typeof a!="string")throw Error(ic+a);if(a.charCodeAt(0)===45?(a=a.slice(1),l.s=-1):l.s=1,tae.test(a))aM(l,a);else throw Error(ic+a)}if(i.prototype=Se,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=G5,i.config=i.set=nae,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function nae(t){if(!t||typeof t!="object")throw Error(Pi+"Object expected");var e,n,r,i=["precision",1,kd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Md(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(ic+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ic+n+": "+r);return this}var iA=G5(eae);ei=new iA(1);const Tt=iA;var rae=t=>t,Y5={},W5=t=>t===Y5,oM=t=>function e(){return arguments.length===0||arguments.length===1&&W5(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},X5=(t,e)=>t===1?e:oM(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(l=>l!==Y5).length;return a>=t?e(...r):X5(t-a,oM(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var f=r.map(m=>W5(m)?c.shift():m);return e(...f,...c)}))}),iae=t=>X5(t.length,t),ME=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},aae=iae((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),sae=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return rae;var i=n.reverse(),a=i[0],l=i.slice(1);return function(){return l.reduce((c,d)=>d(c),a(...arguments))}},jE=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join("");function Q5(t){var e;return t===0?e=1:e=Math.floor(new Tt(t).abs().log(10).toNumber())+1,e}function Z5(t,e,n){for(var r=new Tt(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var J5=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},ez=(t,e,n)=>{if(t.lte(0))return new Tt(0);var r=Q5(t.toNumber()),i=new Tt(10).pow(r),a=t.div(i),l=r!==1?.05:.1,c=new Tt(Math.ceil(a.div(l).toNumber())).add(n).mul(l),d=c.mul(i);return e?new Tt(d.toNumber()):new Tt(Math.ceil(d.toNumber()))},oae=(t,e,n)=>{var r=new Tt(1),i=new Tt(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new Tt(10).pow(Q5(t)-1),i=new Tt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Tt(Math.floor(t)))}else t===0?i=new Tt(Math.floor((e-1)/2)):n||(i=new Tt(Math.floor(t)));var l=Math.floor((e-1)/2),c=sae(aae(d=>i.add(new Tt(d-l).mul(r)).toNumber()),ME);return c(0,e)},tz=function(e,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Tt(0),tickMin:new Tt(0),tickMax:new Tt(0)};var l=ez(new Tt(n).sub(e).div(r-1),i,a),c;e<=0&&n>=0?c=new Tt(0):(c=new Tt(e).add(n).div(2),c=c.sub(new Tt(c).mod(l)));var d=Math.ceil(c.sub(e).div(l).toNumber()),f=Math.ceil(new Tt(n).sub(c).div(l).toNumber()),m=d+f+1;return m>r?tz(e,n,r,i,a+1):(m<r&&(f=n>0?f+(r-m):f,d=n>0?d:d+(r-m)),{step:l,tickMin:c.sub(new Tt(d).mul(l)),tickMax:c.add(new Tt(f).mul(l))})},lae=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),[c,d]=J5([n,r]);if(c===-1/0||d===1/0){var f=d===1/0?[c,...ME(0,i-1).map(()=>1/0)]:[...ME(0,i-1).map(()=>-1/0),d];return n>r?jE(f):f}if(c===d)return oae(c,i,a);var{step:m,tickMin:p,tickMax:y}=tz(c,d,l,a,0),x=Z5(p,y.add(new Tt(.1).mul(m)),m);return n>r?jE(x):x},cae=function(e,n){var[r,i]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,c]=J5([r,i]);if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var d=Math.max(n,2),f=ez(new Tt(c).sub(l).div(d-1),a,0),m=[...Z5(new Tt(l),new Tt(c),f),c];return a===!1&&(m=m.map(p=>Math.round(p))),r>i?jE(m):m},nz=t=>t.rootProps.maxBarSize,uae=t=>t.rootProps.barGap,rz=t=>t.rootProps.barCategoryGap,dae=t=>t.rootProps.barSize,Lm=t=>t.rootProps.stackOffset,iz=t=>t.rootProps.reverseStackOrder,aA=t=>t.options.chartName,sA=t=>t.rootProps.syncId,az=t=>t.rootProps.syncMethod,oA=t=>t.options.eventEmitter,Cn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},cs={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Jr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},$0=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},fae={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:cs.angleAxisId,includeHidden:!1,name:void 0,reversed:cs.reversed,scale:cs.scale,tick:cs.tick,tickCount:void 0,ticks:void 0,type:cs.type,unit:void 0},hae={allowDataOverflow:Jr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Jr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Jr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Jr.scale,tick:Jr.tick,tickCount:Jr.tickCount,ticks:void 0,type:Jr.type,unit:void 0},mae={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:cs.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:cs.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:cs.scale,tick:cs.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},pae={allowDataOverflow:Jr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Jr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Jr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Jr.scale,tick:Jr.tick,tickCount:Jr.tickCount,ticks:void 0,type:"category",unit:void 0},lA=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?mae:fae,cA=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?pae:hae,H0=t=>t.polarOptions,uA=J([Ds,ks,Ln],r5),sz=J([H0,uA],(t,e)=>{if(t!=null)return pr(t.innerRadius,e,0)}),oz=J([H0,uA],(t,e)=>{if(t!=null)return pr(t.outerRadius,e,e*.8)}),gae=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},lz=J([H0],gae);J([lA,lz],$0);var cz=J([uA,sz,oz],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});J([cA,cz],$0);var uz=J([dt,H0,sz,oz,Ds,ks],(t,e,n,r,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:l,cy:c,startAngle:d,endAngle:f}=e;return{cx:pr(l,i,i/2),cy:pr(c,a,a/2),innerRadius:n,outerRadius:r,startAngle:d,endAngle:f,clockWise:!1}}}),Xt=(t,e)=>e,zm=(t,e,n)=>n;function dA(t){return t==null?void 0:t.id}function dz(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=n,l=new Map;return t.forEach(c=>{var d,f=(d=c.data)!==null&&d!==void 0?d:r;if(!(f==null||f.length===0)){var m=dA(c);f.forEach((p,y)=>{var x=a==null||i?y:String(Dt(p,a,null)),w=Dt(p,c.dataKey,0),E;l.has(x)?E=l.get(x):E={},Object.assign(E,{[m]:w}),l.set(x,E)})}}),Array.from(l.values())}function K0(t){return t.stackId!=null&&t.dataKey!=null}var G0=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function Y0(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function vae(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var Bn=t=>{var e=dt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},jd=t=>t.tooltip.settings.axisId;function lM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ny(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lM(Object(n),!0).forEach(function(r){yae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yae(t,e,n){return(e=bae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bae(t){var e=_ae(t,"string");return typeof e=="symbol"?e:e+""}function _ae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var VE=[0,"auto"],Hn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},fz=(t,e)=>t.cartesianAxis.xAxis[e],js=(t,e)=>{var n=fz(t,e);return n??Hn},Kn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:VE,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Im},hz=(t,e)=>t.cartesianAxis.yAxis[e],Vs=(t,e)=>{var n=hz(t,e);return n??Kn},xae={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},fA=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??xae},Zt=(t,e,n)=>{switch(e){case"xAxis":return js(t,n);case"yAxis":return Vs(t,n);case"zAxis":return fA(t,n);case"angleAxis":return lA(t,n);case"radiusAxis":return cA(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},wae=(t,e,n)=>{switch(e){case"xAxis":return js(t,n);case"yAxis":return Vs(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Bm=(t,e,n)=>{switch(e){case"xAxis":return js(t,n);case"yAxis":return Vs(t,n);case"angleAxis":return lA(t,n);case"radiusAxis":return cA(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},mz=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function hA(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var W0=t=>t.graphicalItems.cartesianItems,Eae=J([Xt,zm],hA),mA=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),Um=J([W0,Zt,Eae],mA,{memoizeOptions:{resultEqualityCheck:Y0}}),pz=J([Um],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(K0)),gz=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),Tae=J([Um],gz),pA=t=>t.map(e=>e.data).filter(Boolean).flat(1),Sae=J([Um],pA,{memoizeOptions:{resultEqualityCheck:Y0}}),gA=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},vA=J([Sae,q0],gA),yA=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:Dt(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Dt(i,r)}))):t.map(r=>({value:r})),X0=J([vA,Zt,Um],yA);function vz(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function gv(t){if(za(t)||t instanceof Date){var e=Number(t);if(dn(e))return e}}function cM(t){if(Array.isArray(t)){var e=[gv(t[0]),gv(t[1])];return Wo(e)?e:void 0}var n=gv(t);if(n!=null)return[n,n]}function Os(t){return t.map(gv).filter(_Q)}function Aae(t,e,n){return!n||typeof e!="number"||na(e)?[]:n.length?Os(n.flatMap(r=>{var i=Dt(t,r.dataKey),a,l;if(Array.isArray(i)?[a,l]=i:a=l=i,!(!dn(a)||!dn(l)))return[e-a,e+l]})):[]}var Un=t=>{var e=Bn(t),n=jd(t);return Bm(t,e,n)},Fm=J([Un],t=>t==null?void 0:t.dataKey),Cae=J([pz,q0,Un],dz),yz=(t,e,n,r)=>{var i={},a=e.reduce((l,c)=>(c.stackId==null||(l[c.stackId]==null&&(l[c.stackId]=[]),l[c.stackId].push(c)),l),i);return Object.fromEntries(Object.entries(a).map(l=>{var[c,d]=l,f=r?[...d].reverse():d,m=f.map(dA);return[c,{stackedData:GJ(t,m,n),graphicalItems:f}]}))},LE=J([Cae,pz,Lm,iz],yz),bz=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=e;if(r==null&&n!=="zAxis"){var l=ZJ(t,i,a);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},Iae=J([Zt],t=>t.allowDataOverflow),bA=t=>{var e;if(t==null||!("domain"in t))return VE;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=Os(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:VE},_A=J([Zt],bA),xA=J([_A,Iae],F5),Oae=J([LE,sl,Xt,xA],bz,{memoizeOptions:{resultEqualityCheck:G0}}),Q0=t=>t.errorBars,Nae=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>vz(n,r)),Py=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),l=Math.min(...a),c=Math.max(...a);return[l,c]}},wA=(t,e,n,r,i)=>{var a,l;if(n.length>0&&t.forEach(c=>{n.forEach(d=>{var f,m,p=(f=r[d.id])===null||f===void 0?void 0:f.filter(O=>vz(i,O)),y=Dt(c,(m=e.dataKey)!==null&&m!==void 0?m:d.dataKey),x=Aae(c,y,p);if(x.length>=2){var w=Math.min(...x),E=Math.max(...x);(a==null||w<a)&&(a=w),(l==null||E>l)&&(l=E)}var A=cM(y);A!=null&&(a=a==null?A[0]:Math.min(a,A[0]),l=l==null?A[1]:Math.max(l,A[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(c=>{var d=cM(Dt(c,e.dataKey));d!=null&&(a=a==null?d[0]:Math.min(a,d[0]),l=l==null?d[1]:Math.max(l,d[1]))}),dn(a)&&dn(l))return[a,l]},Pae=J([vA,Zt,Tae,Q0,Xt],wA,{memoizeOptions:{resultEqualityCheck:G0}});function Rae(t){var{value:e}=t;if(za(e)||e instanceof Date)return e}var Dae=(t,e,n)=>{var r=t.map(Rae).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&ML(r))?o5(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},_z=t=>t.referenceElements.dots,Vd=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),kae=J([_z,Xt,zm],Vd),xz=t=>t.referenceElements.areas,Mae=J([xz,Xt,zm],Vd),wz=t=>t.referenceElements.lines,jae=J([wz,Xt,zm],Vd),Ez=(t,e)=>{var n=Os(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Vae=J(kae,Xt,Ez),Tz=(t,e)=>{var n=Os(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Lae=J([Mae,Xt],Tz);function zae(t){var e;if(t.x!=null)return Os([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:Os(n)}function Bae(t){var e;if(t.y!=null)return Os([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:Os(n)}var Sz=(t,e)=>{var n=t.flatMap(r=>e==="xAxis"?zae(r):Bae(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Uae=J([jae,Xt],Sz),Fae=J(Vae,Uae,Lae,(t,e,n)=>Py(t,n,e)),EA=(t,e,n,r,i,a,l,c)=>{if(n!=null)return n;var d=l==="vertical"&&c==="xAxis"||l==="horizontal"&&c==="yAxis",f=d?Py(r,a,i):Py(a,i);return Jie(e,f,t.allowDataOverflow)},qae=J([Zt,_A,xA,Oae,Pae,Fae,dt,Xt],EA,{memoizeOptions:{resultEqualityCheck:G0}}),$ae=[0,1],TA=(t,e,n,r,i,a,l)=>{if(!((t==null||n==null||n.length===0)&&l===void 0)){var{dataKey:c,type:d}=t,f=rl(e,a);if(f&&c==null){var m;return o5(0,(m=n==null?void 0:n.length)!==null&&m!==void 0?m:0)}return d==="category"?Dae(r,t,f):i==="expand"?$ae:l}},SA=J([Zt,dt,vA,X0,Lm,Xt,qae],TA),Az=(t,e,n,r,i)=>{if(t!=null){var{scale:a,type:l}=t;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof a=="string"){var c="scale".concat(wm(a));return c in gh?c:"point"}}},Ld=J([Zt,dt,mz,aA,Xt],Az);function Hae(t){if(t!=null){if(t in gh)return gh[t]();var e="scale".concat(wm(t));if(e in gh)return gh[e]()}}function AA(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=Hae(e);if(i!=null){var a=i.domain(n).range(r);return FJ(a),a}}}var CA=(t,e,n)=>{var r=bA(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Wo(t))return lae(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Wo(t))return cae(t,e.tickCount,e.allowDecimals)}},IA=J([SA,Bm,Ld],CA),OA=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&Wo(e)&&Array.isArray(n)&&n.length>0){var i=e[0],a=n[0],l=e[1],c=n[n.length-1];return[Math.min(i,a),Math.max(l,c)]}return e},Kae=J([Zt,SA,IA,Xt],OA),Gae=J(X0,Zt,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Os(t.map(c=>c.value))).sort((c,d)=>c-d);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var l=r[a+1]-r[a];n=Math.min(n,l)}return n/i}}),Cz=J(Gae,dt,rz,Ln,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!dn(t))return 0;var a=e==="vertical"?r.height:r.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var l=pr(n,t*a),c=t*a/2;return c-l-(c-l)/a*l}return 0}),Yae=(t,e)=>{var n=js(t,e);return n==null||typeof n.padding!="string"?0:Cz(t,"xAxis",e,n.padding)},Wae=(t,e)=>{var n=Vs(t,e);return n==null||typeof n.padding!="string"?0:Cz(t,"yAxis",e,n.padding)},Xae=J(js,Yae,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),Qae=J(Vs,Wae,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),Zae=J([Ln,Xae,P0,N0,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),Jae=J([Ln,dt,Qae,P0,N0,(t,e,n)=>n],(t,e,n,r,i,a)=>{var{padding:l}=i;return a?[r.height-l.bottom,l.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),qm=(t,e,n,r)=>{var i;switch(e){case"xAxis":return Zae(t,n,r);case"yAxis":return Jae(t,n,r);case"zAxis":return(i=fA(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return lz(t);case"radiusAxis":return cz(t,n);default:return}},Iz=J([Zt,qm],$0),zd=J([Zt,Ld,Kae,Iz],AA);J([Um,Q0,Xt],Nae);function Oz(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Z0=(t,e)=>e,J0=(t,e,n)=>n,ese=J(I0,Z0,J0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(Oz)),tse=J(O0,Z0,J0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(Oz)),Nz=(t,e)=>({width:t.width,height:e.height}),nse=(t,e)=>{var n=typeof e.width=="number"?e.width:Im;return{width:n,height:t.height}},Pz=J(Ln,js,Nz),rse=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},ise=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},ase=J(ks,Ln,ese,Z0,J0,(t,e,n,r,i)=>{var a={},l;return n.forEach(c=>{var d=Nz(e,c);l==null&&(l=rse(e,r,t));var f=r==="top"&&!i||r==="bottom"&&i;a[c.id]=l-Number(f)*d.height,l+=(f?-1:1)*d.height}),a}),sse=J(Ds,Ln,tse,Z0,J0,(t,e,n,r,i)=>{var a={},l;return n.forEach(c=>{var d=nse(e,c);l==null&&(l=ise(e,r,t));var f=r==="left"&&!i||r==="right"&&i;a[c.id]=l-Number(f)*d.width,l+=(f?-1:1)*d.width}),a}),ose=(t,e)=>{var n=js(t,e);if(n!=null)return ase(t,n.orientation,n.mirror)},lse=J([Ln,js,ose,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),cse=(t,e)=>{var n=Vs(t,e);if(n!=null)return sse(t,n.orientation,n.mirror)},use=J([Ln,Vs,cse,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),Rz=J(Ln,Vs,(t,e)=>{var n=typeof e.width=="number"?e.width:Im;return{width:n,height:t.height}}),uM=(t,e,n)=>{switch(e){case"xAxis":return Pz(t,n).width;case"yAxis":return Rz(t,n).height;default:return}},Dz=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:l}=n,c=rl(t,r),d=e.map(f=>f.value);if(l&&c&&a==="category"&&i&&ML(d))return d}},NA=J([dt,X0,Zt,Xt],Dz),kz=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,l=rl(t,r);if(l&&(i==="number"||a!=="auto"))return e.map(c=>c.value)}},PA=J([dt,X0,Bm,Xt],kz),dM=J([dt,wae,Ld,zd,NA,PA,qm,IA,Xt],(t,e,n,r,i,a,l,c,d)=>{if(e!=null){var f=rl(t,d);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:d,categoricalDomain:a,duplicateDomain:i,isCategorical:f,niceTicks:c,range:l,realScaleType:n,scale:r}}}),dse=(t,e,n,r,i,a,l,c,d)=>{if(!(e==null||r==null)){var f=rl(t,d),{type:m,ticks:p,tickCount:y}=e,x=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,w=m==="category"&&r.bandwidth?r.bandwidth()/x:0;w=d==="angleAxis"&&a!=null&&a.length>=2?Xn(a[0]-a[1])*2*w:w;var E=p||i;if(E){var A=E.map((O,D)=>{var j=l?l.indexOf(O):O;return{index:D,coordinate:r(j)+w,value:O,offset:w}});return A.filter(O=>dn(O.coordinate))}return f&&c?c.map((O,D)=>({coordinate:r(O)+w,value:O,index:D,offset:w})).filter(O=>dn(O.coordinate)):r.ticks?r.ticks(y).map(O=>({coordinate:r(O)+w,value:O,offset:w})):r.domain().map((O,D)=>({coordinate:r(O)+w,value:l?l[O]:O,index:D,offset:w}))}},Mz=J([dt,Bm,Ld,zd,IA,qm,NA,PA,Xt],dse),fse=(t,e,n,r,i,a,l)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var c=rl(t,l),{tickCount:d}=e,f=0;return f=l==="angleAxis"&&(r==null?void 0:r.length)>=2?Xn(r[0]-r[1])*2*f:f,c&&a?a.map((m,p)=>({coordinate:n(m)+f,value:m,index:p,offset:f})):n.ticks?n.ticks(d).map(m=>({coordinate:n(m)+f,value:m,offset:f})):n.domain().map((m,p)=>({coordinate:n(m)+f,value:i?i[m]:m,index:p,offset:f}))}},Xo=J([dt,Bm,zd,qm,NA,PA,Xt],fse),Qo=J(Zt,zd,(t,e)=>{if(!(t==null||e==null))return Ny(Ny({},t),{},{scale:e})}),hse=J([Zt,Ld,SA,Iz],AA);J((t,e,n)=>fA(t,n),hse,(t,e)=>{if(!(t==null||e==null))return Ny(Ny({},t),{},{scale:e})});var mse=J([dt,I0,O0],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),jz=t=>t.options.defaultTooltipEventType,Vz=t=>t.options.validateTooltipEventTypes;function Lz(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function RA(t,e){var n=jz(t),r=Vz(t);return Lz(e,n,r)}function pse(t){return Te(e=>RA(e,t))}var zz=(t,e)=>{var n,r=Number(e);if(!(na(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},gse=t=>t.tooltip.settings,Ro={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},vse={itemInteraction:{click:Ro,hover:Ro},axisInteraction:{click:Ro,hover:Ro},keyboardInteraction:Ro,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Bz=Br({name:"tooltip",initialState:vse,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:$t()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ea(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:$t()},removeTooltipEntrySettings:{reducer(t,e){var n=ea(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:$t()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:yse,replaceTooltipEntrySettings:bse,removeTooltipEntrySettings:_se,setTooltipSettingsState:xse,setActiveMouseOverItemIndex:Uz,mouseLeaveItem:wse,mouseLeaveChart:Fz,setActiveClickItemIndex:Ese,setMouseOverAxisIndex:qz,setMouseClickAxisIndex:Tse,setSyncInteraction:zE,setKeyboardInteraction:BE}=Bz.actions,Sse=Bz.reducer;function fM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fM(Object(n),!0).forEach(function(r){Ase(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ase(t,e,n){return(e=Cse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cse(t){var e=Ise(t,"string");return typeof e=="symbol"?e:e+""}function Ise(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ose(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Nse(t){return t.index!=null}var $z=(t,e,n,r)=>{if(e==null)return Ro;var i=Ose(t,e,n);if(i==null)return Ro;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(Nse(i)){if(a)return Kg(Kg({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Kg(Kg({},Ro),{},{coordinate:i.coordinate})};function Pse(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function Rse(t,e){var n=Pse(t),r=e[0],i=e[1];if(n===void 0)return!1;var a=Math.min(r,i),l=Math.max(r,i);return n>=a&&n<=l}function Dse(t,e,n){if(n==null||e==null)return!0;var r=Dt(t,e);return r==null||!Wo(n)?!0:Rse(r,n)}var DA=(t,e,n,r)=>{var i=t==null?void 0:t.index;if(i==null)return null;var a=Number(i);if(!dn(a))return i;var l=0,c=1/0;e.length>0&&(c=e.length-1);var d=Math.max(l,Math.min(a,c)),f=e[d];return f==null||Dse(f,n,r)?String(d):null},Hz=(t,e,n,r,i,a,l,c)=>{if(!(a==null||c==null)){var d=l[0],f=d==null?void 0:c(d.positions,a);if(f!=null)return f;var m=i==null?void 0:i[Number(a)];if(m)switch(n){case"horizontal":return{x:m.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:m.coordinate}}}},Kz=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(a=>{var l;return((l=a.settings)===null||l===void 0?void 0:l.dataKey)===i})},$m=t=>t.options.tooltipPayloadSearcher,Bd=t=>t.tooltip;function hM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hM(Object(n),!0).forEach(function(r){kse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kse(t,e,n){return(e=Mse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mse(t){var e=jse(t,"string");return typeof e=="symbol"?e:e+""}function jse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vse(t,e){return t??e}var Gz=(t,e,n,r,i,a,l)=>{if(!(e==null||a==null)){var{chartData:c,computedData:d,dataStartIndex:f,dataEndIndex:m}=n,p=[];return t.reduce((y,x)=>{var w,{dataDefinedOnItem:E,settings:A}=x,O=Vse(E,c),D=Array.isArray(O)?O6(O,f,m):O,j=(w=A==null?void 0:A.dataKey)!==null&&w!==void 0?w:r,q=A==null?void 0:A.nameKey,U;if(r&&Array.isArray(D)&&!Array.isArray(D[0])&&l==="axis"?U=jL(D,r,i):U=a(D,e,d,q),Array.isArray(U))U.forEach(N=>{var P=mM(mM({},A),{},{name:N.name,unit:N.unit,color:void 0,fill:void 0});y.push(kD({tooltipEntrySettings:P,dataKey:N.dataKey,payload:N.payload,value:Dt(N.payload,N.dataKey),name:N.name}))});else{var F;y.push(kD({tooltipEntrySettings:A,dataKey:j,payload:U,value:Dt(U,j),name:(F=Dt(U,q))!==null&&F!==void 0?F:A==null?void 0:A.name}))}return y},p)}},kA=J([Un,dt,mz,aA,Bn],Az),Lse=J([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),zse=J([Bn,jd],hA),Hm=J([Lse,Un,zse],mA,{memoizeOptions:{resultEqualityCheck:Y0}}),Bse=J([Hm],t=>t.filter(K0)),Use=J([Hm],pA,{memoizeOptions:{resultEqualityCheck:Y0}}),Ud=J([Use,sl],gA),Fse=J([Bse,sl,Un],dz),MA=J([Ud,Un,Hm],yA),Yz=J([Un],bA),qse=J([Un],t=>t.allowDataOverflow),Wz=J([Yz,qse],F5),$se=J([Hm],t=>t.filter(K0)),Hse=J([Fse,$se,Lm,iz],yz),Kse=J([Hse,sl,Bn,Wz],bz),Gse=J([Hm],gz),Yse=J([Ud,Un,Gse,Q0,Bn],wA,{memoizeOptions:{resultEqualityCheck:G0}}),Wse=J([_z,Bn,jd],Vd),Xse=J([Wse,Bn],Ez),Qse=J([xz,Bn,jd],Vd),Zse=J([Qse,Bn],Tz),Jse=J([wz,Bn,jd],Vd),eoe=J([Jse,Bn],Sz),toe=J([Xse,eoe,Zse],Py),noe=J([Un,Yz,Wz,Kse,Yse,toe,dt,Bn],EA),Km=J([Un,dt,Ud,MA,Lm,Bn,noe],TA),roe=J([Km,Un,kA],CA),ioe=J([Un,Km,roe,Bn],OA),Xz=t=>{var e=Bn(t),n=jd(t),r=!1;return qm(t,e,n,r)},Qz=J([Un,Xz],$0),Zz=J([Un,kA,ioe,Qz],AA),aoe=J([dt,MA,Un,Bn],Dz),soe=J([dt,MA,Un,Bn],kz),ooe=(t,e,n,r,i,a,l,c)=>{if(e){var{type:d}=e,f=rl(t,c);if(r){var m=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=d==="category"&&r.bandwidth?r.bandwidth()/m:0;return p=c==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Xn(i[0]-i[1])*2*p:p,f&&l?l.map((y,x)=>({coordinate:r(y)+p,value:y,index:x,offset:p})):r.domain().map((y,x)=>({coordinate:r(y)+p,value:a?a[y]:y,index:x,offset:p}))}}},Ls=J([dt,Un,kA,Zz,Xz,aoe,soe,Bn],ooe),jA=J([jz,Vz,gse],(t,e,n)=>Lz(n.shared,t,e)),Jz=t=>t.tooltip.settings.trigger,VA=t=>t.tooltip.settings.defaultIndex,Gm=J([Bd,jA,Jz,VA],$z),Zo=J([Gm,Ud,Fm,Km],DA),eB=J([Ls,Zo],zz),LA=J([Gm],t=>{if(t)return t.dataKey}),loe=J([Gm],t=>{if(t)return t.graphicalItemId}),tB=J([Bd,jA,Jz,VA],Kz),coe=J([Ds,ks,dt,Ln,Ls,VA,tB,$m],Hz),uoe=J([Gm,coe],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),doe=J([Gm],t=>t.active),foe=J([tB,Zo,sl,Fm,eB,$m,jA],Gz),hoe=J([foe],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function pM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pM(Object(n),!0).forEach(function(r){moe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function moe(t,e,n){return(e=poe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function poe(t){var e=goe(t,"string");return typeof e=="symbol"?e:e+""}function goe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var voe=()=>Te(Un),yoe=()=>{var t=voe(),e=Te(Ls),n=Te(Zz);return yd(!t||!n?void 0:gM(gM({},t),{},{scale:n}),e)};function vM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Au(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vM(Object(n),!0).forEach(function(r){boe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function boe(t,e,n){return(e=_oe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _oe(t){var e=xoe(t,"string");return typeof e=="symbol"?e:e+""}function xoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var woe=(t,e,n,r)=>{var i=e.find(a=>a&&a.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},Eoe=(t,e,n,r)=>{var i=e.find(f=>f&&f.index===n);if(i){if(t==="centric"){var a=i.coordinate,{radius:l}=r;return Au(Au(Au({},r),An(r.cx,r.cy,l,a)),{},{angle:a,radius:l})}var c=i.coordinate,{angle:d}=r;return Au(Au(Au({},r),An(r.cx,r.cy,c,d)),{},{angle:d,radius:c})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Toe(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var nB=(t,e,n,r,i)=>{var a,l=-1,c=(a=e==null?void 0:e.length)!==null&&a!==void 0?a:0;if(c<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var d=0;d<c;d++){var f=d>0?n[d-1].coordinate:n[c-1].coordinate,m=n[d].coordinate,p=d>=c-1?n[0].coordinate:n[d+1].coordinate,y=void 0;if(Xn(m-f)!==Xn(p-m)){var x=[];if(Xn(p-m)===Xn(i[1]-i[0])){y=p;var w=m+i[1]-i[0];x[0]=Math.min(w,(w+f)/2),x[1]=Math.max(w,(w+f)/2)}else{y=f;var E=p+i[1]-i[0];x[0]=Math.min(m,(E+m)/2),x[1]=Math.max(m,(E+m)/2)}var A=[Math.min(m,(y+m)/2),Math.max(m,(y+m)/2)];if(t>A[0]&&t<=A[1]||t>=x[0]&&t<=x[1]){({index:l}=n[d]);break}}else{var O=Math.min(f,p),D=Math.max(f,p);if(t>(O+m)/2&&t<=(D+m)/2){({index:l}=n[d]);break}}}else if(e){for(var j=0;j<c;j++)if(j===0&&t<=(e[j].coordinate+e[j+1].coordinate)/2||j>0&&j<c-1&&t>(e[j].coordinate+e[j-1].coordinate)/2&&t<=(e[j].coordinate+e[j+1].coordinate)/2||j===c-1&&t>(e[j].coordinate+e[j-1].coordinate)/2){({index:l}=e[j]);break}}return l},Soe=()=>Te(aA),zA=(t,e)=>e,rB=(t,e,n)=>n,BA=(t,e,n,r)=>r,Aoe=J(Ls,t=>b0(t,e=>e.coordinate)),UA=J([Bd,zA,rB,BA],$z),FA=J([UA,Ud,Fm,Km],DA),Coe=(t,e,n)=>{if(e!=null){var r=Bd(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},iB=J([Bd,zA,rB,BA],Kz),Ry=J([Ds,ks,dt,Ln,Ls,BA,iB,$m],Hz),Ioe=J([UA,Ry],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),aB=J([Ls,FA],zz),Ooe=J([iB,FA,sl,Fm,aB,$m,zA],Gz),Noe=J([UA,FA],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),Poe=(t,e,n,r,i,a,l)=>{if(!(!t||!n||!r||!i)&&Toe(t,l)){var c=JJ(t,e),d=nB(c,a,i,n,r),f=woe(e,i,d,t);return{activeIndex:String(d),activeCoordinate:f}}},Roe=(t,e,n,r,i,a,l)=>{if(!(!t||!r||!i||!a||!n)){var c=pne(t,n);if(c){var d=eee(c,e),f=nB(d,l,a,r,i),m=Eoe(e,a,f,c);return{activeIndex:String(f),activeCoordinate:m}}}},Doe=(t,e,n,r,i,a,l,c)=>{if(!(!t||!e||!r||!i||!a))return e==="horizontal"||e==="vertical"?Poe(t,e,r,i,a,l,c):Roe(t,e,n,r,i,a,l)},koe=J(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElementId:r.elementId}}),Moe=J(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(Cn)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:vae}});function yM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yM(Object(n),!0).forEach(function(r){joe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function joe(t,e,n){return(e=Voe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Voe(t){var e=Loe(t,"string");return typeof e=="symbol"?e:e+""}function Loe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zoe={},Boe={zIndexMap:Object.values(Cn).reduce((t,e)=>bM(bM({},t),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),zoe)},Uoe=new Set(Object.values(Cn));function Foe(t){return Uoe.has(t)}var sB=Br({name:"zIndex",initialState:Boe,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:$t()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!Foe(n)&&delete t.zIndexMap[n])},prepare:$t()},registerZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n,elementId:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElementId=r:t.zIndexMap[n].elementId=r:t.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:$t()},unregisterZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElementId=void 0:t.zIndexMap[n].elementId=void 0)},prepare:$t()}}}),{registerZIndexPortal:qoe,unregisterZIndexPortal:$oe,registerZIndexPortalId:Hoe,unregisterZIndexPortalId:Koe}=sB.actions,Goe=sB.reducer;function Ur(t){var{zIndex:e,children:n}=t,r=Pee(),i=r&&e!==void 0&&e!==0,a=gr(),l=Vt();S.useLayoutEffect(()=>i?(l(qoe({zIndex:e})),()=>{l($oe({zIndex:e}))}):Em,[l,e,i]);var c=Te(f=>koe(f,e,a));if(!i)return n;if(!c)return null;var d=document.getElementById(c);return d?oS.createPortal(n,d):null}function UE(){return UE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},UE.apply(null,arguments)}function _M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_M(Object(n),!0).forEach(function(r){Yoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_M(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yoe(t,e,n){return(e=Woe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Woe(t){var e=Xoe(t,"string");return typeof e=="symbol"?e:e+""}function Xoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qoe(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return S.isValidElement(e)?S.cloneElement(e,r):S.createElement(n,r)}function Zoe(t){var e,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:l,layout:c,cursor:d,tooltipEventType:f,chartName:m}=t,p=n,y=r,x=i;if(!d||!p||m!=="ScatterChart"&&f!=="axis")return null;var w,E,A;if(m==="ScatterChart")w=p,E=Nte,A=Cn.cursorLine;else if(m==="BarChart")w=Pte(c,p,a,l),E=n5,A=Cn.cursorRectangle;else if(c==="radial"&&LL(p)){var{cx:O,cy:D,radius:j,startAngle:q,endAngle:U}=i5(p);w={cx:O,cy:D,startAngle:q,endAngle:U,innerRadius:j,outerRadius:j},E=s5,A=Cn.cursorLine}else w={points:bne(c,p,a)},E=RS,A=Cn.cursorLine;var F=typeof d=="object"&&"className"in d?d.className:void 0,N=Gg(Gg(Gg(Gg({stroke:"#ccc",pointerEvents:"none"},a),w),gc(d)),{},{payload:y,payloadIndex:x,className:Ce("recharts-tooltip-cursor",F)});return S.createElement(Ur,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:A},S.createElement(Qoe,{cursor:d,cursorComp:E,cursorProps:N}))}function Joe(t){var e=yoe(),n=z6(),r=Om(),i=Soe();return e==null||n==null||r==null||i==null?null:S.createElement(Zoe,UE({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var oB=S.createContext(null),ele=()=>S.useContext(oB),$1={exports:{}},xM;function tle(){return xM||(xM=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(d,f,m){this.fn=d,this.context=f,this.once=m||!1}function a(d,f,m,p,y){if(typeof m!="function")throw new TypeError("The listener must be a function");var x=new i(m,p||d,y),w=n?n+f:f;return d._events[w]?d._events[w].fn?d._events[w]=[d._events[w],x]:d._events[w].push(x):(d._events[w]=x,d._eventsCount++),d}function l(d,f){--d._eventsCount===0?d._events=new r:delete d._events[f]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var f=[],m,p;if(this._eventsCount===0)return f;for(p in m=this._events)e.call(m,p)&&f.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(m)):f},c.prototype.listeners=function(f){var m=n?n+f:f,p=this._events[m];if(!p)return[];if(p.fn)return[p.fn];for(var y=0,x=p.length,w=new Array(x);y<x;y++)w[y]=p[y].fn;return w},c.prototype.listenerCount=function(f){var m=n?n+f:f,p=this._events[m];return p?p.fn?1:p.length:0},c.prototype.emit=function(f,m,p,y,x,w){var E=n?n+f:f;if(!this._events[E])return!1;var A=this._events[E],O=arguments.length,D,j;if(A.fn){switch(A.once&&this.removeListener(f,A.fn,void 0,!0),O){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,m),!0;case 3:return A.fn.call(A.context,m,p),!0;case 4:return A.fn.call(A.context,m,p,y),!0;case 5:return A.fn.call(A.context,m,p,y,x),!0;case 6:return A.fn.call(A.context,m,p,y,x,w),!0}for(j=1,D=new Array(O-1);j<O;j++)D[j-1]=arguments[j];A.fn.apply(A.context,D)}else{var q=A.length,U;for(j=0;j<q;j++)switch(A[j].once&&this.removeListener(f,A[j].fn,void 0,!0),O){case 1:A[j].fn.call(A[j].context);break;case 2:A[j].fn.call(A[j].context,m);break;case 3:A[j].fn.call(A[j].context,m,p);break;case 4:A[j].fn.call(A[j].context,m,p,y);break;default:if(!D)for(U=1,D=new Array(O-1);U<O;U++)D[U-1]=arguments[U];A[j].fn.apply(A[j].context,D)}}return!0},c.prototype.on=function(f,m,p){return a(this,f,m,p,!1)},c.prototype.once=function(f,m,p){return a(this,f,m,p,!0)},c.prototype.removeListener=function(f,m,p,y){var x=n?n+f:f;if(!this._events[x])return this;if(!m)return l(this,x),this;var w=this._events[x];if(w.fn)w.fn===m&&(!y||w.once)&&(!p||w.context===p)&&l(this,x);else{for(var E=0,A=[],O=w.length;E<O;E++)(w[E].fn!==m||y&&!w[E].once||p&&w[E].context!==p)&&A.push(w[E]);A.length?this._events[x]=A.length===1?A[0]:A:l(this,x)}return this},c.prototype.removeAllListeners=function(f){var m;return f?(m=n?n+f:f,this._events[m]&&l(this,m)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c})($1)),$1.exports}var nle=tle();const rle=Fa(nle);var sm=new rle,FE="recharts.syncEvent.tooltip",wM="recharts.syncEvent.brush";function qA(t,e){if(e){var n=Number.parseInt(e,10);if(!na(n))return t==null?void 0:t[n]}}var ile={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},lB=Br({name:"options",initialState:ile,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),ale=lB.reducer,{createEventEmitter:sle}=lB.actions;function ole(t){return t.tooltip.syncInteraction}var lle={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},cB=Br({name:"chartData",initialState:lle,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:EM,setDataStartEndIndexes:cle,setComputedData:rge}=cB.actions,ule=cB.reducer,dle=["x","y"];function TM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TM(Object(n),!0).forEach(function(r){fle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fle(t,e,n){return(e=hle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hle(t){var e=mle(t,"string");return typeof e=="symbol"?e:e+""}function mle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ple(t,e){if(t==null)return{};var n,r,i=gle(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function gle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function vle(){var t=Te(sA),e=Te(oA),n=Vt(),r=Te(az),i=Te(Ls),a=Om(),l=R0(),c=Te(d=>d.rootProps.className);S.useEffect(()=>{if(t==null)return Em;var d=(f,m,p)=>{if(e!==p&&t===f){if(r==="index"){var y;if(l&&m!==null&&m!==void 0&&(y=m.payload)!==null&&y!==void 0&&y.coordinate&&m.payload.sourceViewBox){var x=m.payload.coordinate,{x:w,y:E}=x,A=ple(x,dle),{x:O,y:D,width:j,height:q}=m.payload.sourceViewBox,U=Cu(Cu({},A),{},{x:l.x+(j?(w-O)/j:0)*l.width,y:l.y+(q?(E-D)/q:0)*l.height});n(Cu(Cu({},m),{},{payload:Cu(Cu({},m.payload),{},{coordinate:U})}))}else n(m);return}if(i!=null){var F;if(typeof r=="function"){var N={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},P=r(i,N);F=i[P]}else r==="value"&&(F=i.find(W=>String(W.value)===m.payload.label));var{coordinate:M}=m.payload;if(F==null||m.payload.active===!1||M==null||l==null){n(zE({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:B,y:k}=M,L=Math.min(B,l.x+l.width),z=Math.min(k,l.y+l.height),de={x:a==="horizontal"?F.coordinate:L,y:a==="horizontal"?z:F.coordinate},Ee=zE({active:m.payload.active,coordinate:de,dataKey:m.payload.dataKey,index:String(F.index),label:m.payload.label,sourceViewBox:m.payload.sourceViewBox,graphicalItemId:m.payload.graphicalItemId});n(Ee)}}};return sm.on(FE,d),()=>{sm.off(FE,d)}},[c,n,e,t,r,i,a,l])}function yle(){var t=Te(sA),e=Te(oA),n=Vt();S.useEffect(()=>{if(t==null)return Em;var r=(i,a,l)=>{e!==l&&t===i&&n(cle(a))};return sm.on(wM,r),()=>{sm.off(wM,r)}},[n,e,t])}function ble(){var t=Vt();S.useEffect(()=>{t(sle())},[t]),vle(),yle()}function _le(t,e,n,r,i,a){var l=Te(x=>Coe(x,t,e)),c=Te(oA),d=Te(sA),f=Te(az),m=Te(ole),p=m==null?void 0:m.active,y=R0();S.useEffect(()=>{if(!p&&d!=null&&c!=null){var x=zE({active:a,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:y,graphicalItemId:void 0});sm.emit(FE,d,x,c)}},[p,n,l,i,r,c,d,f,a,y])}function SM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SM(Object(n),!0).forEach(function(r){xle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xle(t,e,n){return(e=wle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wle(t){var e=Ele(t,"string");return typeof e=="symbol"?e:e+""}function Ele(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tle(t){return t.dataKey}function Sle(t,e){return S.isValidElement(t)?S.cloneElement(t,e):typeof t=="function"?S.createElement(t,e):S.createElement(cte,e)}var CM=[],Ale={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function qE(t){var e,n,r=Nn(t,Ale),{active:i,allowEscapeViewBox:a,animationDuration:l,animationEasing:c,content:d,filterNull:f,isAnimationActive:m,offset:p,payloadUniqBy:y,position:x,reverseDirection:w,useTranslate3d:E,wrapperStyle:A,cursor:O,shared:D,trigger:j,defaultIndex:q,portal:U,axisId:F}=r,N=Vt(),P=typeof q=="number"?String(q):q;S.useEffect(()=>{N(xse({shared:D,trigger:j,axisId:F,active:i,defaultIndex:P}))},[N,D,j,F,i,P]);var M=R0(),B=Q6(),k=pse(D),{activeIndex:L,isActive:z}=(e=Te(Pe=>Noe(Pe,k,j,P)))!==null&&e!==void 0?e:{},de=Te(Pe=>Ooe(Pe,k,j,P)),Ee=Te(Pe=>aB(Pe,k,j,P)),W=Te(Pe=>Ioe(Pe,k,j,P)),se=de,me=ele(),ve=(n=i??z)!==null&&n!==void 0?n:!1,[De,H]=JL([se,ve]),re=k==="axis"?Ee:void 0;_le(k,j,W,re,L,ve);var pe=U??me;if(pe==null||M==null||k==null)return null;var be=se??CM;ve||(be=CM),f&&be.length&&(be=YL(be.filter(Pe=>Pe.value!=null&&(Pe.hide!==!0||r.includeHidden)),y,Tle));var je=be.length>0,le=S.createElement(gte,{allowEscapeViewBox:a,animationDuration:l,animationEasing:c,isAnimationActive:m,active:ve,coordinate:W,hasPayload:je,offset:p,position:x,reverseDirection:w,useTranslate3d:E,viewBox:M,wrapperStyle:A,lastBoundingBox:De,innerRef:H,hasPortalFromProps:!!U},Sle(d,AM(AM({},r),{},{payload:be,label:re,active:ve,activeIndex:L,coordinate:W,accessibilityLayer:B})));return S.createElement(S.Fragment,null,oS.createPortal(le,pe),ve&&S.createElement(Joe,{cursor:O,tooltipEventType:k,coordinate:W,payload:be,index:L}))}var Ym=t=>null;Ym.displayName="Cell";function Cle(t,e,n){return(e=Ile(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ile(t){var e=Ole(t,"string");return typeof e=="symbol"?e:e+""}function Ole(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Nle{constructor(e){Cle(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function IM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ple(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IM(Object(n),!0).forEach(function(r){Rle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rle(t,e,n){return(e=Dle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dle(t){var e=kle(t,"string");return typeof e=="symbol"?e:e+""}function kle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mle={cacheSize:2e3,enableCache:!0},uB=Ple({},Mle),OM=new Nle(uB.cacheSize),jle={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},NM="recharts_measurement_span";function Vle(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",l=e.letterSpacing||"",c=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(l,"|").concat(c)}var PM=(t,e)=>{try{var n=document.getElementById(NM);n||(n=document.createElement("span"),n.setAttribute("id",NM),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,jle,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Ih=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Pm.isSsr)return{width:0,height:0};if(!uB.enableCache)return PM(e,n);var r=Vle(e,n),i=OM.get(r);if(i)return i;var a=PM(e,n);return OM.set(r,a),a},RM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,DM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Lle=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,zle=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,dB={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Ble=Object.keys(dB),Vu="NaN";function Ule(t,e){return t*dB[e]}class Vr{static parse(e){var n,[,r,i]=(n=zle.exec(e))!==null&&n!==void 0?n:[];return new Vr(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,na(e)&&(this.unit=""),n!==""&&!Lle.test(n)&&(this.num=NaN,this.unit=""),Ble.includes(n)&&(this.num=Ule(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Vr(NaN,""):new Vr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Vr(NaN,""):new Vr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Vr(NaN,""):new Vr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Vr(NaN,""):new Vr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return na(this.num)}}function fB(t){if(t.includes(Vu))return Vu;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,a]=(n=RM.exec(e))!==null&&n!==void 0?n:[],l=Vr.parse(r??""),c=Vr.parse(a??""),d=i==="*"?l.multiply(c):l.divide(c);if(d.isNaN())return Vu;e=e.replace(RM,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,[,m,p,y]=(f=DM.exec(e))!==null&&f!==void 0?f:[],x=Vr.parse(m??""),w=Vr.parse(y??""),E=p==="+"?x.add(w):x.subtract(w);if(E.isNaN())return Vu;e=e.replace(DM,E.toString())}return e}var kM=/\(([^()]*)\)/;function Fle(t){for(var e=t,n;(n=kM.exec(e))!=null;){var[,r]=n;e=e.replace(kM,fB(r))}return e}function qle(t){var e=t.replace(/\s+/g,"");return e=Fle(e),e=fB(e),e}function $le(t){try{return qle(t)}catch{return Vu}}function H1(t){var e=$le(t.slice(5,-1));return e===Vu?"":e}var Hle=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Kle=["dx","dy","angle","className","breakAll"];function $E(){return $E=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$E.apply(null,arguments)}function MM(t,e){if(t==null)return{};var n,r,i=Gle(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Gle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var hB=/[ \f\n\r\t\v\u2028\u2029]+/,mB=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];Yt(e)||(n?i=e.toString().split(""):i=e.toString().split(hB));var a=i.map(c=>({word:c,width:Ih(c,r).width})),l=n?0:Ih("",r).width;return{wordsWithComputedWidth:a,spaceWidth:l}}catch{return null}};function Yle(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var pB=(t,e,n,r)=>t.reduce((i,a)=>{var{word:l,width:c}=a,d=i[i.length-1];if(d&&c!=null&&(e==null||r||d.width+c+n<Number(e)))d.words.push(l),d.width+=c+n;else{var f={words:[l],width:c};i.push(f)}return i},[]),gB=t=>t.reduce((e,n)=>e.width>n.width?e:n),Wle="",jM=(t,e,n,r,i,a,l,c)=>{var d=t.slice(0,e),f=mB({breakAll:n,style:r,children:d+Wle});if(!f)return[!1,[]];var m=pB(f.wordsWithComputedWidth,a,l,c),p=m.length>i||gB(m).width>Number(a);return[p,m]},Xle=(t,e,n,r,i)=>{var{maxLines:a,children:l,style:c,breakAll:d}=t,f=Ne(a),m=String(l),p=pB(e,r,n,i);if(!f||i)return p;var y=p.length>a||gB(p).width>Number(r);if(!y)return p;for(var x=0,w=m.length-1,E=0,A;x<=w&&E<=m.length-1;){var O=Math.floor((x+w)/2),D=O-1,[j,q]=jM(m,D,d,c,a,r,n,i),[U]=jM(m,O,d,c,a,r,n,i);if(!j&&!U&&(x=O+1),j&&U&&(w=O-1),!j&&U){A=q;break}E++}return A||p},VM=t=>{var e=Yt(t)?[]:t.toString().split(hB);return[{words:e,width:void 0}]},Qle=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:l}=t;if((e||n)&&!Pm.isSsr){var c,d,f=mB({breakAll:a,children:r,style:i});if(f){var{wordsWithComputedWidth:m,spaceWidth:p}=f;c=m,d=p}else return VM(r);return Xle({breakAll:a,children:r,maxLines:l,style:i},c,d,e,!!n)}return VM(r)},vB="#808080",Zle={angle:0,breakAll:!1,capHeight:"0.71em",fill:vB,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},eb=S.forwardRef((t,e)=>{var n=Nn(t,Zle),{x:r,y:i,lineHeight:a,capHeight:l,fill:c,scaleToFit:d,textAnchor:f,verticalAnchor:m}=n,p=MM(n,Hle),y=S.useMemo(()=>Qle({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:d,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,d,p.style,p.width]),{dx:x,dy:w,angle:E,className:A,breakAll:O}=p,D=MM(p,Kle);if(!za(r)||!za(i)||y.length===0)return null;var j=Number(r)+(Ne(x)?x:0),q=Number(i)+(Ne(w)?w:0);if(!dn(j)||!dn(q))return null;var U;switch(m){case"start":U=H1("calc(".concat(l,")"));break;case"middle":U=H1("calc(".concat((y.length-1)/2," * -").concat(a," + (").concat(l," / 2))"));break;default:U=H1("calc(".concat(y.length-1," * -").concat(a,")"));break}var F=[];if(d){var N=y[0].width,{width:P}=p;F.push("scale(".concat(Ne(P)&&Ne(N)?P/N:1,")"))}return E&&F.push("rotate(".concat(E,", ").concat(j,", ").concat(q,")")),F.length&&(D.transform=F.join(" ")),S.createElement("text",$E({},Cr(D),{ref:e,x:j,y:q,className:Ce("recharts-text",A),textAnchor:f,fill:c.includes("url")?vB:c}),y.map((M,B)=>{var k=M.words.join(O?"":" ");return S.createElement("tspan",{x:j,dy:B===0?U:a,key:"".concat(k,"-").concat(B)},k)}))});eb.displayName="Text";var Jle=["labelRef"];function ece(t,e){if(t==null)return{};var n,r,i=tce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function tce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function LM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function un(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LM(Object(n),!0).forEach(function(r){nce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nce(t,e,n){return(e=rce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rce(t){var e=ice(t,"string");return typeof e=="symbol"?e:e+""}function ice(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function us(){return us=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},us.apply(null,arguments)}var yB=S.createContext(null),ace=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:l,children:c}=t,d=S.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:l}),[e,n,r,i,a,l]);return S.createElement(yB.Provider,{value:d},c)},bB=()=>{var t=S.useContext(yB),e=R0();return t||L6(e)},sce=S.createContext(null),oce=()=>{var t=S.useContext(sce),e=Te(uz);return t||e},lce=t=>{var{value:e,formatter:n}=t,r=Yt(t.children)?e:t.children;return typeof n=="function"?n(r):r},$A=t=>t!=null&&typeof t=="function",cce=(t,e)=>{var n=Xn(e-t),r=Math.min(Math.abs(e-t),360);return n*r},uce=(t,e,n,r,i)=>{var{offset:a,className:l}=t,{cx:c,cy:d,innerRadius:f,outerRadius:m,startAngle:p,endAngle:y,clockWise:x}=i,w=(f+m)/2,E=cce(p,y),A=E>=0?1:-1,O,D;switch(e){case"insideStart":O=p+A*a,D=x;break;case"insideEnd":O=y-A*a,D=!x;break;case"end":O=y+A*a,D=x;break;default:throw new Error("Unsupported position ".concat(e))}D=E<=0?D:!D;var j=An(c,d,w,O),q=An(c,d,w,O+(D?1:-1)*359),U="M".concat(j.x,",").concat(j.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(D?0:1,`,
    `).concat(q.x,",").concat(q.y),F=Yt(t.id)?Gh("recharts-radial-line-"):t.id;return S.createElement("text",us({},r,{dominantBaseline:"central",className:Ce("recharts-radial-bar-label",l)}),S.createElement("defs",null,S.createElement("path",{id:F,d:U})),S.createElement("textPath",{xlinkHref:"#".concat(F)},n))},dce=(t,e,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:l,startAngle:c,endAngle:d}=t,f=(c+d)/2;if(n==="outside"){var{x:m,y:p}=An(r,i,l+e,f);return{x:m,y:p,textAnchor:m>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var y=(a+l)/2,{x,y:w}=An(r,i,y,f);return{x,y:w,textAnchor:"middle",verticalAnchor:"middle"}},HE=t=>"cx"in t&&Ne(t.cx),fce=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,a;n!=null&&!HE(n)&&(a=n);var{x:l,y:c,upperWidth:d,lowerWidth:f,height:m}=e,p=l,y=l+(d-f)/2,x=(p+y)/2,w=(d+f)/2,E=p+d/2,A=m>=0?1:-1,O=A*r,D=A>0?"end":"start",j=A>0?"start":"end",q=d>=0?1:-1,U=q*r,F=q>0?"end":"start",N=q>0?"start":"end";if(i==="top"){var P={x:p+d/2,y:c-O,textAnchor:"middle",verticalAnchor:D};return un(un({},P),a?{height:Math.max(c-a.y,0),width:d}:{})}if(i==="bottom"){var M={x:y+f/2,y:c+m+O,textAnchor:"middle",verticalAnchor:j};return un(un({},M),a?{height:Math.max(a.y+a.height-(c+m),0),width:f}:{})}if(i==="left"){var B={x:x-U,y:c+m/2,textAnchor:F,verticalAnchor:"middle"};return un(un({},B),a?{width:Math.max(B.x-a.x,0),height:m}:{})}if(i==="right"){var k={x:x+w+U,y:c+m/2,textAnchor:N,verticalAnchor:"middle"};return un(un({},k),a?{width:Math.max(a.x+a.width-k.x,0),height:m}:{})}var L=a?{width:w,height:m}:{};return i==="insideLeft"?un({x:x+U,y:c+m/2,textAnchor:N,verticalAnchor:"middle"},L):i==="insideRight"?un({x:x+w-U,y:c+m/2,textAnchor:F,verticalAnchor:"middle"},L):i==="insideTop"?un({x:p+d/2,y:c+O,textAnchor:"middle",verticalAnchor:j},L):i==="insideBottom"?un({x:y+f/2,y:c+m-O,textAnchor:"middle",verticalAnchor:D},L):i==="insideTopLeft"?un({x:p+U,y:c+O,textAnchor:N,verticalAnchor:j},L):i==="insideTopRight"?un({x:p+d-U,y:c+O,textAnchor:F,verticalAnchor:j},L):i==="insideBottomLeft"?un({x:y+U,y:c+m-O,textAnchor:N,verticalAnchor:D},L):i==="insideBottomRight"?un({x:y+f-U,y:c+m-O,textAnchor:F,verticalAnchor:D},L):i&&typeof i=="object"&&(Ne(i.x)||Ts(i.x))&&(Ne(i.y)||Ts(i.y))?un({x:l+pr(i.x,w),y:c+pr(i.y,m),textAnchor:"end",verticalAnchor:"end"},L):un({x:E,y:c+m/2,textAnchor:"middle",verticalAnchor:"middle"},L)},hce={angle:0,offset:5,zIndex:Cn.label,position:"middle",textBreakAll:!1};function Ao(t){var e=Nn(t,hce),{viewBox:n,position:r,value:i,children:a,content:l,className:c="",textBreakAll:d,labelRef:f}=e,m=oce(),p=bB(),y=r==="center"?p:m??p,x,w,E;if(n==null?x=y:HE(n)?x=n:x=L6(n),!x||Yt(i)&&Yt(a)&&!S.isValidElement(l)&&typeof l!="function")return null;var A=un(un({},e),{},{viewBox:x});if(S.isValidElement(l)){var{labelRef:O}=A,D=ece(A,Jle);return S.cloneElement(l,D)}if(typeof l=="function"){if(w=S.createElement(l,A),S.isValidElement(w))return w}else w=lce(e);var j=Cr(e);if(HE(x)){if(r==="insideStart"||r==="insideEnd"||r==="end")return uce(e,r,w,j,x);E=dce(x,e.offset,e.position)}else E=fce(e,x);return S.createElement(Ur,{zIndex:e.zIndex},S.createElement(eb,us({ref:f,className:Ce("recharts-label",c)},j,E,{textAnchor:Yle(j.textAnchor)?j.textAnchor:E.textAnchor,breakAll:d}),w))}Ao.displayName="Label";var mce=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?S.createElement(Ao,us({key:"label-implicit"},r)):za(t)?S.createElement(Ao,us({key:"label-implicit",value:t},r)):S.isValidElement(t)?t.type===Ao?S.cloneElement(t,un({key:"label-implicit"},r)):S.createElement(Ao,us({key:"label-implicit",content:t},r)):$A(t)?S.createElement(Ao,us({key:"label-implicit",content:t},r)):t&&typeof t=="object"?S.createElement(Ao,us({},t,{key:"label-implicit"},r)):null};function pce(t){var{label:e,labelRef:n}=t,r=bB();return mce(e,r,n)||null}var K1={},G1={},zM;function gce(){return zM||(zM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(G1)),G1}var Y1={},BM;function vce(){return BM||(BM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(Y1)),Y1}var UM;function yce(){return UM||(UM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gce(),n=vce(),r=gS();function i(a){if(r.isArrayLike(a))return e.last(n.toArray(a))}t.last=i})(K1)),K1}var W1,FM;function bce(){return FM||(FM=1,W1=yce().last),W1}var _ce=bce();const xce=Fa(_ce);var wce=["valueAccessor"],Ece=["dataKey","clockWise","id","textBreakAll","zIndex"];function Dy(){return Dy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dy.apply(null,arguments)}function qM(t,e){if(t==null)return{};var n,r,i=Tce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Tce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Sce=t=>Array.isArray(t.value)?xce(t.value):t.value,_B=S.createContext(void 0),xB=_B.Provider,wB=S.createContext(void 0),Ace=wB.Provider;function Cce(){return S.useContext(_B)}function Ice(){return S.useContext(wB)}function vv(t){var{valueAccessor:e=Sce}=t,n=qM(t,wce),{dataKey:r,clockWise:i,id:a,textBreakAll:l,zIndex:c}=n,d=qM(n,Ece),f=Cce(),m=Ice(),p=f||m;return!p||!p.length?null:S.createElement(Ur,{zIndex:c??Cn.label},S.createElement(Qn,{className:"recharts-label-list"},p.map((y,x)=>{var w,E=Yt(r)?e(y,x):Dt(y&&y.payload,r),A=Yt(a)?{}:{id:"".concat(a,"-").concat(x)};return S.createElement(Ao,Dy({key:"label-".concat(x)},Cr(y),d,A,{fill:(w=n.fill)!==null&&w!==void 0?w:y.fill,parentViewBox:y.parentViewBox,value:E,textBreakAll:l,viewBox:y.viewBox,index:x,zIndex:0}))})))}vv.displayName="LabelList";function HA(t){var{label:e}=t;return e?e===!0?S.createElement(vv,{key:"labelList-implicit"}):S.isValidElement(e)||$A(e)?S.createElement(vv,{key:"labelList-implicit",content:e}):typeof e=="object"?S.createElement(vv,Dy({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function KE(){return KE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},KE.apply(null,arguments)}var EB=t=>{var{cx:e,cy:n,r,className:i}=t,a=Ce("recharts-dot",i);return Ne(e)&&Ne(n)&&Ne(r)?S.createElement("circle",KE({},si(t),pS(t),{className:a,cx:e,cy:n,r})):null},TB=t=>t.graphicalItems.polarItems,Oce=J([Xt,zm],hA),tb=J([TB,Zt,Oce],mA),Nce=J([tb],pA),nb=J([Nce,nA],gA),Pce=J([nb,Zt,tb],yA);J([nb,Zt,tb],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var a,l=Dt(r,(a=e.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:Dt(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]})));var $M=()=>{},Rce=J([nb,Zt,tb,Q0,Xt],wA),Dce=J([Zt,_A,xA,$M,Rce,$M,dt,Xt],EA),SB=J([Zt,dt,nb,Pce,Lm,Xt,Dce],TA),kce=J([SB,Zt,Ld],CA);J([Zt,SB,kce,Xt],OA);var Mce={radiusAxis:{},angleAxis:{}},AB=Br({name:"polarAxis",initialState:Mce,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:ige,removeRadiusAxis:age,addAngleAxis:sge,removeAngleAxis:oge}=AB.actions,jce=AB.reducer;function HM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HM(Object(n),!0).forEach(function(r){Vce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vce(t,e,n){return(e=Lce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lce(t){var e=zce(t,"string");return typeof e=="symbol"?e:e+""}function zce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bce=(t,e)=>e,KA=J([TB,Bce],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),Uce=[],GA=(t,e,n)=>(n==null?void 0:n.length)===0?Uce:n,CB=J([nA,KA,GA],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var i;if((e==null?void 0:e.data)!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(a=>KM(KM({},e.presentationProps),a.props))),i!=null)return i}}),Fce=J([CB,KA,GA],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,i)=>{var a,l=Dt(r,e.nameKey,e.name),c;return n!=null&&(a=n[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?c=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?c=r.fill:c=e.fill,{value:Rd(l,e.dataKey),color:c,payload:r,type:e.legendType}})}),qce=J([CB,KA,GA,Ln],(t,e,n,r)=>{if(!(e==null||t==null))return $ue({offset:r,pieSettings:e,displayedData:t,cells:n})}),X1={exports:{}},Nt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GM;function $ce(){if(GM)return Nt;GM=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),x=Symbol.for("react.client.reference");function w(E){if(typeof E=="object"&&E!==null){var A=E.$$typeof;switch(A){case t:switch(E=E.type,E){case n:case i:case r:case d:case f:case y:return E;default:switch(E=E&&E.$$typeof,E){case l:case c:case p:case m:return E;case a:return E;default:return A}}case e:return A}}}return Nt.ContextConsumer=a,Nt.ContextProvider=l,Nt.Element=t,Nt.ForwardRef=c,Nt.Fragment=n,Nt.Lazy=p,Nt.Memo=m,Nt.Portal=e,Nt.Profiler=i,Nt.StrictMode=r,Nt.Suspense=d,Nt.SuspenseList=f,Nt.isContextConsumer=function(E){return w(E)===a},Nt.isContextProvider=function(E){return w(E)===l},Nt.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===t},Nt.isForwardRef=function(E){return w(E)===c},Nt.isFragment=function(E){return w(E)===n},Nt.isLazy=function(E){return w(E)===p},Nt.isMemo=function(E){return w(E)===m},Nt.isPortal=function(E){return w(E)===e},Nt.isProfiler=function(E){return w(E)===i},Nt.isStrictMode=function(E){return w(E)===r},Nt.isSuspense=function(E){return w(E)===d},Nt.isSuspenseList=function(E){return w(E)===f},Nt.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===n||E===i||E===r||E===d||E===f||typeof E=="object"&&E!==null&&(E.$$typeof===p||E.$$typeof===m||E.$$typeof===l||E.$$typeof===a||E.$$typeof===c||E.$$typeof===x||E.getModuleId!==void 0)},Nt.typeOf=w,Nt}var YM;function Hce(){return YM||(YM=1,X1.exports=$ce()),X1.exports}var Kce=Hce(),WM=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",XM=null,Q1=null,IB=t=>{if(t===XM&&Array.isArray(Q1))return Q1;var e=[];return S.Children.forEach(t,n=>{Yt(n)||(Kce.isFragment(n)?e=e.concat(IB(n.props.children)):e.push(n))}),Q1=e,XM=t,e};function YA(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>WM(i)):r=[WM(e)],IB(t).forEach(i=>{var a=vc(i,"type.displayName")||vc(i,"type.name");a&&r.indexOf(a)!==-1&&n.push(i)}),n}var OB=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,Z1={},QM;function Gce(){return QM||(QM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(Z1)),Z1}var J1,ZM;function Yce(){return ZM||(ZM=1,J1=Gce().isPlainObject),J1}var Wce=Yce();const Xce=Fa(Wce);function JM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ej(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JM(Object(n),!0).forEach(function(r){Qce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qce(t,e,n){return(e=Zce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zce(t){var e=Jce(t,"string");return typeof e=="symbol"?e:e+""}function Jce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ky(){return ky=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ky.apply(null,arguments)}var tj=(t,e,n,r,i)=>{var a=n-r,l;return l="M ".concat(t,",").concat(e),l+="L ".concat(t+n,",").concat(e),l+="L ".concat(t+n-a/2,",").concat(e+i),l+="L ".concat(t+n-a/2-r,",").concat(e+i),l+="L ".concat(t,",").concat(e," Z"),l},eue={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},tue=t=>{var e=Nn(t,eue),{x:n,y:r,upperWidth:i,lowerWidth:a,height:l,className:c}=e,{animationEasing:d,animationDuration:f,animationBegin:m,isUpdateAnimationActive:p}=e,y=S.useRef(null),[x,w]=S.useState(-1),E=S.useRef(i),A=S.useRef(a),O=S.useRef(l),D=S.useRef(n),j=S.useRef(r),q=Dm(t,"trapezoid-");if(S.useEffect(()=>{if(y.current&&y.current.getTotalLength)try{var de=y.current.getTotalLength();de&&w(de)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||l!==+l||i===0&&a===0||l===0)return null;var U=Ce("recharts-trapezoid",c);if(!p)return S.createElement("g",null,S.createElement("path",ky({},Cr(e),{className:U,d:tj(n,r,i,a,l)})));var F=E.current,N=A.current,P=O.current,M=D.current,B=j.current,k="0px ".concat(x===-1?1:x,"px"),L="".concat(x,"px 0px"),z=Z6(["strokeDasharray"],f,d);return S.createElement(Rm,{animationId:q,key:q,canBegin:x>0,duration:f,easing:d,isActive:p,begin:m},de=>{var Ee=Kt(F,i,de),W=Kt(N,a,de),se=Kt(P,l,de),me=Kt(M,n,de),ve=Kt(B,r,de);y.current&&(E.current=Ee,A.current=W,O.current=se,D.current=me,j.current=ve);var De=de>0?{transition:z,strokeDasharray:L}:{strokeDasharray:k};return S.createElement("path",ky({},Cr(e),{className:U,d:tj(me,ve,Ee,W,se),ref:y,style:ej(ej({},De),e.style)}))})},nue=["option","shapeType","propTransformer","activeClassName"];function rue(t,e){if(t==null)return{};var n,r,i=iue(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function iue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function nj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function My(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nj(Object(n),!0).forEach(function(r){aue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aue(t,e,n){return(e=sue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sue(t){var e=oue(t,"string");return typeof e=="symbol"?e:e+""}function oue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lue(t,e){return My(My({},e),t)}function cue(t,e){return t==="symbols"}function rj(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return S.createElement(n5,n);case"trapezoid":return S.createElement(tue,n);case"sector":return S.createElement(s5,n);case"symbols":if(cue(e))return S.createElement(mS,n);break;case"curve":return S.createElement(RS,n);default:return null}}function uue(t){return S.isValidElement(t)?t.props:t}function WA(t){var{option:e,shapeType:n,propTransformer:r=lue,activeClassName:i="recharts-active-shape"}=t,a=rue(t,nue),l;if(S.isValidElement(e))l=S.cloneElement(e,My(My({},a),uue(e)));else if(typeof e=="function")l=e(a,a.index);else if(Xce(e)&&typeof e!="boolean"){var c=r(e,a);l=S.createElement(rj,{shapeType:n,elementProps:c})}else{var d=a;l=S.createElement(rj,{shapeType:n,elementProps:d})}return a.isActive?S.createElement(Qn,{className:i},l):l}var XA=(t,e,n)=>{var r=Vt();return(i,a)=>l=>{t==null||t(i,a,l),r(Uz({activeIndex:String(a),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},QA=t=>{var e=Vt();return(n,r)=>i=>{t==null||t(n,r,i),e(wse())}},ZA=(t,e,n)=>{var r=Vt();return(i,a)=>l=>{t==null||t(i,a,l),r(Ese({activeIndex:String(a),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function JA(t){var{tooltipEntrySettings:e}=t,n=Vt(),r=gr(),i=S.useRef(null);return S.useLayoutEffect(()=>{r||(i.current===null?n(yse(e)):i.current!==e&&n(bse({prev:i.current,next:e})),i.current=e)},[e,n,r]),S.useLayoutEffect(()=>()=>{i.current&&(n(_se(i.current)),i.current=null)},[n]),null}function NB(t){var{legendPayload:e}=t,n=Vt(),r=gr(),i=S.useRef(null);return S.useLayoutEffect(()=>{r||(i.current===null?n(G6(e)):i.current!==e&&n(Y6({prev:i.current,next:e})),i.current=e)},[n,r,e]),S.useLayoutEffect(()=>()=>{i.current&&(n(W6(i.current)),i.current=null)},[n]),null}function due(t){var{legendPayload:e}=t,n=Vt(),r=Te(dt),i=S.useRef(null);return S.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?n(G6(e)):i.current!==e&&n(Y6({prev:i.current,next:e})),i.current=e)},[n,r,e]),S.useLayoutEffect(()=>()=>{i.current&&(n(W6(i.current)),i.current=null)},[n]),null}var ew,fue=()=>{var[t]=S.useState(()=>Gh("uid-"));return t},hue=(ew=J9.useId)!==null&&ew!==void 0?ew:fue;function PB(t,e){var n=hue();return e||(t?"".concat(t,"-").concat(n):n)}var mue=S.createContext(void 0),eC=t=>{var{id:e,type:n,children:r}=t,i=PB("recharts-".concat(n),e);return S.createElement(mue.Provider,{value:i},r(i))},pue={cartesianItems:[],polarItems:[]},RB=Br({name:"graphicalItems",initialState:pue,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:$t()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ea(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:$t()},removeCartesianGraphicalItem:{reducer(t,e){var n=ea(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:$t()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:$t()},removePolarGraphicalItem:{reducer(t,e){var n=ea(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:$t()}}}),{addCartesianGraphicalItem:gue,replaceCartesianGraphicalItem:vue,removeCartesianGraphicalItem:yue,addPolarGraphicalItem:bue,removePolarGraphicalItem:_ue}=RB.actions,xue=RB.reducer,wue=t=>{var e=Vt(),n=S.useRef(null);return S.useLayoutEffect(()=>{n.current===null?e(gue(t)):n.current!==t&&e(vue({prev:n.current,next:t})),n.current=t},[e,t]),S.useLayoutEffect(()=>()=>{n.current&&(e(yue(n.current)),n.current=null)},[e]),null},DB=S.memo(wue);function Eue(t){var e=Vt();return S.useLayoutEffect(()=>(e(bue(t)),()=>{e(_ue(t))}),[e,t]),null}var Tue=["key"],Sue=["onMouseEnter","onClick","onMouseLeave"],Aue=["id"],Cue=["id"];function ij(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ij(Object(n),!0).forEach(function(r){Iue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ij(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Iue(t,e,n){return(e=Oue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oue(t){var e=Nue(t,"string");return typeof e=="symbol"?e:e+""}function Nue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jo(){return Jo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jo.apply(null,arguments)}function rb(t,e){if(t==null)return{};var n,r,i=Pue(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Pue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Rue(t){var e=S.useMemo(()=>YA(t.children,Ym),[t.children]),n=Te(r=>Fce(r,t.id,e));return n==null?null:S.createElement(due,{legendPayload:n})}var Due=S.memo(t=>{var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:a,fill:l,name:c,hide:d,tooltipType:f}=t,m={dataDefinedOnItem:r.map(p=>p.tooltipPayload),positions:r.map(p=>p.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:l,dataKey:e,nameKey:n,name:Rd(c,e),hide:d,type:f,color:l,unit:""}};return S.createElement(JA,{tooltipEntrySettings:m})}),kue=(t,e)=>t>e?"start":t<e?"end":"middle",Mue=(t,e,n)=>pr(typeof e=="function"?e(t):e,n,n*.8),jue=(t,e,n)=>{var{top:r,left:i,width:a,height:l}=e,c=r5(a,l),d=i+pr(t.cx,a,a/2),f=r+pr(t.cy,l,l/2),m=pr(t.innerRadius,c,0),p=Mue(n,t.outerRadius,c),y=t.maxRadius||Math.sqrt(a*a+l*l)/2;return{cx:d,cy:f,innerRadius:m,outerRadius:p,maxRadius:y}},Vue=(t,e)=>{var n=Xn(e-t),r=Math.min(Math.abs(e-t),360);return n*r};function Lue(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var zue=(t,e)=>{if(S.isValidElement(t))return S.cloneElement(t,e);if(typeof t=="function")return t(e);var n=Ce("recharts-pie-label-line",typeof t!="boolean"?t.className:""),{key:r}=e,i=rb(e,Tue);return S.createElement(RS,Jo({},i,{type:"linear",className:n}))},Bue=(t,e,n)=>{if(S.isValidElement(t))return S.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),S.isValidElement(r)))return r;var i=Ce("recharts-pie-label-text",Lue(t));return S.createElement(eb,Jo({},e,{alignmentBaseline:"middle",className:i}),r)};function Uue(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:a,dataKey:l}=n;if(!r||!i||!e)return null;var c=si(n),d=gc(i),f=gc(a),m=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,p=e.map((y,x)=>{var w=(y.startAngle+y.endAngle)/2,E=An(y.cx,y.cy,y.outerRadius+m,w),A=tn(tn(tn(tn({},c),y),{},{stroke:"none"},d),{},{index:x,textAnchor:kue(E.x,y.cx)},E),O=tn(tn(tn(tn({},c),y),{},{fill:"none",stroke:y.fill},f),{},{index:x,points:[An(y.cx,y.cy,y.outerRadius,w),E],key:"line"});return S.createElement(Ur,{zIndex:Cn.label,key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(x)},S.createElement(Qn,null,a&&zue(a,O),Bue(i,A,Dt(y,l))))});return S.createElement(Qn,{className:"recharts-pie-labels"},p)}function Fue(t){var{sectors:e,props:n,showLabels:r}=t,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?S.createElement(HA,{label:i}):S.createElement(Uue,{sectors:e,props:n,showLabels:r})}function que(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i,shape:a,id:l}=t,c=Te(Zo),d=Te(LA),f=Te(loe),{onMouseEnter:m,onClick:p,onMouseLeave:y}=i,x=rb(i,Sue),w=XA(m,i.dataKey,l),E=QA(y),A=ZA(p,i.dataKey,l);return e==null||e.length===0?null:S.createElement(S.Fragment,null,e.map((O,D)=>{if((O==null?void 0:O.startAngle)===0&&(O==null?void 0:O.endAngle)===0&&e.length!==1)return null;var j=f==null||f===l,q=String(D)===c&&(d==null||i.dataKey===d)&&j,U=c?r:null,F=n&&q?n:U,N=tn(tn({},O),{},{stroke:O.stroke,tabIndex:-1,[D6]:D,[k6]:i.dataKey});return S.createElement(Qn,Jo({key:"sector-".concat(O==null?void 0:O.startAngle,"-").concat(O==null?void 0:O.endAngle,"-").concat(O.midAngle,"-").concat(D),tabIndex:-1,className:"recharts-pie-sector"},Tm(x,O,D),{onMouseEnter:w(O,D),onMouseLeave:E(O,D),onClick:A(O,D)}),S.createElement(WA,Jo({option:a??F,index:D,shapeType:"sector",isActive:q},N)))}))}function $ue(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:a}=t,{cornerRadius:l,startAngle:c,endAngle:d,dataKey:f,nameKey:m,tooltipType:p}=n,y=Math.abs(n.minAngle),x=Vue(c,d),w=Math.abs(x),E=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,A=r.filter(F=>Dt(F,f,0)!==0).length,O=(w>=360?A:A-1)*E,D=w-A*y-O,j=r.reduce((F,N)=>{var P=Dt(N,f,0);return F+(Ne(P)?P:0)},0),q;if(j>0){var U;q=r.map((F,N)=>{var P=Dt(F,f,0),M=Dt(F,m,N),B=jue(n,a,F),k=(Ne(P)?P:0)/j,L,z=tn(tn({},F),i&&i[N]&&i[N].props);N?L=U.endAngle+Xn(x)*E*(P!==0?1:0):L=c;var de=L+Xn(x)*((P!==0?y:0)+k*D),Ee=(L+de)/2,W=(B.innerRadius+B.outerRadius)/2,se=[{name:M,value:P,payload:z,dataKey:f,type:p}],me=An(B.cx,B.cy,W,Ee);return U=tn(tn(tn(tn({},n.presentationProps),{},{percent:k,cornerRadius:typeof l=="string"?parseFloat(l):l,name:M,tooltipPayload:se,midAngle:Ee,middleRadius:W,tooltipPosition:me},z),B),{},{value:P,dataKey:f,startAngle:L,endAngle:de,payload:z,paddingAngle:Xn(x)*E}),U})}return q}function Hue(t){var{showLabels:e,sectors:n,children:r}=t,i=S.useMemo(()=>!e||!n?[]:n.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[n,e]);return S.createElement(Ace,{value:e?i:void 0},r)}function Kue(t){var{props:e,previousSectorsRef:n,id:r}=t,{sectors:i,isAnimationActive:a,animationBegin:l,animationDuration:c,animationEasing:d,activeShape:f,inactiveShape:m,onAnimationStart:p,onAnimationEnd:y}=e,x=Dm(e,"recharts-pie-"),w=n.current,[E,A]=S.useState(!1),O=S.useCallback(()=>{typeof y=="function"&&y(),A(!1)},[y]),D=S.useCallback(()=>{typeof p=="function"&&p(),A(!0)},[p]);return S.createElement(Hue,{showLabels:!E,sectors:i},S.createElement(Rm,{animationId:x,begin:l,duration:c,isActive:a,easing:d,onAnimationStart:D,onAnimationEnd:O,key:x},j=>{var q=[],U=i&&i[0],F=U==null?void 0:U.startAngle;return i==null||i.forEach((N,P)=>{var M=w&&w[P],B=P>0?vc(N,"paddingAngle",0):0;if(M){var k=Kt(M.endAngle-M.startAngle,N.endAngle-N.startAngle,j),L=tn(tn({},N),{},{startAngle:F+B,endAngle:F+k+B});q.push(L),F=L.endAngle}else{var{endAngle:z,startAngle:de}=N,Ee=Kt(0,z-de,j),W=tn(tn({},N),{},{startAngle:F+B,endAngle:F+Ee+B});q.push(W),F=W.endAngle}}),n.current=q,S.createElement(Qn,null,S.createElement(que,{sectors:q,activeShape:f,inactiveShape:m,allOtherPieProps:e,shape:e.shape,id:r}))}),S.createElement(Fue,{showLabels:!E,sectors:i,props:e}),e.children)}var Gue={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Cn.area};function Yue(t){var{id:e}=t,n=rb(t,Aue),{hide:r,className:i,rootTabIndex:a}=t,l=S.useMemo(()=>YA(t.children,Ym),[t.children]),c=Te(m=>qce(m,e,l)),d=S.useRef(null),f=Ce("recharts-pie",i);return r||c==null?(d.current=null,S.createElement(Qn,{tabIndex:a,className:f})):S.createElement(Ur,{zIndex:t.zIndex},S.createElement(Due,{dataKey:t.dataKey,nameKey:t.nameKey,sectors:c,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType}),S.createElement(Qn,{tabIndex:a,className:f},S.createElement(Kue,{props:tn(tn({},n),{},{sectors:c}),previousSectorsRef:d,id:e})))}function kB(t){var e=Nn(t,Gue),{id:n}=e,r=rb(e,Cue),i=si(r);return S.createElement(eC,{id:n,type:"pie"},a=>S.createElement(S.Fragment,null,S.createElement(Eue,{type:"pie",id:a,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),S.createElement(Rue,Jo({},r,{id:a})),S.createElement(Yue,Jo({},r,{id:a}))))}kB.displayName="Pie";var Wue=["points"];function aj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aj(Object(n),!0).forEach(function(r){Xue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xue(t,e,n){return(e=Que(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Que(t){var e=Zue(t,"string");return typeof e=="symbol"?e:e+""}function Zue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jy(){return jy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jy.apply(null,arguments)}function Jue(t,e){if(t==null)return{};var n,r,i=ede(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ede(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function tde(t){var{option:e,dotProps:n,className:r}=t;if(S.isValidElement(e))return S.cloneElement(e,n);if(typeof e=="function")return e(n);var i=Ce(r,typeof e!="boolean"?e.className:""),a=n??{},{points:l}=a,c=Jue(a,Wue);return S.createElement(EB,jy({},c,{className:i}))}function nde(t,e){return t==null?!1:e?!0:t.length===1}function rde(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:l,needClip:c,clipPathId:d,zIndex:f=Cn.scatter}=t;if(!nde(e,n))return null;var m=OB(n),p=IX(n),y=e.map((w,E)=>{var A,O,D=tw(tw(tw({r:3},l),p),{},{index:E,cx:(A=w.x)!==null&&A!==void 0?A:void 0,cy:(O=w.y)!==null&&O!==void 0?O:void 0,dataKey:a,value:w.value,payload:w.payload,points:e});return S.createElement(tde,{key:"dot-".concat(E),option:n,dotProps:D,className:i})}),x={};return c&&d!=null&&(x.clipPath="url(#clipPath-".concat(m?"":"dots-").concat(d,")")),S.createElement(Ur,{zIndex:f},S.createElement(Qn,jy({className:r},x),y))}function sj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sj(Object(n),!0).forEach(function(r){ide(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ide(t,e,n){return(e=ade(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ade(t){var e=sde(t,"string");return typeof e=="symbol"?e:e+""}function sde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ode={xAxis:{},yAxis:{},zAxis:{}},MB=Br({name:"cartesianAxis",initialState:ode,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:$t()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:$t()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:$t()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:$t()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:$t()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:$t()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:$t()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:$t()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:$t()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var l=[...a,r].slice(-3);t.yAxis[n]=oj(oj({},t.yAxis[n]),{},{width:r,widthHistory:l})}}}}),{addXAxis:lde,replaceXAxis:cde,removeXAxis:ude,addYAxis:dde,replaceYAxis:fde,removeYAxis:hde,addZAxis:lge,replaceZAxis:cge,removeZAxis:uge,updateYAxisWidth:mde}=MB.actions,pde=MB.reducer,gde=J([Ln],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),vde=J([gde,Ds,ks],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),tC=()=>Te(vde),yde=()=>Te(hoe);function lj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lj(Object(n),!0).forEach(function(r){bde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bde(t,e,n){return(e=_de(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _de(t){var e=xde(t,"string");return typeof e=="symbol"?e:e+""}function xde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wde=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:l}=t;if(i===!1||e.x==null||e.y==null)return null;var c={index:n,dataKey:a,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},d=nw(nw(nw({},c),gc(i)),pS(i)),f;return S.isValidElement(i)?f=S.cloneElement(i,d):typeof i=="function"?f=i(d):f=S.createElement(EB,d),S.createElement(Qn,{className:"recharts-active-dot",clipPath:l},f)};function Ede(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:l=Cn.activeDot}=t,c=Te(Zo),d=yde();if(e==null||d==null)return null;var f=e.find(m=>d.includes(m.payload));return Yt(f)?null:S.createElement(Ur,{zIndex:l},S.createElement(wde,{point:f,childIndex:Number(c),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var Tde="Invariant failed";function Sde(t,e){throw new Error(Tde)}var Ade=["x","y"];function GE(){return GE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GE.apply(null,arguments)}function cj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ah(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cj(Object(n),!0).forEach(function(r){Cde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cde(t,e,n){return(e=Ide(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ide(t){var e=Ode(t,"string");return typeof e=="symbol"?e:e+""}function Ode(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nde(t,e){if(t==null)return{};var n,r,i=Pde(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Pde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Rde(t,e){var{x:n,y:r}=t,i=Nde(t,Ade),a="".concat(n),l=parseInt(a,10),c="".concat(r),d=parseInt(c,10),f="".concat(e.height||i.height),m=parseInt(f,10),p="".concat(e.width||i.width),y=parseInt(p,10);return ah(ah(ah(ah(ah({},e),i),l?{x:l}:{}),d?{y:d}:{}),{},{height:m,width:y,name:e.name,radius:e.radius})}function Vy(t){return S.createElement(WA,GE({shapeType:"rectangle",propTransformer:Rde,activeClassName:"recharts-active-bar"},t))}var Dde=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Ne(e))return e;var a=Ne(r)||Yt(r);return a?e(r,i):(a||Sde(),n)}},kde={},jB=Br({name:"errorBars",initialState:kde,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:dge,replaceErrorBar:fge,removeErrorBar:hge}=jB.actions,Mde=jB.reducer,jde=["children"];function Vde(t,e){if(t==null)return{};var n,r,i=Lde(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Lde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var zde={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Bde=S.createContext(zde);function VB(t){var{children:e}=t,n=Vde(t,jde);return S.createElement(Bde.Provider,{value:n},e)}function nC(t,e){var n,r,i=Te(f=>js(f,t)),a=Te(f=>Vs(f,e)),l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Hn.allowDataOverflow,c=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:Kn.allowDataOverflow,d=l||c;return{needClip:d,needClipX:l,needClipY:c}}function LB(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=tC(),{needClipX:a,needClipY:l,needClip:c}=nC(e,n);if(!c||!i)return null;var{x:d,y:f,width:m,height:p}=i;return S.createElement("clipPath",{id:"clipPath-".concat(r)},S.createElement("rect",{x:a?d:d-m/2,y:l?f:f-p/2,width:a?m:m*2,height:l?p:p*2}))}function Ude(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&dn(t.zIndex)?t.zIndex:e}var rw={exports:{}},iw={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uj;function Fde(){if(uj)return iw;uj=1;var t=Td();function e(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,l=t.useMemo,c=t.useDebugValue;return iw.useSyncExternalStoreWithSelector=function(d,f,m,p,y){var x=i(null);if(x.current===null){var w={hasValue:!1,value:null};x.current=w}else w=x.current;x=l(function(){function A(U){if(!O){if(O=!0,D=U,U=p(U),y!==void 0&&w.hasValue){var F=w.value;if(y(F,U))return j=F}return j=U}if(F=j,n(D,U))return F;var N=p(U);return y!==void 0&&y(F,N)?(D=U,F):(D=U,j=N)}var O=!1,D,j,q=m===void 0?null:m;return[function(){return A(f())},q===null?void 0:function(){return A(q())}]},[f,m,p,y]);var E=r(d,x[0],x[1]);return a(function(){w.hasValue=!0,w.value=E},[E]),c(E),E},iw}var dj;function qde(){return dj||(dj=1,rw.exports=Fde()),rw.exports}qde();function $de(t){t()}function Hde(){let t=null,e=null;return{clear(){t=null,e=null},notify(){$de(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var fj={notify(){},get:()=>[]};function Kde(t,e){let n,r=fj,i=0,a=!1;function l(E){m();const A=r.subscribe(E);let O=!1;return()=>{O||(O=!0,A(),p())}}function c(){r.notify()}function d(){w.onStateChange&&w.onStateChange()}function f(){return a}function m(){i++,n||(n=t.subscribe(d),r=Hde())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=fj)}function y(){a||(a=!0,m())}function x(){a&&(a=!1,p())}const w={addNestedSub:l,notifyNestedSubs:c,handleChangeWrapper:d,isSubscribed:f,trySubscribe:y,tryUnsubscribe:x,getListeners:()=>r};return w}var Gde=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Yde=Gde(),Wde=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Xde=Wde(),Qde=()=>Yde||Xde?S.useLayoutEffect:S.useEffect,Zde=Qde();function hj(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function Jde(t,e){if(hj(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!hj(t[n[i]],e[n[i]]))return!1;return!0}var aw=Symbol.for("react-redux-context"),sw=typeof globalThis<"u"?globalThis:{};function efe(){if(!S.createContext)return{};const t=sw[aw]??(sw[aw]=new Map);let e=t.get(S.createContext);return e||(e=S.createContext(null),t.set(S.createContext,e)),e}var tfe=efe();function nfe(t){const{children:e,context:n,serverState:r,store:i}=t,a=S.useMemo(()=>{const d=Kde(i);return{store:i,subscription:d,getServerState:r?()=>r:void 0}},[i,r]),l=S.useMemo(()=>i.getState(),[i]);Zde(()=>{const{subscription:d}=a;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==i.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[a,l]);const c=n||tfe;return S.createElement(c.Provider,{value:a},e)}var rfe=nfe,ife=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function afe(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function ib(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(ife.has(r)){if(t[r]==null&&e[r]==null)continue;if(!Jde(t[r],e[r]))return!1}else if(!afe(t[r],e[r]))return!1;return!0}var sfe=["onMouseEnter","onMouseLeave","onClick"],ofe=["value","background","tooltipPosition"],lfe=["id"],cfe=["onMouseEnter","onClick","onMouseLeave"];function Ns(){return Ns=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ns.apply(null,arguments)}function mj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mj(Object(n),!0).forEach(function(r){ufe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ufe(t,e,n){return(e=dfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dfe(t){var e=ffe(t,"string");return typeof e=="symbol"?e:e+""}function ffe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ly(t,e){if(t==null)return{};var n,r,i=hfe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function hfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var mfe=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:Rd(n,e),payload:t}]},pfe=S.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:a,hide:l,unit:c,tooltipType:d}=t,f={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:Rd(a,e),hide:l,type:d,color:i,unit:c}};return S.createElement(JA,{tooltipEntrySettings:f})});function gfe(t){var e=Te(Zo),{data:n,dataKey:r,background:i,allOtherBarProps:a}=t,{onMouseEnter:l,onMouseLeave:c,onClick:d}=a,f=Ly(a,sfe),m=XA(l,r),p=QA(c),y=ZA(d,r);if(!i||n==null)return null;var x=gc(i);return S.createElement(Ur,{zIndex:Ude(i,Cn.barBackground)},n.map((w,E)=>{var{value:A,background:O,tooltipPosition:D}=w,j=Ly(w,ofe);if(!O)return null;var q=m(w,E),U=p(w,E),F=y(w,E),N=xr(xr(xr(xr(xr({option:i,isActive:String(E)===e},j),{},{fill:"#eee"},O),x),Tm(f,w,E)),{},{onMouseEnter:q,onMouseLeave:U,onClick:F,dataKey:r,index:E,className:"recharts-bar-background-rectangle"});return S.createElement(Vy,Ns({key:"background-bar-".concat(E)},N))}))}function vfe(t){var{showLabels:e,children:n,rects:r}=t,i=r==null?void 0:r.map(a=>{var l={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return xr(xr({},l),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:l,fill:a.fill})});return S.createElement(xB,{value:e?i:void 0},n)}function yfe(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:a,dataKey:l}=t,c=Te(Zo),d=Te(LA),f=n&&String(a)===c&&(d==null||l===d),m=f?n:e;return f?S.createElement(Ur,{zIndex:Cn.activeBar},S.createElement(Vy,Ns({},r,{name:String(r.name)},i,{isActive:f,option:m,index:a,dataKey:l}))):S.createElement(Vy,Ns({},r,{name:String(r.name)},i,{isActive:f,option:m,index:a,dataKey:l}))}function bfe(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:a}=t;return S.createElement(Vy,Ns({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:a}))}function _fe(t){var e,{data:n,props:r}=t,i=(e=si(r))!==null&&e!==void 0?e:{},{id:a}=i,l=Ly(i,lfe),{shape:c,dataKey:d,activeBar:f}=r,{onMouseEnter:m,onClick:p,onMouseLeave:y}=r,x=Ly(r,cfe),w=XA(m,d),E=QA(y),A=ZA(p,d);return n?S.createElement(S.Fragment,null,n.map((O,D)=>S.createElement(Qn,Ns({key:"rectangle-".concat(O==null?void 0:O.x,"-").concat(O==null?void 0:O.y,"-").concat(O==null?void 0:O.value,"-").concat(D),className:"recharts-bar-rectangle"},Tm(x,O,D),{onMouseEnter:w(O,D),onMouseLeave:E(O,D),onClick:A(O,D)}),f?S.createElement(yfe,{shape:c,activeBar:f,baseProps:l,entry:O,index:D,dataKey:d}):S.createElement(bfe,{shape:c,baseProps:l,entry:O,index:D,dataKey:d})))):null}function xfe(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:a,animationBegin:l,animationDuration:c,animationEasing:d,onAnimationEnd:f,onAnimationStart:m}=e,p=n.current,y=Dm(e,"recharts-bar-"),[x,w]=S.useState(!1),E=!x,A=S.useCallback(()=>{typeof f=="function"&&f(),w(!1)},[f]),O=S.useCallback(()=>{typeof m=="function"&&m(),w(!0)},[m]);return S.createElement(vfe,{showLabels:E,rects:r},S.createElement(Rm,{animationId:y,begin:l,duration:c,isActive:a,easing:d,onAnimationEnd:A,onAnimationStart:O,key:y},D=>{var j=D===1?r:r==null?void 0:r.map((q,U)=>{var F=p&&p[U];if(F)return xr(xr({},q),{},{x:Kt(F.x,q.x,D),y:Kt(F.y,q.y,D),width:Kt(F.width,q.width,D),height:Kt(F.height,q.height,D)});if(i==="horizontal"){var N=Kt(0,q.height,D),P=Kt(q.stackedBarStart,q.y,D);return xr(xr({},q),{},{y:P,height:N})}var M=Kt(0,q.width,D),B=Kt(q.stackedBarStart,q.x,D);return xr(xr({},q),{},{width:M,x:B})});return D>0&&(n.current=j??null),j==null?null:S.createElement(Qn,null,S.createElement(_fe,{props:e,data:j}))}),S.createElement(HA,{label:e.label}),e.children)}function wfe(t){var e=S.useRef(null);return S.createElement(xfe,{previousRectanglesRef:e,props:t})}var zB=0,Efe=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:Dt(t,e)}};class Tfe extends S.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:a,yAxisId:l,needClip:c,background:d,id:f}=this.props;if(e||n==null)return null;var m=Ce("recharts-bar",i),p=f;return S.createElement(Qn,{className:m,id:f},c&&S.createElement("defs",null,S.createElement(LB,{clipPathId:p,xAxisId:a,yAxisId:l})),S.createElement(Qn,{className:"recharts-bar-rectangles",clipPath:c?"url(#clipPath-".concat(p,")"):void 0},S.createElement(gfe,{data:n,dataKey:r,background:d,allOtherBarProps:this.props}),S.createElement(wfe,this.props)))}}var Sfe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:zB,xAxisId:0,yAxisId:0,zIndex:Cn.bar};function Afe(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:l,animationBegin:c,animationDuration:d,animationEasing:f,isAnimationActive:m}=t,{needClip:p}=nC(e,n),y=Om(),x=gr(),w=YA(t.children,Ym),E=Te(D=>ehe(D,e,n,x,t.id,w));if(y!=="vertical"&&y!=="horizontal")return null;var A,O=E==null?void 0:E[0];return O==null||O.height==null||O.width==null?A=0:A=y==="vertical"?O.height/2:O.width/2,S.createElement(VB,{xAxisId:e,yAxisId:n,data:E,dataPointFormatter:Efe,errorBarOffset:A},S.createElement(Tfe,Ns({},t,{layout:y,needClip:p,data:E,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:l,animationBegin:c,animationDuration:d,animationEasing:f,isAnimationActive:m})))}function Cfe(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:l,yAxis:c,xAxisTicks:d,yAxisTicks:f,stackedData:m,displayedData:p,offset:y,cells:x,parentViewBox:w,dataStartIndex:E}=t,A=e==="horizontal"?c:l,O=m?A.scale.domain():null,D=WJ({numericAxis:A}),j=A.scale(D);return p.map((q,U)=>{var F,N,P,M,B,k;m?F=qJ(m[U+E],O):(F=Dt(q,n),Array.isArray(F)||(F=[D,F]));var L=Dde(r,zB)(F[1],U);if(e==="horizontal"){var z,[de,Ee]=[c.scale(F[0]),c.scale(F[1])];N=PD({axis:l,ticks:d,bandSize:a,offset:i.offset,entry:q,index:U}),P=(z=Ee??de)!==null&&z!==void 0?z:void 0,M=i.size;var W=de-Ee;if(B=na(W)?0:W,k={x:N,y:y.top,width:M,height:y.height},Math.abs(L)>0&&Math.abs(B)<Math.abs(L)){var se=Xn(B||L)*(Math.abs(L)-Math.abs(B));P-=se,B+=se}}else{var[me,ve]=[l.scale(F[0]),l.scale(F[1])];if(N=me,P=PD({axis:c,ticks:f,bandSize:a,offset:i.offset,entry:q,index:U}),M=ve-me,B=i.size,k={x:y.left,y:P,width:y.width,height:B},Math.abs(L)>0&&Math.abs(M)<Math.abs(L)){var De=Xn(M||L)*(Math.abs(L)-Math.abs(M));M+=De}}if(N==null||P==null||M==null||B==null)return null;var H=xr(xr({},q),{},{stackedBarStart:j,x:N,y:P,width:M,height:B,value:m?F:F[1],payload:q,background:k,tooltipPosition:{x:N+M/2,y:P+B/2},parentViewBox:w},x&&x[U]&&x[U].props);return H}).filter(Boolean)}function Ife(t){var e=Nn(t,Sfe),n=gr();return S.createElement(eC,{id:e.id,type:"bar"},r=>S.createElement(S.Fragment,null,S.createElement(NB,{legendPayload:mfe(e)}),S.createElement(pfe,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),S.createElement(DB,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:YJ(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),S.createElement(Ur,{zIndex:e.zIndex},S.createElement(Afe,Ns({},e,{id:r})))))}var BB=S.memo(Ife,ib);BB.displayName="Bar";function pj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pj(Object(n),!0).forEach(function(r){Ofe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ofe(t,e,n){return(e=Nfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nfe(t){var e=Pfe(t,"string");return typeof e=="symbol"?e:e+""}function Pfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rfe=(t,e)=>e,Dfe=(t,e,n)=>n,kfe=(t,e,n,r)=>r,Mfe=(t,e,n,r,i)=>i,Wm=J([W0,Mfe],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),jfe=J([Wm],t=>t==null?void 0:t.maxBarSize),Vfe=(t,e,n,r,i,a)=>a,gj=(t,e,n)=>{var r=n??t;if(!Yt(r))return pr(r,e,0)},Lfe=J([dt,W0,Rfe,Dfe,kfe],(t,e,n,r,i)=>e.filter(a=>t==="horizontal"?a.xAxisId===n:a.yAxisId===r).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),zfe=(t,e,n,r)=>{var i=dt(t);return i==="horizontal"?LE(t,"yAxis",n,r):LE(t,"xAxis",e,r)},Bfe=(t,e,n)=>{var r=dt(t);return r==="horizontal"?uM(t,"xAxis",e):uM(t,"yAxis",n)},Ufe=(t,e,n)=>{var r={},i=t.filter(K0),a=t.filter(f=>f.stackId==null),l=i.reduce((f,m)=>(f[m.stackId]||(f[m.stackId]=[]),f[m.stackId].push(m),f),r),c=Object.entries(l).map(f=>{var[m,p]=f,y=p.map(w=>w.dataKey),x=gj(e,n,p[0].barSize);return{stackId:m,dataKeys:y,barSize:x}}),d=a.map(f=>{var m=[f.dataKey].filter(y=>y!=null),p=gj(e,n,f.barSize);return{stackId:void 0,dataKeys:m,barSize:p}});return[...c,...d]},Ffe=J([Lfe,dae,Bfe],Ufe),qfe=(t,e,n,r,i)=>{var a,l,c=Wm(t,e,n,r,i);if(c!=null){var d=dt(t),f=nz(t),{maxBarSize:m}=c,p=Yt(m)?f:m,y,x;return d==="horizontal"?(y=Qo(t,"xAxis",e,r),x=Xo(t,"xAxis",e,r)):(y=Qo(t,"yAxis",n,r),x=Xo(t,"yAxis",n,r)),(a=(l=yd(y,x,!0))!==null&&l!==void 0?l:p)!==null&&a!==void 0?a:0}},UB=(t,e,n,r)=>{var i=dt(t),a,l;return i==="horizontal"?(a=Qo(t,"xAxis",e,r),l=Xo(t,"xAxis",e,r)):(a=Qo(t,"yAxis",n,r),l=Xo(t,"yAxis",n,r)),yd(a,l)};function $fe(t,e,n,r,i){var a=r.length;if(!(a<1)){var l=pr(t,n,0,!0),c,d=[];if(dn(r[0].barSize)){var f=!1,m=n/a,p=r.reduce((O,D)=>O+(D.barSize||0),0);p+=(a-1)*l,p>=n&&(p-=(a-1)*l,l=0),p>=n&&m>0&&(f=!0,m*=.9,p=a*m);var y=(n-p)/2>>0,x={offset:y-l,size:0};c=r.reduce((O,D)=>{var j,q={stackId:D.stackId,dataKeys:D.dataKeys,position:{offset:x.offset+x.size+l,size:f?m:(j=D.barSize)!==null&&j!==void 0?j:0}},U=[...O,q];return x=U[U.length-1].position,U},d)}else{var w=pr(e,n,0,!0);n-2*w-(a-1)*l<=0&&(l=0);var E=(n-2*w-(a-1)*l)/a;E>1&&(E>>=0);var A=dn(i)?Math.min(E,i):E;c=r.reduce((O,D,j)=>[...O,{stackId:D.stackId,dataKeys:D.dataKeys,position:{offset:w+(E+l)*j+(E-A)/2,size:A}}],d)}return c}}var Hfe=(t,e,n,r,i,a,l)=>{var c=Yt(l)?e:l,d=$fe(n,r,i!==a?i:a,t,c);return i!==a&&d!=null&&(d=d.map(f=>Yg(Yg({},f),{},{position:Yg(Yg({},f.position),{},{offset:f.position.offset-i/2})}))),d},Kfe=J([Ffe,nz,uae,rz,qfe,UB,jfe],Hfe),Gfe=(t,e,n,r)=>Qo(t,"xAxis",e,r),Yfe=(t,e,n,r)=>Qo(t,"yAxis",n,r),Wfe=(t,e,n,r)=>Xo(t,"xAxis",e,r),Xfe=(t,e,n,r)=>Xo(t,"yAxis",n,r),Qfe=J([Kfe,Wm],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),Zfe=(t,e)=>{var n=dA(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:a}=i;if(a)return a.find(l=>l.key===n)}}}},Jfe=J([zfe,Wm],Zfe),ehe=J([Ln,AS,Gfe,Yfe,Wfe,Xfe,Qfe,dt,q0,UB,Jfe,Wm,Vfe],(t,e,n,r,i,a,l,c,d,f,m,p,y)=>{var{chartData:x,dataStartIndex:w,dataEndIndex:E}=d;if(!(p==null||l==null||e==null||c!=="horizontal"&&c!=="vertical"||n==null||r==null||i==null||a==null||f==null)){var{data:A}=p,O;if(A!=null&&A.length>0?O=A:O=x==null?void 0:x.slice(w,E+1),O!=null)return Cfe({layout:c,barSettings:p,pos:l,parentViewBox:e,bandSize:f,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,stackedData:m,displayedData:O,offset:t,cells:y,dataStartIndex:w})}}),FB=t=>{var{chartData:e}=t,n=Vt(),r=gr();return S.useEffect(()=>r?()=>{}:(n(EM(e)),()=>{n(EM(void 0))}),[e,n,r]),null},vj={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},qB=Br({name:"brush",initialState:vj,reducers:{setBrushSettings(t,e){return e.payload==null?vj:e.payload}}}),{setBrushSettings:mge}=qB.actions,the=qB.reducer;function nhe(t,e,n){return(e=rhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rhe(t){var e=ihe(t,"string");return typeof e=="symbol"?e:e+""}function ihe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class rC{static create(e){return new rC(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+l}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}nhe(rC,"EPS",1e-4);function ahe(t){return(t%180+180)%180}var she=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=ahe(i),l=a*Math.PI/180,c=Math.atan(r/n),d=l>c&&l<Math.PI-c?r/Math.sin(l):n/Math.cos(l);return Math.abs(d)},ohe={dots:[],areas:[],lines:[]},$B=Br({name:"referenceElements",initialState:ohe,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=ea(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=ea(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=ea(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:pge,removeDot:gge,addArea:vge,removeArea:yge,addLine:bge,removeLine:_ge}=$B.actions,lhe=$B.reducer,che=S.createContext(void 0),uhe=t=>{var{children:e}=t,[n]=S.useState("".concat(Gh("recharts"),"-clip")),r=tC();if(r==null)return null;var{x:i,y:a,width:l,height:c}=r;return S.createElement(che.Provider,{value:n},S.createElement("defs",null,S.createElement("clipPath",{id:n},S.createElement("rect",{x:i,y:a,height:c,width:l}))),e)};function HB(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e)n.push(t[r]);return n}function dhe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return she(r,n)}function fhe(t,e,n){var r=n==="width",{x:i,y:a,width:l,height:c}=t;return e===1?{start:r?i:a,end:r?i+l:a+c}:{start:r?i+l:a+c,end:r?i:a}}function zy(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function hhe(t,e){return HB(t,e+1)}function mhe(t,e,n,r,i){for(var a=(r||[]).slice(),{start:l,end:c}=e,d=0,f=1,m=l,p=function(){var w=r==null?void 0:r[d];if(w===void 0)return{v:HB(r,f)};var E=d,A,O=()=>(A===void 0&&(A=n(w,E)),A),D=w.coordinate,j=d===0||zy(t,D,O,m,c);j||(d=0,m=l,f+=1),j&&(m=D+t*(O()/2+i),d+=f)},y;f<=a.length;)if(y=p(),y)return y.v;return[]}function yj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yj(Object(n),!0).forEach(function(r){phe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function phe(t,e,n){return(e=ghe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ghe(t){var e=vhe(t,"string");return typeof e=="symbol"?e:e+""}function vhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yhe(t,e,n,r,i){for(var a=(r||[]).slice(),l=a.length,{start:c}=e,{end:d}=e,f=function(y){var x=a[y],w,E=()=>(w===void 0&&(w=n(x,y)),w);if(y===l-1){var A=t*(x.coordinate+t*E()/2-d);a[y]=x=dr(dr({},x),{},{tickCoord:A>0?x.coordinate-A*t:x.coordinate})}else a[y]=x=dr(dr({},x),{},{tickCoord:x.coordinate});if(x.tickCoord!=null){var O=zy(t,x.tickCoord,E,c,d);O&&(d=x.tickCoord-t*(E()/2+i),a[y]=dr(dr({},x),{},{isShow:!0}))}},m=l-1;m>=0;m--)f(m);return a}function bhe(t,e,n,r,i,a){var l=(r||[]).slice(),c=l.length,{start:d,end:f}=e;if(a){var m=r[c-1],p=n(m,c-1),y=t*(m.coordinate+t*p/2-f);if(l[c-1]=m=dr(dr({},m),{},{tickCoord:y>0?m.coordinate-y*t:m.coordinate}),m.tickCoord!=null){var x=zy(t,m.tickCoord,()=>p,d,f);x&&(f=m.tickCoord-t*(p/2+i),l[c-1]=dr(dr({},m),{},{isShow:!0}))}}for(var w=a?c-1:c,E=function(D){var j=l[D],q,U=()=>(q===void 0&&(q=n(j,D)),q);if(D===0){var F=t*(j.coordinate-t*U()/2-d);l[D]=j=dr(dr({},j),{},{tickCoord:F<0?j.coordinate-F*t:j.coordinate})}else l[D]=j=dr(dr({},j),{},{tickCoord:j.coordinate});if(j.tickCoord!=null){var N=zy(t,j.tickCoord,U,d,f);N&&(d=j.tickCoord+t*(U()/2+i),l[D]=dr(dr({},j),{},{isShow:!0}))}},A=0;A<w;A++)E(A);return l}function iC(t,e,n){var{tick:r,ticks:i,viewBox:a,minTickGap:l,orientation:c,interval:d,tickFormatter:f,unit:m,angle:p}=t;if(!i||!i.length||!r)return[];if(Ne(d)||Pm.isSsr){var y;return(y=hhe(i,Ne(d)?d:0))!==null&&y!==void 0?y:[]}var x=[],w=c==="top"||c==="bottom"?"width":"height",E=m&&w==="width"?Ih(m,{fontSize:e,letterSpacing:n}):{width:0,height:0},A=(j,q)=>{var U=typeof f=="function"?f(j.value,q):j.value;return w==="width"?dhe(Ih(U,{fontSize:e,letterSpacing:n}),E,p):Ih(U,{fontSize:e,letterSpacing:n})[w]},O=i.length>=2?Xn(i[1].coordinate-i[0].coordinate):1,D=fhe(a,O,w);return d==="equidistantPreserveStart"?mhe(O,D,A,i,l):(d==="preserveStart"||d==="preserveStartEnd"?x=bhe(O,D,A,i,l,d==="preserveStartEnd"):x=yhe(O,D,A,i,l),x.filter(j=>j.isShow))}var _he=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=t,l=0;if(e){Array.from(e).forEach(m=>{if(m){var p=m.getBoundingClientRect();p.width>l&&(l=p.width)}});var c=n?n.getBoundingClientRect().width:0,d=i+a,f=l+d+c+(n?r:0);return Math.round(f)}return 0},xhe=["axisLine","width","height","className","hide","ticks","axisType"];function whe(t,e){if(t==null)return{};var n,r,i=Ehe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ehe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function xc(){return xc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xc.apply(null,arguments)}function bj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bj(Object(n),!0).forEach(function(r){The(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function The(t,e,n){return(e=She(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function She(t){var e=Ahe(t,"string");return typeof e=="symbol"?e:e+""}function Ahe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ys={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Cn.axis};function Che(t){var{x:e,y:n,width:r,height:i,orientation:a,mirror:l,axisLine:c,otherSvgProps:d}=t;if(!c)return null;var f=Tn(Tn(Tn({},d),si(c)),{},{fill:"none"});if(a==="top"||a==="bottom"){var m=+(a==="top"&&!l||a==="bottom"&&l);f=Tn(Tn({},f),{},{x1:e,y1:n+m*i,x2:e+r,y2:n+m*i})}else{var p=+(a==="left"&&!l||a==="right"&&l);f=Tn(Tn({},f),{},{x1:e+p*r,y1:n,x2:e+p*r,y2:n+i})}return S.createElement("line",xc({},f,{className:Ce("recharts-cartesian-axis-line",vc(c,"className"))}))}function Ihe(t,e,n,r,i,a,l,c,d){var f,m,p,y,x,w,E=c?-1:1,A=t.tickSize||l,O=Ne(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":f=m=t.coordinate,y=n+ +!c*i,p=y-E*A,w=p-E*d,x=O;break;case"left":p=y=t.coordinate,m=e+ +!c*r,f=m-E*A,x=f-E*d,w=O;break;case"right":p=y=t.coordinate,m=e+ +c*r,f=m+E*A,x=f+E*d,w=O;break;default:f=m=t.coordinate,y=n+ +c*i,p=y+E*A,w=p+E*d,x=O;break}return{line:{x1:f,y1:p,x2:m,y2:y},tick:{x,y:w}}}function Ohe(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function Nhe(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function Phe(t){var{option:e,tickProps:n,value:r}=t,i,a=Ce(n.className,"recharts-cartesian-axis-tick-value");if(S.isValidElement(e))i=S.cloneElement(e,Tn(Tn({},n),{},{className:a}));else if(typeof e=="function")i=e(Tn(Tn({},n),{},{className:a}));else{var l="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(l=Ce(l,e==null?void 0:e.className)),i=S.createElement(eb,xc({},n,{className:l}),r)}return i}var Rhe=S.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:l,unit:c,padding:d,tickTextProps:f,orientation:m,mirror:p,x:y,y:x,width:w,height:E,tickSize:A,tickMargin:O,fontSize:D,letterSpacing:j,getTicksConfig:q,events:U,axisType:F}=t,N=iC(Tn(Tn({},q),{},{ticks:n}),D,j),P=Ohe(m,p),M=Nhe(m,p),B=si(q),k=gc(r),L={};typeof i=="object"&&(L=i);var z=Tn(Tn({},B),{},{fill:"none"},L),de=N.map(se=>Tn({entry:se},Ihe(se,y,x,w,E,m,A,p,O))),Ee=de.map(se=>{var{entry:me,line:ve}=se;return S.createElement(Qn,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(me.value,"-").concat(me.coordinate,"-").concat(me.tickCoord)},i&&S.createElement("line",xc({},z,ve,{className:Ce("recharts-cartesian-axis-tick-line",vc(i,"className"))})))}),W=de.map((se,me)=>{var{entry:ve,tick:De}=se,H=Tn(Tn(Tn(Tn({textAnchor:P,verticalAnchor:M},B),{},{stroke:"none",fill:a},k),De),{},{index:me,payload:ve,visibleTicksCount:N.length,tickFormatter:l,padding:d},f);return S.createElement(Qn,xc({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ve.value,"-").concat(ve.coordinate,"-").concat(ve.tickCoord)},Tm(U,ve,me)),r&&S.createElement(Phe,{option:r,tickProps:H,value:"".concat(typeof l=="function"?l(ve.value,me):ve.value).concat(c||"")}))});return S.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(F,"-ticks")},W.length>0&&S.createElement(Ur,{zIndex:Cn.label},S.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(F,"-tick-labels"),ref:e},W)),Ee.length>0&&S.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(F,"-tick-lines")},Ee))}),Dhe=S.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:a,hide:l,ticks:c,axisType:d}=t,f=whe(t,xhe),[m,p]=S.useState(""),[y,x]=S.useState(""),w=S.useRef(null);S.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var A;return _he({ticks:w.current,label:(A=t.labelRef)===null||A===void 0?void 0:A.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var E=S.useCallback(A=>{if(A){var O=A.getElementsByClassName("recharts-cartesian-axis-tick-value");w.current=O;var D=O[0];if(D){var j=window.getComputedStyle(D),q=j.fontSize,U=j.letterSpacing;(q!==m||U!==y)&&(p(q),x(U))}}},[m,y]);return l||r!=null&&r<=0||i!=null&&i<=0?null:S.createElement(Ur,{zIndex:t.zIndex},S.createElement(Qn,{className:Ce("recharts-cartesian-axis",a)},S.createElement(Che,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:si(t)}),S.createElement(Rhe,{ref:E,axisType:d,events:f,fontSize:m,getTicksConfig:t,height:t.height,letterSpacing:y,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:c,unit:t.unit,width:t.width,x:t.x,y:t.y}),S.createElement(ace,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},S.createElement(pce,{label:t.label,labelRef:t.labelRef}),t.children)))}),aC=S.forwardRef((t,e)=>{var n=Nn(t,ys);return S.createElement(Dhe,xc({},n,{ref:e}))});aC.displayName="CartesianAxis";var khe=["x1","y1","x2","y2","key"],Mhe=["offset"],jhe=["xAxisId","yAxisId"],Vhe=["xAxisId","yAxisId"];function _j(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_j(Object(n),!0).forEach(function(r){Lhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_j(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lhe(t,e,n){return(e=zhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zhe(t){var e=Bhe(t,"string");return typeof e=="symbol"?e:e+""}function Bhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ql(){return Ql=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ql.apply(null,arguments)}function By(t,e){if(t==null)return{};var n,r,i=Uhe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Uhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Fhe=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:l,ry:c}=t;return S.createElement("rect",{x:r,y:i,ry:c,width:a,height:l,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function KB(t){var{option:e,lineItemProps:n}=t,r;if(S.isValidElement(e))r=S.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:a,y1:l,x2:c,y2:d,key:f}=n,m=By(n,khe),p=(i=si(m))!==null&&i!==void 0?i:{},{offset:y}=p,x=By(p,Mhe);r=S.createElement("line",Ql({},x,{x1:a,y1:l,x2:c,y2:d,fill:"none",key:f}))}return r}function qhe(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:l}=t,c=By(t,jhe),d=i.map((f,m)=>{var p=hr(hr({},c),{},{x1:e,y1:f,x2:e+n,y2:f,key:"line-".concat(m),index:m});return S.createElement(KB,{key:"line-".concat(m),option:r,lineItemProps:p})});return S.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function $he(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:l}=t,c=By(t,Vhe),d=i.map((f,m)=>{var p=hr(hr({},c),{},{x1:f,y1:e,x2:f,y2:e+n,key:"line-".concat(m),index:m});return S.createElement(KB,{option:r,lineItemProps:p,key:"line-".concat(m)})});return S.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function Hhe(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:a,height:l,horizontalPoints:c,horizontal:d=!0}=t;if(!d||!e||!e.length||c==null)return null;var f=c.map(p=>Math.round(p+i-i)).sort((p,y)=>p-y);i!==f[0]&&f.unshift(0);var m=f.map((p,y)=>{var x=!f[y+1],w=x?i+l-p:f[y+1]-p;if(w<=0)return null;var E=y%e.length;return S.createElement("rect",{key:"react-".concat(y),y:p,x:r,height:w,width:a,stroke:"none",fill:e[E],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return S.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function Khe(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:l,height:c,verticalPoints:d}=t;if(!e||!n||!n.length)return null;var f=d.map(p=>Math.round(p+i-i)).sort((p,y)=>p-y);i!==f[0]&&f.unshift(0);var m=f.map((p,y)=>{var x=!f[y+1],w=x?i+l-p:f[y+1]-p;if(w<=0)return null;var E=y%n.length;return S.createElement("rect",{key:"react-".concat(y),x:p,y:a,width:w,height:c,stroke:"none",fill:n[E],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return S.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var Ghe=(t,e)=>{var{xAxis:n,width:r,height:i,offset:a}=t;return N6(iC(hr(hr(hr({},ys),n),{},{ticks:P6(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,e)},Yhe=(t,e)=>{var{yAxis:n,width:r,height:i,offset:a}=t;return N6(iC(hr(hr(hr({},ys),n),{},{ticks:P6(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,e)},Whe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Cn.grid};function sC(t){var e=IS(),n=OS(),r=z6(),i=hr(hr({},Nn(t,Whe)),{},{x:Ne(t.x)?t.x:r.left,y:Ne(t.y)?t.y:r.top,width:Ne(t.width)?t.width:r.width,height:Ne(t.height)?t.height:r.height}),{xAxisId:a,yAxisId:l,x:c,y:d,width:f,height:m,syncWithTicks:p,horizontalValues:y,verticalValues:x}=i,w=gr(),E=Te(M=>dM(M,"xAxis",a,w)),A=Te(M=>dM(M,"yAxis",l,w));if(!Ba(f)||!Ba(m)||!Ne(c)||!Ne(d))return null;var O=i.verticalCoordinatesGenerator||Ghe,D=i.horizontalCoordinatesGenerator||Yhe,{horizontalPoints:j,verticalPoints:q}=i;if((!j||!j.length)&&typeof D=="function"){var U=y&&y.length,F=D({yAxis:A?hr(hr({},A),{},{ticks:U?y:A.ticks}):void 0,width:e??f,height:n??m,offset:r},U?!0:p);dy(Array.isArray(F),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof F,"]")),Array.isArray(F)&&(j=F)}if((!q||!q.length)&&typeof O=="function"){var N=x&&x.length,P=O({xAxis:E?hr(hr({},E),{},{ticks:N?x:E.ticks}):void 0,width:e??f,height:n??m,offset:r},N?!0:p);dy(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(q=P)}return S.createElement(Ur,{zIndex:i.zIndex},S.createElement("g",{className:"recharts-cartesian-grid"},S.createElement(Fhe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),S.createElement(Hhe,Ql({},i,{horizontalPoints:j})),S.createElement(Khe,Ql({},i,{verticalPoints:q})),S.createElement(qhe,Ql({},i,{offset:r,horizontalPoints:j,xAxis:E,yAxis:A})),S.createElement($he,Ql({},i,{offset:r,verticalPoints:q,xAxis:E,yAxis:A}))))}sC.displayName="CartesianGrid";var GB=(t,e,n,r)=>Qo(t,"xAxis",e,r),YB=(t,e,n,r)=>Xo(t,"xAxis",e,r),WB=(t,e,n,r)=>Qo(t,"yAxis",n,r),XB=(t,e,n,r)=>Xo(t,"yAxis",n,r),Xhe=J([dt,GB,WB,YB,XB],(t,e,n,r,i)=>rl(t,"xAxis")?yd(e,r,!1):yd(n,i,!1)),Qhe=(t,e,n,r,i)=>i;function Zhe(t){return t.type==="line"}var Jhe=J([W0,Qhe],(t,e)=>t.filter(Zhe).find(n=>n.id===e)),eme=J([dt,GB,WB,YB,XB,Jhe,Xhe,q0],(t,e,n,r,i,a,l,c)=>{var{chartData:d,dataStartIndex:f,dataEndIndex:m}=c;if(!(a==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null||t!=="horizontal"&&t!=="vertical")){var{dataKey:p,data:y}=a,x;if(y!=null&&y.length>0?x=y:x=d==null?void 0:d.slice(f,m+1),x!=null)return xme({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:p,bandSize:l,displayedData:x})}});function tme(t){var e=gc(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:a}=e,l=Number(i),c=Number(a);return(Number.isNaN(l)||l<0)&&(l=n),(Number.isNaN(c)||c<0)&&(c=r),{r:l,strokeWidth:c}}return{r:n,strokeWidth:r}}var nme=["id"],rme=["type","layout","connectNulls","needClip","shape"],ime=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function om(){return om=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},om.apply(null,arguments)}function xj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ca(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xj(Object(n),!0).forEach(function(r){ame(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ame(t,e,n){return(e=sme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sme(t){var e=ome(t,"string");return typeof e=="symbol"?e:e+""}function ome(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oC(t,e){if(t==null)return{};var n,r,i=lme(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function lme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var cme=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:Rd(n,e),payload:t}]},ume=S.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:l,hide:c,unit:d,tooltipType:f}=t,m={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:Rd(l,e),hide:c,type:f,color:r,unit:d}};return S.createElement(JA,{tooltipEntrySettings:m})}),QB=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function dme(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var fme=(t,e,n)=>{var r=n.reduce((p,y)=>p+y);if(!r)return QB(e,t);for(var i=Math.floor(t/r),a=t%r,l=e-t,c=[],d=0,f=0;d<n.length;f+=n[d],++d)if(f+n[d]>a){c=[...n.slice(0,d),a-f];break}var m=c.length%2===0?[0,l]:[l];return[...dme(n,i),...c,...m].map(p=>"".concat(p,"px")).join(", ")};function hme(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:a,needClip:l}=r,{id:c}=r,d=oC(r,nme),f=si(d);return S.createElement(rde,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:f,needClip:l,clipPathId:e})}function mme(t){var{showLabels:e,children:n,points:r}=t,i=S.useMemo(()=>r==null?void 0:r.map(a=>{var l,c,d={x:(l=a.x)!==null&&l!==void 0?l:0,y:(c=a.y)!==null&&c!==void 0?c:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Ca(Ca({},d),{},{value:a.value,payload:a.payload,viewBox:d,parentViewBox:void 0,fill:void 0})}),[r]);return S.createElement(xB,{value:e?i:void 0},n)}function wj(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:a}=t,{type:l,layout:c,connectNulls:d,needClip:f,shape:m}=a,p=oC(a,rme),y=Ca(Ca({},Cr(p)),{},{fill:"none",className:"recharts-line-curve",clipPath:f?"url(#clipPath-".concat(e,")"):void 0,points:r,type:l,layout:c,connectNulls:d,strokeDasharray:i??a.strokeDasharray});return S.createElement(S.Fragment,null,(r==null?void 0:r.length)>1&&S.createElement(WA,om({shapeType:"curve",option:m},y,{pathRef:n})),S.createElement(hme,{points:r,clipPathId:e,props:a}))}function pme(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function gme(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=t,{points:l,strokeDasharray:c,isAnimationActive:d,animationBegin:f,animationDuration:m,animationEasing:p,animateNewValues:y,width:x,height:w,onAnimationEnd:E,onAnimationStart:A}=n,O=i.current,D=Dm(l,"recharts-line-"),j=S.useRef(D),[q,U]=S.useState(!1),F=!q,N=S.useCallback(()=>{typeof E=="function"&&E(),U(!1)},[E]),P=S.useCallback(()=>{typeof A=="function"&&A(),U(!0)},[A]),M=pme(r.current),B=S.useRef(0);j.current!==D&&(B.current=a.current,j.current=D);var k=B.current;return S.createElement(mme,{points:l,showLabels:F},n.children,S.createElement(Rm,{animationId:D,begin:f,duration:m,isActive:d,easing:p,onAnimationEnd:N,onAnimationStart:P,key:D},L=>{var z=Kt(k,M+k,L),de=Math.min(z,M),Ee;if(d)if(c){var W="".concat(c).split(/[,\s]+/gim).map(ve=>parseFloat(ve));Ee=fme(de,M,W)}else Ee=QB(M,de);else Ee=c==null?void 0:String(c);if(L>0&&M>0&&(i.current=l,a.current=Math.max(a.current,de)),O){var se=O.length/l.length,me=L===1?l:l.map((ve,De)=>{var H=Math.floor(De*se);if(O[H]){var re=O[H];return Ca(Ca({},ve),{},{x:Kt(re.x,ve.x,L),y:Kt(re.y,ve.y,L)})}return y?Ca(Ca({},ve),{},{x:Kt(x*2,ve.x,L),y:Kt(w/2,ve.y,L)}):Ca(Ca({},ve),{},{x:ve.x,y:ve.y})});return i.current=me,S.createElement(wj,{props:n,points:me,clipPathId:e,pathRef:r,strokeDasharray:Ee})}return S.createElement(wj,{props:n,points:l,clipPathId:e,pathRef:r,strokeDasharray:Ee})}),S.createElement(HA,{label:n.label}))}function vme(t){var{clipPathId:e,props:n}=t,r=S.useRef(null),i=S.useRef(0),a=S.useRef(null);return S.createElement(gme,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var yme=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:Dt(t.payload,e)}};class bme extends S.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:a,yAxisId:l,top:c,left:d,width:f,height:m,id:p,needClip:y,zIndex:x}=this.props;if(e)return null;var w=Ce("recharts-line",i),E=p,{r:A,strokeWidth:O}=tme(n),D=OB(n),j=A*2+O,q=y?"url(#clipPath-".concat(D?"":"dots-").concat(E,")"):void 0;return S.createElement(Ur,{zIndex:x},S.createElement(Qn,{className:w},y&&S.createElement("defs",null,S.createElement(LB,{clipPathId:E,xAxisId:a,yAxisId:l}),!D&&S.createElement("clipPath",{id:"clipPath-dots-".concat(E)},S.createElement("rect",{x:d-j/2,y:c-j/2,width:f+j,height:m+j}))),S.createElement(VB,{xAxisId:a,yAxisId:l,data:r,dataPointFormatter:yme,errorBarOffset:0},S.createElement(vme,{props:this.props,clipPathId:E}))),S.createElement(Ede,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:q}))}}var ZB={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Cn.line,type:"linear"};function _me(t){var e=Nn(t,ZB),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:l,connectNulls:c,dot:d,hide:f,isAnimationActive:m,label:p,legendType:y,xAxisId:x,yAxisId:w,id:E}=e,A=oC(e,ime),{needClip:O}=nC(x,w),D=tC(),j=Om(),q=gr(),U=Te(B=>eme(B,x,w,q,E));if(j!=="horizontal"&&j!=="vertical"||U==null||D==null)return null;var{height:F,width:N,x:P,y:M}=D;return S.createElement(bme,om({},A,{id:E,connectNulls:c,dot:d,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:l,isAnimationActive:m,hide:f,label:p,legendType:y,xAxisId:x,yAxisId:w,points:U,layout:j,height:F,width:N,left:P,top:M,needClip:O}))}function xme(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:l,bandSize:c,displayedData:d}=t;return d.map((f,m)=>{var p=Dt(f,l);if(e==="horizontal"){var y=ND({axis:n,ticks:i,bandSize:c,entry:f,index:m}),x=Yt(p)?null:r.scale(p);return{x:y,y:x,value:p,payload:f}}var w=Yt(p)?null:n.scale(p),E=ND({axis:r,ticks:a,bandSize:c,entry:f,index:m});return w==null||E==null?null:{x:w,y:E,value:p,payload:f}}).filter(Boolean)}function wme(t){var e=Nn(t,ZB),n=gr();return S.createElement(eC,{id:e.id,type:"line"},r=>S.createElement(S.Fragment,null,S.createElement(NB,{legendPayload:cme(e)}),S.createElement(ume,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),S.createElement(DB,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),S.createElement(_me,om({},e,{id:r}))))}var YE=S.memo(wme,ib);YE.displayName="Line";var Eme=["domain","range"],Tme=["domain","range"];function Ej(t,e){if(t==null)return{};var n,r,i=Sme(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Sme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Tj(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function JB(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=Ej(t,Eme),{domain:a,range:l}=e,c=Ej(e,Tme);return!Tj(n,a)||!Tj(r,l)?!1:ib(i,c)}var Ame=["dangerouslySetInnerHTML","ticks"],Cme=["id"];function WE(){return WE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WE.apply(null,arguments)}function Sj(t,e){if(t==null)return{};var n,r,i=Ime(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ime(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ome(t){var e=Vt(),n=S.useRef(null);return S.useLayoutEffect(()=>{n.current===null?e(lde(t)):n.current!==t&&e(cde({prev:n.current,next:t})),n.current=t},[t,e]),S.useLayoutEffect(()=>()=>{n.current&&(e(ude(n.current)),n.current=null)},[e]),null}var Nme=t=>{var{xAxisId:e,className:n}=t,r=Te(AS),i=gr(),a="xAxis",l=Te(A=>zd(A,a,e,i)),c=Te(A=>Mz(A,a,e,i)),d=Te(A=>Pz(A,e)),f=Te(A=>lse(A,e)),m=Te(A=>fz(A,e));if(d==null||f==null||m==null)return null;var{dangerouslySetInnerHTML:p,ticks:y}=t,x=Sj(t,Ame),{id:w}=m,E=Sj(m,Cme);return S.createElement(aC,WE({},x,E,{scale:l,x:f.x,y:f.y,width:d.width,height:d.height,className:Ce("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:c,axisType:a}))},Pme={allowDataOverflow:Hn.allowDataOverflow,allowDecimals:Hn.allowDecimals,allowDuplicatedCategory:Hn.allowDuplicatedCategory,angle:Hn.angle,axisLine:ys.axisLine,height:Hn.height,hide:!1,includeHidden:Hn.includeHidden,interval:Hn.interval,minTickGap:Hn.minTickGap,mirror:Hn.mirror,orientation:Hn.orientation,padding:Hn.padding,reversed:Hn.reversed,scale:Hn.scale,tick:Hn.tick,tickCount:Hn.tickCount,tickLine:ys.tickLine,tickSize:ys.tickSize,type:Hn.type,xAxisId:0},Rme=t=>{var e=Nn(t,Pme);return S.createElement(S.Fragment,null,S.createElement(Ome,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),S.createElement(Nme,e))},lC=S.memo(Rme,JB);lC.displayName="XAxis";var Dme=["dangerouslySetInnerHTML","ticks"],kme=["id"];function XE(){return XE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XE.apply(null,arguments)}function Aj(t,e){if(t==null)return{};var n,r,i=Mme(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Mme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function jme(t){var e=Vt(),n=S.useRef(null);return S.useLayoutEffect(()=>{n.current===null?e(dde(t)):n.current!==t&&e(fde({prev:n.current,next:t})),n.current=t},[t,e]),S.useLayoutEffect(()=>()=>{n.current&&(e(hde(n.current)),n.current=null)},[e]),null}var Vme=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,a=S.useRef(null),l=S.useRef(null),c=Te(AS),d=gr(),f=Vt(),m="yAxis",p=Te(U=>zd(U,m,e,d)),y=Te(U=>Rz(U,e)),x=Te(U=>use(U,e)),w=Te(U=>Mz(U,m,e,d)),E=Te(U=>hz(U,e));if(S.useLayoutEffect(()=>{if(!(r!=="auto"||!y||$A(i)||S.isValidElement(i)||E==null)){var U=a.current;if(U){var F=U.getCalculatedWidth();Math.round(y.width)!==Math.round(F)&&f(mde({id:e,width:F}))}}},[w,y,f,i,e,r,E]),y==null||x==null||E==null)return null;var{dangerouslySetInnerHTML:A,ticks:O}=t,D=Aj(t,Dme),{id:j}=E,q=Aj(E,kme);return S.createElement(aC,XE({},D,q,{ref:a,labelRef:l,scale:p,x:x.x,y:x.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:y.width,height:y.height,className:Ce("recharts-".concat(m," ").concat(m),n),viewBox:c,ticks:w,axisType:m}))},Lme={allowDataOverflow:Kn.allowDataOverflow,allowDecimals:Kn.allowDecimals,allowDuplicatedCategory:Kn.allowDuplicatedCategory,angle:Kn.angle,axisLine:ys.axisLine,hide:!1,includeHidden:Kn.includeHidden,interval:Kn.interval,minTickGap:Kn.minTickGap,mirror:Kn.mirror,orientation:Kn.orientation,padding:Kn.padding,reversed:Kn.reversed,scale:Kn.scale,tick:Kn.tick,tickCount:Kn.tickCount,tickLine:ys.tickLine,tickSize:ys.tickSize,type:Kn.type,width:Kn.width,yAxisId:0},zme=t=>{var e=Nn(t,Lme);return S.createElement(S.Fragment,null,S.createElement(jme,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),S.createElement(Vme,e))},cC=S.memo(zme,JB);cC.displayName="YAxis";var Bme=(t,e)=>e,uC=J([Bme,dt,uz,Bn,Qz,Ls,Aoe,Ln],Doe),dC=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},eU=Ni("mouseClick"),tU=Cm();tU.startListening({actionCreator:eU,effect:(t,e)=>{var n=t.payload,r=uC(e.getState(),dC(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(Tse({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var QE=Ni("mouseMove"),nU=Cm(),Wg=null;nU.startListening({actionCreator:QE,effect:(t,e)=>{var n=t.payload;Wg!==null&&cancelAnimationFrame(Wg);var r=dC(n);Wg=requestAnimationFrame(()=>{var i=e.getState(),a=RA(i,i.tooltip.settings.shared);if(a==="axis"){var l=uC(i,r);(l==null?void 0:l.activeIndex)!=null?e.dispatch(qz({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):e.dispatch(Fz())}Wg=null})}});var Cj={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},rU=Br({name:"rootProps",initialState:Cj,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:Cj.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),Ume=rU.reducer,{updateOptions:Fme}=rU.actions,iU=Br({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:qme}=iU.actions,$me=iU.reducer,aU=Ni("keyDown"),sU=Ni("focus"),fC=Cm();fC.startListening({actionCreator:aU,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var l=DA(i,Ud(n),Fm(n),Km(n)),c=l==null?-1:Number(l);if(!(!Number.isFinite(c)||c<0)){var d=Ls(n);if(a==="Enter"){var f=Ry(n,"axis","hover",String(i.index));e.dispatch(BE({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:f}));return}var m=mse(n),p=m==="left-to-right"?1:-1,y=a==="ArrowRight"?1:-1,x=c+y*p;if(!(d==null||x>=d.length||x<0)){var w=Ry(n,"axis","hover",String(x));e.dispatch(BE({active:!0,activeIndex:x.toString(),activeDataKey:void 0,activeCoordinate:w}))}}}}}});fC.startListening({actionCreator:sU,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",l=Ry(n,"axis","hover",String(a));e.dispatch(BE({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:l}))}}}});var Ei=Ni("externalEvent"),oU=Cm(),ow=new Map;oU.startListening({actionCreator:Ei,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,a=ow.get(i);a!==void 0&&cancelAnimationFrame(a);var l=requestAnimationFrame(()=>{try{var c=e.getState(),d={activeCoordinate:uoe(c),activeDataKey:LA(c),activeIndex:Zo(c),activeLabel:eB(c),activeTooltipIndex:Zo(c),isTooltipActive:doe(c)};n(d,r)}finally{ow.delete(i)}});ow.set(i,l)}}});var Hme=J([Bd],t=>t.tooltipItemPayloads),Kme=J([Hme,$m,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(c=>c.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var l=e(a,n);return l}}}),lU=Ni("touchMove"),cU=Cm();cU.startListening({actionCreator:lU,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=RA(r,r.tooltip.settings.shared);if(i==="axis"){var a=uC(r,dC({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&e.dispatch(qz({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var l,c=n.touches[0];if(document.elementFromPoint==null)return;var d=document.elementFromPoint(c.clientX,c.clientY);if(!d||!d.getAttribute)return;var f=d.getAttribute(D6),m=(l=d.getAttribute(k6))!==null&&l!==void 0?l:void 0,p=Kme(e.getState(),f,m);e.dispatch(Uz({activeDataKey:m,activeIndex:f,activeCoordinate:p}))}}}});var Gme=t6({brush:the,cartesianAxis:pde,chartData:ule,errorBars:Mde,graphicalItems:xue,layout:VJ,legend:Hee,options:ale,polarAxis:jce,polarOptions:$me,referenceElements:lhe,rootProps:Ume,tooltip:Sse,zIndex:Goe}),Yme=function(e){return lJ({reducer:Gme,preloadedState:e,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([tU.middleware,nU.middleware,fC.middleware,oU.middleware,cU.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(g6({type:"raf"}))},devTools:Pm.devToolsEnabled})};function uU(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=gr(),a=S.useRef(null);if(i)return n;a.current==null&&(a.current=Yme(e));var l=vS;return S.createElement(rfe,{context:l,store:a.current},n)}function Wme(t){var{layout:e,margin:n}=t,r=Vt(),i=gr();return S.useEffect(()=>{i||(r(kJ(e)),r(DJ(n)))},[r,i,e,n]),null}var dU=S.memo(Wme,ib);function fU(t){var e=Vt();return S.useEffect(()=>{e(Fme(t))},[e,t]),null}function Ij(t){var{zIndex:e,isPanorama:n}=t,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=PB("".concat(r).concat(e)),a=Vt();return S.useLayoutEffect(()=>(a(Hoe({zIndex:e,elementId:i,isPanorama:n})),()=>{a(Koe({zIndex:e,isPanorama:n}))}),[a,e,i,n]),S.createElement("g",{tabIndex:-1,id:i})}function Oj(t){var{children:e,isPanorama:n}=t,r=Te(Moe);if(!r||r.length===0)return e;var i=r.filter(l=>l<0),a=r.filter(l=>l>0);return S.createElement(S.Fragment,null,i.map(l=>S.createElement(Ij,{key:l,zIndex:l,isPanorama:n})),e,a.map(l=>S.createElement(Ij,{key:l,zIndex:l,isPanorama:n})))}var Xme=["children"];function Qme(t,e){if(t==null)return{};var n,r,i=Zme(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Zme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Uy(){return Uy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uy.apply(null,arguments)}var Jme={width:"100%",height:"100%",display:"block"},epe=S.forwardRef((t,e)=>{var n=IS(),r=OS(),i=Q6();if(!Ba(n)||!Ba(r))return null;var{children:a,otherAttributes:l,title:c,desc:d}=t,f,m;return l!=null&&(typeof l.tabIndex=="number"?f=l.tabIndex:f=i?0:void 0,typeof l.role=="string"?m=l.role:m=i?"application":void 0),S.createElement(sS,Uy({},l,{title:c,desc:d,role:m,tabIndex:f,width:n,height:r,style:Jme,ref:e}),a)}),tpe=t=>{var{children:e}=t,n=Te(P0);if(!n)return null;var{width:r,height:i,y:a,x:l}=n;return S.createElement(sS,{width:r,height:i,x:l,y:a},e)},Nj=S.forwardRef((t,e)=>{var{children:n}=t,r=Qme(t,Xme),i=gr();return i?S.createElement(tpe,null,S.createElement(Oj,{isPanorama:!0},n)):S.createElement(epe,Uy({ref:e},r),S.createElement(Oj,{isPanorama:!1},n))});function npe(){var t=Vt(),[e,n]=S.useState(null),r=Te(tee);return S.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;dn(a)&&a!==r&&t(jJ(a))}},[e,t,r]),n}function Pj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rpe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pj(Object(n),!0).forEach(function(r){ipe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ipe(t,e,n){return(e=ape(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ape(t){var e=spe(t,"string");return typeof e=="symbol"?e:e+""}function spe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wc(){return wc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wc.apply(null,arguments)}var ope=()=>(ble(),null);function Fy(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var lpe=S.forwardRef((t,e)=>{var n,r,i=S.useRef(null),[a,l]=S.useState({containerWidth:Fy((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:Fy((r=t.style)===null||r===void 0?void 0:r.height)}),c=S.useCallback((f,m)=>{l(p=>{var y=Math.round(f),x=Math.round(m);return p.containerWidth===y&&p.containerHeight===x?p:{containerWidth:y,containerHeight:x}})},[]),d=S.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null&&typeof ResizeObserver<"u"){var{width:m,height:p}=f.getBoundingClientRect();c(m,p);var y=w=>{var{width:E,height:A}=w[0].contentRect;c(E,A)},x=new ResizeObserver(y);x.observe(f),i.current=x}},[e,c]);return S.useEffect(()=>()=>{var f=i.current;f!=null&&f.disconnect()},[c]),S.createElement(S.Fragment,null,S.createElement(D0,{width:a.containerWidth,height:a.containerHeight}),S.createElement("div",wc({ref:d},t)))}),cpe=S.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,a]=S.useState({containerWidth:Fy(n),containerHeight:Fy(r)}),l=S.useCallback((d,f)=>{a(m=>{var p=Math.round(d),y=Math.round(f);return m.containerWidth===p&&m.containerHeight===y?m:{containerWidth:p,containerHeight:y}})},[]),c=S.useCallback(d=>{if(typeof e=="function"&&e(d),d!=null){var{width:f,height:m}=d.getBoundingClientRect();l(f,m)}},[e,l]);return S.createElement(S.Fragment,null,S.createElement(D0,{width:i.containerWidth,height:i.containerHeight}),S.createElement("div",wc({ref:c},t)))}),upe=S.forwardRef((t,e)=>{var{width:n,height:r}=t;return S.createElement(S.Fragment,null,S.createElement(D0,{width:n,height:r}),S.createElement("div",wc({ref:e},t)))}),dpe=S.forwardRef((t,e)=>{var{width:n,height:r}=t;return Ts(n)||Ts(r)?S.createElement(cpe,wc({},t,{ref:e})):S.createElement(upe,wc({},t,{ref:e}))});function fpe(t){return t===!0?lpe:dpe}var hpe=S.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:l,onDoubleClick:c,onMouseDown:d,onMouseEnter:f,onMouseLeave:m,onMouseMove:p,onMouseUp:y,onTouchEnd:x,onTouchMove:w,onTouchStart:E,style:A,width:O,responsive:D,dispatchTouchEvents:j=!0}=t,q=S.useRef(null),U=Vt(),[F,N]=S.useState(null),[P,M]=S.useState(null),B=npe(),k=CS(),L=(k==null?void 0:k.width)>0?k.width:O,z=(k==null?void 0:k.height)>0?k.height:i,de=S.useCallback(ae=>{B(ae),typeof e=="function"&&e(ae),N(ae),M(ae),ae!=null&&(q.current=ae)},[B,e,N,M]),Ee=S.useCallback(ae=>{U(eU(ae)),U(Ei({handler:a,reactEvent:ae}))},[U,a]),W=S.useCallback(ae=>{U(QE(ae)),U(Ei({handler:f,reactEvent:ae}))},[U,f]),se=S.useCallback(ae=>{U(Fz()),U(Ei({handler:m,reactEvent:ae}))},[U,m]),me=S.useCallback(ae=>{U(QE(ae)),U(Ei({handler:p,reactEvent:ae}))},[U,p]),ve=S.useCallback(()=>{U(sU())},[U]),De=S.useCallback(ae=>{U(aU(ae.key))},[U]),H=S.useCallback(ae=>{U(Ei({handler:l,reactEvent:ae}))},[U,l]),re=S.useCallback(ae=>{U(Ei({handler:c,reactEvent:ae}))},[U,c]),pe=S.useCallback(ae=>{U(Ei({handler:d,reactEvent:ae}))},[U,d]),be=S.useCallback(ae=>{U(Ei({handler:y,reactEvent:ae}))},[U,y]),je=S.useCallback(ae=>{U(Ei({handler:E,reactEvent:ae}))},[U,E]),le=S.useCallback(ae=>{j&&U(lU(ae)),U(Ei({handler:w,reactEvent:ae}))},[U,j,w]),Pe=S.useCallback(ae=>{U(Ei({handler:x,reactEvent:ae}))},[U,x]),Mt=fpe(D);return S.createElement(oB.Provider,{value:F},S.createElement(vL.Provider,{value:P},S.createElement(Mt,{width:L??(A==null?void 0:A.width),height:z??(A==null?void 0:A.height),className:Ce("recharts-wrapper",r),style:rpe({position:"relative",cursor:"default",width:L,height:z},A),onClick:Ee,onContextMenu:H,onDoubleClick:re,onFocus:ve,onKeyDown:De,onMouseDown:pe,onMouseEnter:W,onMouseLeave:se,onMouseMove:me,onMouseUp:be,onTouchEnd:Pe,onTouchMove:le,onTouchStart:je,ref:de},S.createElement(ope,null),n)))}),mpe=["width","height","responsive","children","className","style","compact","title","desc"];function ppe(t,e){if(t==null)return{};var n,r,i=gpe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function gpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var hU=S.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:a,className:l,style:c,compact:d,title:f,desc:m}=t,p=ppe(t,mpe),y=si(p);return d?S.createElement(S.Fragment,null,S.createElement(D0,{width:n,height:r}),S.createElement(Nj,{otherAttributes:y,title:f,desc:m},a)):S.createElement(hpe,{className:l,style:c,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},S.createElement(Nj,{otherAttributes:y,title:f,desc:m,ref:e},S.createElement(uhe,null,a)))});function ZE(){return ZE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ZE.apply(null,arguments)}var vpe={top:5,right:5,bottom:5,left:5},ype={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:vpe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},mU=S.forwardRef(function(e,n){var r,i=Nn(e.categoricalChartProps,ype),{chartName:a,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,categoricalChartProps:f}=e,m={chartName:a,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,eventEmitter:void 0};return S.createElement(uU,{preloadedState:{options:m},reduxStoreName:(r=f.id)!==null&&r!==void 0?r:a},S.createElement(FB,{chartData:f.data}),S.createElement(dU,{layout:i.layout,margin:i.margin}),S.createElement(fU,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),S.createElement(hU,ZE({},i,{ref:n})))}),bpe=["axis"],_pe=S.forwardRef((t,e)=>S.createElement(mU,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:bpe,tooltipPayloadSearcher:qA,categoricalChartProps:t,ref:e})),xpe=["axis","item"],wpe=S.forwardRef((t,e)=>S.createElement(mU,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:xpe,tooltipPayloadSearcher:qA,categoricalChartProps:t,ref:e}));function Epe(t){var e=Vt();return S.useEffect(()=>{e(qme(t))},[e,t]),null}var Tpe=["layout"];function JE(){return JE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},JE.apply(null,arguments)}function Spe(t,e){if(t==null)return{};var n,r,i=Ape(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ape(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Cpe={top:5,right:5,bottom:5,left:5},pU={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Cpe,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Ipe=S.forwardRef(function(e,n){var r,i=Nn(e.categoricalChartProps,pU),{layout:a}=i,l=Spe(i,Tpe),{chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:m}=e,p={chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:m,eventEmitter:void 0};return S.createElement(uU,{preloadedState:{options:p},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:c},S.createElement(FB,{chartData:i.data}),S.createElement(dU,{layout:a,margin:i.margin}),S.createElement(fU,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),S.createElement(Epe,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),S.createElement(hU,JE({},l,{ref:n})))});function Rj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rj(Object(n),!0).forEach(function(r){Ope(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ope(t,e,n){return(e=Npe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Npe(t){var e=Ppe(t,"string");return typeof e=="symbol"?e:e+""}function Ppe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rpe=["item"],Dpe=Dj(Dj({},pU),{},{layout:"centric",startAngle:0,endAngle:360}),kpe=S.forwardRef((t,e)=>{var n=Nn(t,Dpe);return S.createElement(Ipe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Rpe,tooltipPayloadSearcher:qA,categoricalChartProps:n,ref:e})});const kj=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8","#82ca9d","#ffc658"],Mpe=()=>{const t=nY(),e=S.useMemo(()=>t.map(l=>Fw(l)).filter(Boolean),[t]),n=S.useMemo(()=>e.map(l=>{const c=Fv(l.beds);return{date:l.date.substring(5),total:c.totalHospitalized,occupiedBeds:c.occupiedBeds,occupiedCribs:c.occupiedCribs,blocked:c.blockedBeds}}).reverse(),[e]),r=e[0],i=S.useMemo(()=>{if(!r)return[];const l={};return Object.values(r.beds).forEach(c=>{c.patientName&&!c.isBlocked&&c.specialty&&(l[c.specialty]=(l[c.specialty]||0)+1)}),Object.entries(l).map(([c,d])=>({name:c,value:d}))},[r]),a=S.useMemo(()=>{if(!r)return[];let l=0,c=0;return Object.entries(r.beds).forEach(([d,f])=>{const m=f,p=or.find(y=>y.id===d);m.patientName&&!m.isBlocked&&p&&(p.type==="UTI"?l++:c++)}),[{name:"UTI",value:l},{name:"Media/Cuna",value:c}]},[r]);return e.length===0?_.jsx("div",{className:"flex flex-col items-center justify-center h-64 text-slate-400",children:_.jsx("p",{children:"No hay datos suficientes para generar estadsticas."})}):_.jsxs("div",{className:"space-y-8 animate-fade-in",children:[_.jsxs("header",{children:[_.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Panel Estadstico"}),_.jsx("p",{className:"text-slate-500",children:"Anlisis histrico y distribucin actual"})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[_.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[_.jsx("h3",{className:"font-bold text-slate-700 mb-4",children:"Evolucin de Ocupacin (ltimos 30 registros)"}),_.jsx("div",{className:"h-64",children:_.jsx(C1,{width:"100%",height:"100%",children:_.jsx(jpe,{data:n})})})]}),_.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[_.jsx("h3",{className:"font-bold text-slate-700 mb-4",children:"Pacientes por Especialidad (Actual)"}),_.jsx("div",{className:"h-64",children:_.jsx(C1,{width:"100%",height:"100%",children:_.jsxs(kpe,{children:[_.jsx(kB,{data:i,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,fill:"#8884d8",paddingAngle:5,dataKey:"value",children:i.map((l,c)=>_.jsx(Ym,{fill:kj[c%kj.length]},`cell-${c}`))}),_.jsx(qE,{}),_.jsx(X6,{})]})})})]}),_.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[_.jsx("h3",{className:"font-bold text-slate-700 mb-4",children:"Complejidad (UTI vs Media)"}),_.jsx("div",{className:"h-64",children:_.jsx(C1,{width:"100%",height:"100%",children:_.jsxs(wpe,{data:a,layout:"vertical",children:[_.jsx(sC,{strokeDasharray:"3 3"}),_.jsx(lC,{type:"number"}),_.jsx(cC,{dataKey:"name",type:"category",width:100}),_.jsx(qE,{}),_.jsx(BB,{dataKey:"value",fill:"#0ea5e9",barSize:30,radius:[0,4,4,0]})]})})})]}),_.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200 flex flex-col justify-center",children:[_.jsx("h3",{className:"font-bold text-slate-700 mb-6",children:"Indicadores Clave"}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg text-center",children:[_.jsxs("div",{className:"text-3xl font-bold text-blue-600",children:[((r&&Fv(r.beds).totalHospitalized/18)*100).toFixed(1),"%"]}),_.jsx("div",{className:"text-xs text-blue-800 font-medium uppercase mt-1",children:"Ocupacin Actual"})]}),_.jsxs("div",{className:"p-4 bg-orange-50 rounded-lg text-center",children:[_.jsx("div",{className:"text-3xl font-bold text-orange-600",children:Object.values((r==null?void 0:r.beds)||{}).filter(l=>l.status==="Grave").length}),_.jsx("div",{className:"text-xs text-orange-800 font-medium uppercase mt-1",children:"Pacientes Graves"})]})]})]})]})]})},jpe=({data:t})=>_.jsxs(_pe,{data:t,margin:{top:5,right:20,left:-20,bottom:5},children:[_.jsx(sC,{strokeDasharray:"3 3",vertical:!1,stroke:"#e2e8f0"}),_.jsx(lC,{dataKey:"date",tick:{fontSize:10},stroke:"#94a3b8"}),_.jsx(cC,{tick:{fontSize:10},stroke:"#94a3b8"}),_.jsx(qE,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),_.jsx(YE,{type:"monotone",dataKey:"total",stroke:"#0ea5e9",strokeWidth:3,dot:{r:4},activeDot:{r:6},name:"Total"}),_.jsx(YE,{type:"monotone",dataKey:"blocked",stroke:"#ef4444",strokeWidth:2,strokeDasharray:"5 5",name:"Bloqueadas"})]}),Vpe=({isOpen:t,onClose:e,nursesList:n,setNursesList:r})=>{const[i,a]=S.useState("");if(!t)return null;const l=()=>{if(i.trim()){const d=[...n,i.trim()];r(d),qP(d),a("")}},c=d=>{const f=n.filter(m=>m!==d);r(f),qP(f)};return _.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm print:hidden",children:_.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full animate-scale-in",children:[_.jsxs("div",{className:"p-4 border-b border-slate-200 flex justify-between items-center bg-slate-50 rounded-t-xl",children:[_.jsxs("h3",{className:"font-bold text-slate-800 flex items-center gap-2",children:[_.jsx(hL,{size:18})," Gestionar Enfermeros/as"]}),_.jsx("button",{onClick:e,className:"text-slate-400 hover:text-slate-700",children:_.jsx(md,{size:20})})]}),_.jsxs("div",{className:"p-4 max-h-[60vh] overflow-y-auto",children:[_.jsxs("div",{className:"flex gap-2 mb-4",children:[_.jsx("input",{type:"text",className:"flex-1 p-2 border border-slate-300 rounded focus:ring-2 focus:ring-medical-500 focus:outline-none text-sm",placeholder:"Nuevo nombre...",value:i,onChange:d=>a(d.target.value),onKeyDown:d=>d.key==="Enter"&&l()}),_.jsx("button",{onClick:l,className:"bg-medical-600 hover:bg-medical-700 text-white p-2 rounded transition-colors",children:_.jsx(Xv,{size:20})})]}),_.jsx("div",{className:"space-y-2",children:n.map(d=>_.jsxs("div",{className:"flex justify-between items-center bg-slate-50 p-2 rounded border border-slate-100 group",children:[_.jsx("span",{className:"text-sm font-medium text-slate-700",children:d}),_.jsx("button",{onClick:()=>c(d),className:"text-slate-300 hover:text-red-500 transition-colors",children:_.jsx($u,{size:16})})]},d))})]}),_.jsx("div",{className:"p-4 border-t border-slate-200 flex justify-end",children:_.jsx("button",{onClick:e,className:"px-4 py-2 bg-slate-100 text-slate-700 hover:bg-slate-200 rounded-lg text-sm font-medium",children:"Cerrar"})})]})})},Lpe=({isOpen:t,onClose:e})=>{const{record:n,toggleBlockBed:r,toggleExtraBed:i}=Ic(),[a,l]=S.useState(null),[c,d]=S.useState(null),[f,m]=S.useState("");if(!t||!n)return null;const p=(A,O)=>{O?(d(A),m(n.beds[A].blockedReason||"")):(l(A),m(""))},y=()=>{c&&(r(c),d(null),m(""))},x=()=>{c&&(r(c),r(c,f||"Mantencin"),d(null),m(""))},w=()=>{a&&(r(a,f||"Mantencin"),l(null),m(""))},E=()=>{l(null),m("")};return _.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm print:hidden",children:_.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full animate-scale-in max-h-[90vh] overflow-y-auto relative",children:[_.jsxs("div",{className:"p-4 border-b border-slate-200 flex justify-between items-center bg-slate-50 rounded-t-xl sticky top-0 z-10",children:[_.jsxs("h3",{className:"font-bold text-slate-800 flex items-center gap-2",children:[_.jsx(Ch,{size:18})," Gestionar Camas"]}),_.jsx("button",{onClick:e,className:"text-slate-400 hover:text-slate-700",children:_.jsx(md,{size:20})})]}),_.jsxs("div",{className:"p-6 relative",children:[a&&_.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center rounded-b-xl backdrop-blur-sm bg-white/80",children:_.jsxs("div",{className:"bg-white border border-slate-300 shadow-2xl p-6 rounded-xl w-full max-w-sm animate-scale-in",children:[_.jsxs("h4",{className:"font-bold text-slate-800 mb-4 text-lg text-center",children:["Bloquear Cama ",a]}),_.jsxs("div",{className:"mb-4",children:[_.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-2 block",children:"Motivo del Bloqueo"}),_.jsx("input",{autoFocus:!0,type:"text",className:"w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:outline-none text-slate-700",placeholder:"Ej: Mantencin, Aislamiento, Dao...",value:f,onChange:A=>m(A.target.value),onKeyDown:A=>A.key==="Enter"&&w()})]}),_.jsxs("div",{className:"flex gap-3",children:[_.jsx("button",{onClick:E,className:"flex-1 py-2.5 text-slate-600 hover:bg-slate-100 rounded-lg text-sm font-medium transition-colors border border-slate-200",children:"Cancelar"}),_.jsx("button",{onClick:w,className:"flex-1 py-2.5 bg-red-600 text-white hover:bg-red-700 rounded-lg text-sm font-bold shadow-md shadow-red-200 transition-colors",children:"Confirmar"})]})]})}),c&&_.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center rounded-b-xl backdrop-blur-sm bg-white/80",children:_.jsxs("div",{className:"bg-white border border-slate-300 shadow-2xl p-6 rounded-xl w-full max-w-sm animate-scale-in",children:[_.jsxs("h4",{className:"font-bold text-slate-800 mb-4 text-lg text-center",children:["Editar Cama ",c]}),_.jsxs("div",{className:"mb-4",children:[_.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-2 block",children:"Motivo del Bloqueo"}),_.jsx("input",{autoFocus:!0,type:"text",className:"w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:outline-none text-slate-700",placeholder:"Ej: Mantencin, Aislamiento, Dao...",value:f,onChange:A=>m(A.target.value),onKeyDown:A=>A.key==="Enter"&&x()})]}),_.jsxs("div",{className:"flex gap-3",children:[_.jsx("button",{onClick:y,className:"flex-1 py-2.5 text-red-600 hover:bg-red-50 rounded-lg text-sm font-medium transition-colors border border-red-200",children:"Desbloquear"}),_.jsx("button",{onClick:()=>{d(null),m("")},className:"flex-1 py-2.5 text-slate-600 hover:bg-slate-100 rounded-lg text-sm font-medium transition-colors border border-slate-200",children:"Cancelar"}),_.jsx("button",{onClick:x,className:"flex-1 py-2.5 bg-amber-500 text-white hover:bg-amber-600 rounded-lg text-sm font-bold transition-colors",children:"Guardar"})]})]})}),_.jsxs("h4",{className:"font-bold text-slate-700 mb-2 flex items-center gap-2",children:[_.jsx(Ch,{size:16})," Bloquear Camas"]}),_.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"Marque las camas que estn fuera de servicio."}),_.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3 mb-8",children:or.filter(A=>!A.isExtra).map(A=>{const O=n.beds[A.id].isBlocked;return _.jsxs("button",{onClick:()=>p(A.id,O),className:Ce("p-2.5 rounded-lg border text-sm font-medium transition-all flex justify-between items-center",O?"border-amber-400 bg-amber-50 text-amber-700":"border-slate-200 bg-white text-slate-600 hover:border-medical-300"),disabled:a!==null||c!==null,children:[_.jsx("span",{children:A.name}),O?_.jsx(Ch,{size:14}):_.jsx("div",{className:"w-4"})]},A.id)})}),_.jsxs("h4",{className:"font-bold text-slate-700 mb-2 flex items-center gap-2 pt-6 border-t border-slate-100",children:[_.jsx(aL,{size:16})," Habilitar Camas Extras"]}),_.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"Active camas adicionales para este da (E1, E2, etc.)."}),_.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:or.filter(A=>A.isExtra).map(A=>{const O=(n.activeExtraBeds||[]).includes(A.id);return _.jsxs("button",{onClick:()=>i(A.id),className:Ce("p-3 rounded-lg border-2 text-sm font-bold transition-all flex justify-between items-center",O?"border-yellow-500 bg-yellow-50 text-yellow-700":"border-slate-200 bg-white text-slate-600 hover:border-medical-300"),disabled:a!==null,children:[_.jsx("span",{children:A.name}),O?_.jsx(iS,{size:16}):_.jsx("div",{className:"w-4"})]},A.id)})})]}),_.jsx("div",{className:"p-4 border-t border-slate-200 flex justify-end bg-white sticky bottom-0 z-10",children:_.jsx("button",{onClick:e,className:"px-4 py-2 bg-medical-600 text-white hover:bg-medical-700 rounded-lg text-sm font-medium",children:"Listo"})})]})})},zpe=({isOpen:t,type:e,sourceBedId:n,targetBedId:r,onClose:i,onSetTarget:a,onConfirm:l})=>{var f;const{record:c}=Ic();if(!t||!e||!c)return null;const d=or.filter(m=>!m.isExtra||(c.activeExtraBeds||[]).includes(m.id));return _.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm print:hidden",children:_.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6",children:[_.jsx("h3",{className:"font-bold text-lg mb-4",children:e==="move"?"Mover Paciente":"Copiar Datos"}),_.jsxs("p",{className:"text-sm text-slate-500 mb-4",children:[e==="move"?"Mover desde":"Copiar desde"," ",_.jsx("strong",{children:(f=or.find(m=>m.id===n))==null?void 0:f.name})," hacia:"]}),_.jsx("div",{className:"grid grid-cols-2 gap-2 mb-6 max-h-60 overflow-y-auto",children:d.filter(m=>m.id!==n).map(m=>_.jsxs("button",{onClick:()=>a(m.id),className:Ce("p-2 rounded border text-sm text-left transition-colors",r===m.id?"bg-medical-600 text-white border-medical-600":"hover:bg-slate-50 border-slate-200"),children:[m.name," ",c.beds[m.id].patientName?"(Ocupada)":"(Libre)"]},m.id))}),_.jsxs("div",{className:"flex justify-end gap-2",children:[_.jsx("button",{onClick:i,className:"px-4 py-2 text-slate-500 hover:bg-slate-100 rounded",children:"Cancelar"}),_.jsx("button",{disabled:!r,onClick:l,className:"px-4 py-2 bg-medical-600 text-white rounded hover:bg-medical-700 disabled:opacity-50",children:"Confirmar"})]})]})})},Bpe=({isOpen:t,isEditing:e,status:n,onStatusChange:r,onClose:i,onConfirm:a,hasClinicalCrib:l,clinicalCribName:c,clinicalCribStatus:d,onClinicalCribStatusChange:f})=>t?_.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm print:hidden",children:_.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6 animate-scale-in",children:[_.jsx("h3",{className:"font-bold text-lg mb-4 text-green-700",children:"Confirmar Alta Mdica"}),_.jsxs("div",{className:"mb-6",children:[_.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2",children:"Estado Madre / Paciente"}),_.jsxs("div",{className:"flex gap-4",children:[_.jsxs("label",{className:"flex items-center gap-2 cursor-pointer p-2 rounded hover:bg-slate-50 border border-transparent hover:border-slate-200 transition-colors",children:[_.jsx("input",{type:"radio",name:"status",value:"Vivo",checked:n==="Vivo",onChange:()=>r("Vivo"),className:"text-medical-600 focus:ring-medical-500"}),_.jsx("span",{className:n==="Vivo"?"font-bold text-slate-800":"text-slate-600",children:"Vivo"})]}),_.jsxs("label",{className:"flex items-center gap-2 cursor-pointer p-2 rounded hover:bg-slate-50 border border-transparent hover:border-slate-200 transition-colors",children:[_.jsx("input",{type:"radio",name:"status",value:"Fallecido",checked:n==="Fallecido",onChange:()=>r("Fallecido"),className:"text-red-600 focus:ring-red-500"}),_.jsx("span",{className:n==="Fallecido"?"font-bold text-slate-800":"text-slate-600",children:"Fallecido"})]})]})]}),!e&&l&&f&&_.jsxs("div",{className:"mb-6 p-4 bg-pink-50 rounded-lg border border-pink-100",children:[_.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[_.jsx(Oc,{size:16,className:"text-pink-500"}),_.jsx("label",{className:"block text-xs font-bold text-pink-700 uppercase",children:"Estado Recin Nacido"})]}),_.jsx("p",{className:"text-xs text-slate-500 mb-3 font-medium",children:c||"Recin Nacido"}),_.jsxs("div",{className:"flex gap-4",children:[_.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[_.jsx("input",{type:"radio",name:"cribStatus",value:"Vivo",checked:d==="Vivo",onChange:()=>f("Vivo"),className:"text-pink-600 focus:ring-pink-500"}),"Vivo"]}),_.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[_.jsx("input",{type:"radio",name:"cribStatus",value:"Fallecido",checked:d==="Fallecido",onChange:()=>f("Fallecido"),className:"text-red-600 focus:ring-red-500"}),"Fallecido"]})]})]}),_.jsxs("div",{className:"flex justify-end gap-2",children:[_.jsx("button",{onClick:i,className:"px-4 py-2 text-slate-500 hover:bg-slate-100 rounded",children:"Cancelar"}),_.jsx("button",{onClick:a,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:e?"Guardar Cambios":"Confirmar Alta"})]})]})}):null,Upe=({isOpen:t,isEditing:e,evacuationMethod:n,receivingCenter:r,receivingCenterOther:i,transferEscort:a,onUpdate:l,onClose:c,onConfirm:d,hasClinicalCrib:f,clinicalCribName:m})=>{const[p,y]=S.useState("");if(!t)return null;const x=E=>{E==="Otro"?l("transferEscort",""):l("transferEscort",E)},w=["Enfermera","TENS","Matrona"].includes(a);return _.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm print:hidden",children:_.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6 animate-scale-in",children:[_.jsx("h3",{className:"font-bold text-lg mb-4 text-blue-700",children:"Confirmar Traslado"}),!e&&f&&_.jsxs("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-100 rounded-lg flex items-start gap-2",children:[_.jsx(Oc,{className:"text-blue-500 mt-0.5 shrink-0",size:16}),_.jsxs("p",{className:"text-xs text-blue-800",children:["Se detect una Cuna Clnica asociada (",m||"RN","). Se generar un registro de traslado adicional automticamente para el beb."]})]}),_.jsxs("div",{className:"space-y-4 mb-6",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Medio de Evacuacin"}),_.jsx("select",{className:"w-full p-2 border rounded",value:n,onChange:E=>l("evacuationMethod",E.target.value),children:lw.map(E=>_.jsx("option",{value:E,children:E},E))})]}),n==="Avin comercial"&&_.jsxs("div",{className:"bg-slate-50 p-3 rounded border border-slate-200 animate-fade-in",children:[_.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Acompaante Vuelo Comercial"}),_.jsxs("div",{className:"space-y-2",children:[_.jsxs("select",{className:"w-full p-2 border rounded text-sm",value:w?a:"Otro",onChange:E=>x(E.target.value),children:[_.jsx("option",{value:"Enfermera",children:"Enfermera"}),_.jsx("option",{value:"TENS",children:"TENS"}),_.jsx("option",{value:"Matrona",children:"Matrona"}),_.jsx("option",{value:"Otro",children:"Otro / Mixto"})]}),!w&&_.jsx("input",{type:"text",className:"w-full p-2 border rounded text-sm",placeholder:"Especifique (Ej: TENS + Enfermera)",value:a,onChange:E=>l("transferEscort",E.target.value)})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Centro que Recibe"}),_.jsx("select",{className:"w-full p-2 border rounded",value:r,onChange:E=>l("receivingCenter",E.target.value),children:cw.map(E=>_.jsx("option",{value:E,children:E},E))})]}),r==="Otro"&&_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Especifique Centro"}),_.jsx("input",{type:"text",className:"w-full p-2 border rounded",value:i,onChange:E=>l("receivingCenterOther",E.target.value),placeholder:"Nombre del centro..."})]})]}),_.jsxs("div",{className:"flex justify-end gap-2",children:[_.jsx("button",{onClick:c,className:"px-4 py-2 text-slate-500 hover:bg-slate-100 rounded",children:"Cancelar"}),_.jsx("button",{onClick:d,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:e?"Guardar Cambios":"Confirmar Traslado"})]})]})})},Fpe=({viewMode:t,selectedDay:e,selectedMonth:n,currentDateString:r,showBedManagerModal:i,onCloseBedManagerModal:a})=>{const{record:l,createDay:c,clearPatient:d,clearAllBeds:f,moveOrCopyPatient:m,updateNurse:p,addDischarge:y,updateDischarge:x,deleteDischarge:w,undoDischarge:E,addTransfer:A,updateTransfer:O,deleteTransfer:D,undoTransfer:j}=Ic(),[q,U]=S.useState([]),[F,N]=S.useState(!1),[P,M]=S.useState(!1),[B,k]=S.useState({type:null,sourceBedId:null,targetBedId:null}),[L,z]=S.useState({bedId:null,isOpen:!1,status:"Vivo"}),[de,Ee]=S.useState({bedId:null,isOpen:!1,evacuationMethod:lw[0],receivingCenter:cw[0],receivingCenterOther:"",transferEscort:"Enfermera"});S.useEffect(()=>{U(eY())},[]);const W=S.useMemo(()=>Q3(r),[r]),se=l?l.nurses&&l.nurses.length===2?l.nurses:[l.nurseName||"",""]:["",""],me=l?Fv(l.beds):null,ve=S.useMemo(()=>{if(!l)return[];const le=l.activeExtraBeds||[];return or.filter(Pe=>!Pe.isExtra||le.includes(Pe.id))},[l]),De=(le,Pe)=>{var Mt,ae;if(l){if(le==="clear")confirm("Est seguro de limpiar los datos de esta cama?")&&d(Pe);else if(le==="copy"||le==="move")k({type:le,sourceBedId:Pe,targetBedId:null});else if(le==="discharge"){const Be=l.beds[Pe],We=!!Be.clinicalCrib;z({bedId:Pe,recordId:void 0,isOpen:!0,status:"Vivo",hasClinicalCrib:We,clinicalCribName:(Mt=Be.clinicalCrib)==null?void 0:Mt.patientName,clinicalCribStatus:"Vivo"})}else if(le==="transfer"){const Be=l.beds[Pe],We=!!Be.clinicalCrib;Ee({bedId:Pe,recordId:void 0,isOpen:!0,evacuationMethod:lw[0],receivingCenter:cw[0],receivingCenterOther:"",transferEscort:"Enfermera",hasClinicalCrib:We,clinicalCribName:(ae=Be.clinicalCrib)==null?void 0:ae.patientName})}}},H=()=>{!B.sourceBedId||!B.targetBedId||!B.type||(m(B.type,B.sourceBedId,B.targetBedId),k({type:null,sourceBedId:null,targetBedId:null}))},re=()=>{L.recordId?x(L.recordId,L.status):L.bedId&&y(L.bedId,L.status,L.clinicalCribStatus),z({...L,isOpen:!1})},pe=()=>{de.recordId?O(de.recordId,{evacuationMethod:de.evacuationMethod,receivingCenter:de.receivingCenter,receivingCenterOther:de.receivingCenterOther,transferEscort:de.transferEscort}):de.bedId&&A(de.bedId,de.evacuationMethod,de.receivingCenter,de.receivingCenterOther,de.transferEscort),Ee({...de,isOpen:!1})},be=le=>{z({bedId:null,recordId:le.id,isOpen:!0,status:le.status})},je=le=>{Ee({bedId:null,recordId:le.id,isOpen:!0,evacuationMethod:le.evacuationMethod,receivingCenter:le.receivingCenter,receivingCenterOther:le.receivingCenterOther||"",transferEscort:le.transferEscort||"Enfermera"})};return t==="ANALYTICS"?_.jsx(Mpe,{}):l?_.jsxs("div",{className:"space-y-6 print:space-y-4 animate-fade-in",children:[_.jsxs("div",{className:"hidden print:block mb-4",children:[_.jsx("h2",{className:"text-2xl font-bold text-slate-800 text-center uppercase",children:"Reporte Diario Hospital Hanga Roa"}),_.jsxs("p",{className:"text-center text-slate-600",children:["Fecha: ",r]})]}),_.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-end gap-4 print:hidden",children:[_.jsx("div",{className:"flex flex-col gap-4 w-full md:w-auto",children:_.jsxs("div",{className:"bg-white p-3 rounded-lg border border-slate-200 shadow-sm flex flex-col gap-2",children:[_.jsxs("div",{className:"flex justify-between items-center mb-1",children:[_.jsxs("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wide flex items-center gap-1",children:[_.jsx(hL,{size:14})," Enfermeros/as de Turno"]}),_.jsx("button",{onClick:()=>N(!0),className:"text-medical-600 hover:text-medical-800 p-1 rounded hover:bg-medical-50 transition-colors",title:"Gestionar lista de enfermeros",children:_.jsx(m0,{size:14})})]}),_.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[_.jsxs("select",{className:"p-2 border border-slate-300 rounded text-sm focus:ring-2 focus:ring-medical-500 focus:outline-none min-w-[200px]",value:se[0],onChange:le=>p(0,le.target.value),children:[_.jsx("option",{value:"",children:"-- Seleccionar --"}),q.map(le=>_.jsx("option",{value:le,children:le},le))]}),_.jsxs("select",{className:"p-2 border border-slate-300 rounded text-sm focus:ring-2 focus:ring-medical-500 focus:outline-none min-w-[200px]",value:se[1],onChange:le=>p(1,le.target.value),children:[_.jsx("option",{value:"",children:"-- Seleccionar --"}),q.map(le=>_.jsx("option",{value:le,children:le},le))]})]})]})}),_.jsx("div",{className:"flex-1"}),me&&_.jsx(TX,{stats:me,discharges:l.discharges,transfers:l.transfers})]}),_.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden print:border-none print:shadow-none",children:_.jsx("div",{className:"overflow-x-auto",children:_.jsxs("table",{className:"w-full text-left border-collapse print:text-xs",children:[_.jsx("thead",{children:_.jsxs("tr",{className:"bg-slate-100 text-slate-600 text-xs uppercase tracking-wider font-bold print:bg-slate-200",children:[_.jsx("th",{className:"p-2 border-r border-slate-200 text-center w-10 print:hidden",children:_.jsx("button",{onClick:()=>{confirm(` LIMPIAR TODOS LOS DATOS del da?

Esto eliminar pacientes, altas y traslados.`)&&f()},className:"p-1 rounded hover:bg-red-100 text-slate-400 hover:text-red-600 transition-colors",title:"Limpiar todos los datos del da",children:_.jsx($u,{size:14})})}),_.jsx("th",{className:"p-3 border-r border-slate-200 text-center w-24",children:_.jsxs("div",{className:"flex flex-col items-center gap-1",children:[_.jsx("span",{children:"Cama"}),_.jsx("button",{onClick:()=>M(!P),className:Ce("text-[10px] flex items-center justify-center p-1 rounded transition-all print:hidden w-6 h-6",P?"bg-medical-600 text-white":"bg-white border border-slate-300 text-slate-500 hover:text-medical-600"),title:"Configurar Cunas",children:_.jsx(Oc,{size:16})})]})}),_.jsx("th",{className:"p-3 border-r border-slate-200 text-center w-16",children:"Tipo"}),_.jsx("th",{className:"p-3 border-r border-slate-200 min-w-[160px]",children:"Nombre Paciente"}),_.jsx("th",{className:"p-3 border-r border-slate-200 w-28",children:"RUT"}),_.jsx("th",{className:"p-3 border-r border-slate-200 w-14",children:"Edad"}),_.jsx("th",{className:"p-3 border-r border-slate-200 min-w-[230px]",children:"Diagnstico"}),_.jsx("th",{className:"p-3 border-r border-slate-200 w-28",children:"Especialidad"}),_.jsx("th",{className:"p-3 border-r border-slate-200 w-24",children:"Estado"}),_.jsx("th",{className:"p-3 border-r border-slate-200 w-28",children:"Ingreso"}),_.jsx("th",{className:"p-1 border-r border-slate-200 text-center w-10",title:"Brazalete",children:"Braz"}),_.jsx("th",{className:"p-1 border-r border-slate-200 text-center w-10",title:"Postrado",children:"Post"}),_.jsx("th",{className:"p-3 border-r border-slate-200 w-28",children:"Dispositivos"}),_.jsx("th",{className:"p-1 border-r border-slate-200 text-center w-10",title:"Comp. Quirurgica",children:"C.QX"}),_.jsx("th",{className:"p-1 text-center w-10",children:"UPC"})]})}),_.jsx("tbody",{children:ve.map(le=>_.jsx(EX,{bed:le,data:l.beds[le.id],onAction:De,showCribControls:P},le.id))})]})})}),_.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 print:p-2 print:border-t-2 print:border-slate-800 print:shadow-none",children:[_.jsxs("h3",{className:"font-bold text-lg text-slate-700 mb-4 flex items-center gap-2 print:text-black",children:[_.jsx(iS,{className:"text-green-600 print:text-black"})," Pacientes dados de Alta"]}),!l.discharges||l.discharges.length===0?_.jsx("p",{className:"text-slate-400 italic text-sm",children:"No hay altas registradas hoy."}):_.jsx("div",{className:"overflow-x-auto",children:_.jsxs("table",{className:"w-full text-left text-sm print:text-xs",children:[_.jsx("thead",{children:_.jsxs("tr",{className:"border-b border-slate-200 text-slate-500 text-xs uppercase print:text-slate-800 print:font-bold",children:[_.jsx("th",{className:"p-2",children:"Cama Origen"}),_.jsx("th",{className:"p-2",children:"Paciente"}),_.jsx("th",{className:"p-2",children:"RUT"}),_.jsx("th",{className:"p-2",children:"Diagnstico"}),_.jsx("th",{className:"p-2",children:"Estado"}),_.jsx("th",{className:"p-2 text-right print:hidden",children:"Accin"})]})}),_.jsx("tbody",{children:l.discharges.map(le=>_.jsxs("tr",{className:"border-b border-slate-100 last:border-0 hover:bg-slate-50 print:border-slate-300",children:[_.jsxs("td",{className:"p-2 font-medium",children:[le.bedName," ",_.jsxs("span",{className:"text-[10px] text-slate-400",children:["(",le.bedType,")"]})]}),_.jsx("td",{className:"p-2",children:le.patientName}),_.jsx("td",{className:"p-2 font-mono text-xs",children:le.rut}),_.jsx("td",{className:"p-2",children:le.diagnosis}),_.jsx("td",{className:"p-2",children:_.jsx("span",{className:Ce("px-2 py-1 rounded-full text-xs font-bold print:border print:border-slate-400",le.status==="Fallecido"?"bg-black text-white":"bg-green-100 text-green-700"),children:le.status})}),_.jsxs("td",{className:"p-2 flex justify-end gap-2 print:hidden",children:[_.jsx("button",{onClick:()=>E(le.id),className:"text-slate-400 hover:text-slate-600",title:"Deshacer (Restaurar a Cama)",children:_.jsx(lR,{size:14})}),_.jsx("button",{onClick:()=>be(le),className:"text-medical-500 hover:text-medical-700",title:"Editar",children:_.jsx(oR,{size:14})}),_.jsx("button",{onClick:()=>w(le.id),className:"text-red-400 hover:text-red-600",title:"Eliminar Registro",children:_.jsx($u,{size:14})})]})]},le.id))})]})})]}),_.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 print:p-2 print:border-t-2 print:border-slate-800 print:shadow-none",children:[_.jsxs("h3",{className:"font-bold text-lg text-slate-700 mb-4 flex items-center gap-2 print:text-black",children:[_.jsx(iL,{className:"text-blue-600 print:text-black"})," Traslados"]}),!l.transfers||l.transfers.length===0?_.jsx("p",{className:"text-slate-400 italic text-sm",children:"No hay traslados registrados hoy."}):_.jsx("div",{className:"overflow-x-auto",children:_.jsxs("table",{className:"w-full text-left text-sm print:text-xs",children:[_.jsx("thead",{children:_.jsxs("tr",{className:"border-b border-slate-200 text-slate-500 text-xs uppercase print:text-slate-800 print:font-bold",children:[_.jsx("th",{className:"p-2",children:"Cama Origen"}),_.jsx("th",{className:"p-2",children:"Paciente"}),_.jsx("th",{className:"p-2",children:"RUT"}),_.jsx("th",{className:"p-2",children:"Diagnstico"}),_.jsx("th",{className:"p-2",children:"Medio"}),_.jsx("th",{className:"p-2",children:"Centro Destino"}),_.jsx("th",{className:"p-2",children:"Acompaante"}),_.jsx("th",{className:"p-2 text-right print:hidden",children:"Accin"})]})}),_.jsx("tbody",{children:l.transfers.map(le=>_.jsxs("tr",{className:"border-b border-slate-100 last:border-0 hover:bg-slate-50 print:border-slate-300",children:[_.jsxs("td",{className:"p-2 font-medium",children:[le.bedName," ",_.jsxs("span",{className:"text-[10px] text-slate-400",children:["(",le.bedType,")"]})]}),_.jsx("td",{className:"p-2",children:le.patientName}),_.jsx("td",{className:"p-2 font-mono text-xs",children:le.rut}),_.jsx("td",{className:"p-2",children:le.diagnosis}),_.jsx("td",{className:"p-2",children:le.evacuationMethod}),_.jsx("td",{className:"p-2",children:le.receivingCenter==="Otro"?le.receivingCenterOther:le.receivingCenter}),_.jsx("td",{className:"p-2 text-xs text-slate-500",children:le.evacuationMethod==="Avin comercial"?le.transferEscort:"-"}),_.jsxs("td",{className:"p-2 flex justify-end gap-2 print:hidden",children:[_.jsx("button",{onClick:()=>j(le.id),className:"text-slate-400 hover:text-slate-600",title:"Deshacer (Restaurar a Cama)",children:_.jsx(lR,{size:14})}),_.jsx("button",{onClick:()=>je(le),className:"text-medical-500 hover:text-medical-700",title:"Editar",children:_.jsx(oR,{size:14})}),_.jsx("button",{onClick:()=>D(le.id),className:"text-red-400 hover:text-red-600",title:"Eliminar Registro",children:_.jsx($u,{size:14})})]})]},le.id))})]})})]}),_.jsx(Vpe,{isOpen:F,onClose:()=>N(!1),nursesList:q,setNursesList:U}),_.jsx(Lpe,{isOpen:i,onClose:a}),_.jsx(zpe,{isOpen:!!B.type,type:B.type,sourceBedId:B.sourceBedId,targetBedId:B.targetBedId,onClose:()=>k({type:null,sourceBedId:null,targetBedId:null}),onSetTarget:le=>k({...B,targetBedId:le}),onConfirm:H}),_.jsx(Bpe,{isOpen:L.isOpen,isEditing:!!L.recordId,status:L.status,hasClinicalCrib:L.hasClinicalCrib,clinicalCribName:L.clinicalCribName,clinicalCribStatus:L.clinicalCribStatus,onClinicalCribStatusChange:le=>z({...L,clinicalCribStatus:le}),onStatusChange:le=>z({...L,status:le}),onClose:()=>z({...L,isOpen:!1}),onConfirm:re}),_.jsx(Upe,{isOpen:de.isOpen,isEditing:!!de.recordId,evacuationMethod:de.evacuationMethod,receivingCenter:de.receivingCenter,receivingCenterOther:de.receivingCenterOther,transferEscort:de.transferEscort,hasClinicalCrib:de.hasClinicalCrib,clinicalCribName:de.clinicalCribName,onUpdate:(le,Pe)=>Ee({...de,[le]:Pe}),onClose:()=>Ee({...de,isOpen:!1}),onConfirm:pe})]}):_.jsxs("div",{className:"flex flex-col items-center justify-center py-16 bg-white rounded-xl shadow-sm border border-slate-200 mt-8 print:hidden animate-fade-in",children:[_.jsx("div",{className:"bg-slate-50 p-6 rounded-full mb-6",children:_.jsx(fW,{size:64,className:"text-medical-200"})}),_.jsxs("h2",{className:"text-2xl font-bold text-slate-800 mb-2",children:[e," de ",Vj[n]]}),_.jsx("p",{className:"text-slate-500 mb-8 text-center max-w-md",children:"No existe registro para esta fecha."}),_.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[W&&_.jsxs("button",{onClick:()=>c(!0),className:"group relative bg-white border-2 border-medical-600 text-medical-700 hover:bg-medical-50 px-6 py-4 rounded-xl font-bold shadow-sm flex flex-col items-center gap-2 transition-all w-64",children:[_.jsxs("div",{className:"flex items-center gap-2 text-lg",children:[_.jsx(cL,{size:20}),_.jsx("span",{children:"Copiar del Anterior"})]}),_.jsxs("span",{className:"text-xs font-normal text-medical-600/80",children:["Copia pacientes y camas del ",W.date]})]}),_.jsxs("button",{onClick:()=>c(!1),className:"group bg-medical-600 hover:bg-medical-700 text-white px-6 py-4 rounded-xl font-bold shadow-lg shadow-medical-500/30 flex flex-col items-center gap-2 transition-all w-64",children:[_.jsxs("div",{className:"flex items-center gap-2 text-lg",children:[_.jsx(Xv,{size:20}),_.jsx("span",{children:"Registro en Blanco"})]}),_.jsx("span",{className:"text-xs font-normal text-medical-100",children:"Iniciar turno desde cero"})]})]})]})},qpe=()=>{const{record:t,updateCudyr:e}=Ic();if(!t)return _.jsx("div",{className:"p-8 text-center text-slate-500",children:"Seleccione una fecha con registros para ver el CUDYR."});const n=or.filter(w=>!w.isExtra||(t.activeExtraBeds||[]).includes(w.id)),r=w=>(w.changeClothes||0)+(w.mobilization||0)+(w.feeding||0)+(w.elimination||0)+(w.psychosocial||0)+(w.surveillance||0),i=w=>(w.vitalSigns||0)+(w.fluidBalance||0)+(w.oxygenTherapy||0)+(w.airway||0)+(w.proInterventions||0)+(w.skinCare||0)+(w.pharmacology||0)+(w.invasiveElements||0),a=w=>w>=13?"1":w>=7?"2":"3",l=w=>w>=19?"A":w>=12?"B":w>=6?"C":"D",c=w=>{switch(w){case"A":return"bg-red-600 text-white";case"B":return"bg-orange-500 text-white";case"C":return"bg-yellow-400 text-slate-900";case"D":return"bg-green-600 text-white";default:return"bg-slate-200"}},d=n.filter(w=>{const E=t.beds[w.id];return E.patientName&&!E.isBlocked}).length,f=n.filter(w=>{const E=t.beds[w.id];if(!E.patientName||E.isBlocked)return!1;const A=E.cudyr;return A?r(A)+i(A)>0:!1}).length,m=d>0?Math.round(f/d*100):0,p=(w,E,A)=>{if(A===""){e(w,E,0);return}const O=parseInt(A);!isNaN(O)&&O>=0&&O<=3&&e(w,E,O)},y=(w,E,A)=>_.jsx("input",{type:"number",min:"0",max:"3",className:"w-full h-full text-center bg-transparent border-0 p-1 text-xs focus:ring-2 focus:ring-inset focus:ring-blue-500 focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none font-medium",value:A===0?"0":A,onClick:O=>O.target.select(),onChange:O=>p(w,E,O.target.value)}),x=({text:w,colorClass:E})=>_.jsx("th",{className:Ce("border border-slate-300 p-1 w-12 align-bottom h-64 relative",E),children:_.jsx("div",{className:"h-full w-full flex items-center justify-center overflow-hidden",children:_.jsx("span",{className:"block whitespace-nowrap text-[11px] font-bold leading-none tracking-tight uppercase",style:{writingMode:"vertical-rl",transform:"rotate(180deg)"},children:w})})});return _.jsx("div",{className:"space-y-6 animate-fade-in pb-20",children:_.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[_.jsxs("header",{className:"mb-4 flex flex-col xl:flex-row justify-between items-start xl:items-center gap-4",children:[_.jsxs("h2",{className:"text-xl font-bold text-slate-800 flex items-center gap-2",children:[_.jsx(lL,{className:"text-medical-600"}),"Instrumento CUDYR"]}),_.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full xl:w-auto",children:[_.jsxs("div",{className:"flex-1 sm:flex-none flex items-center gap-4 text-xs font-bold uppercase bg-blue-50 p-2 rounded border border-blue-200 text-blue-800 shadow-sm whitespace-nowrap",children:[_.jsxs("span",{className:"flex items-center gap-1",children:[_.jsx(oL,{size:14})," Resumen:"]}),_.jsxs("span",{className:"border-l border-blue-200 pl-3",children:["Ocupadas: ",_.jsx("span",{className:"text-lg",children:d})]}),_.jsxs("span",{className:"border-l border-blue-200 pl-3",children:["Categorizados: ",_.jsx("span",{className:"text-lg",children:f})]}),_.jsxs("span",{className:"border-l border-blue-200 pl-3",children:["ndice: ",_.jsxs("span",{className:Ce("text-lg",m===100?"text-green-600":"text-blue-800"),children:[m,"%"]})]})]}),_.jsxs("div",{className:"flex-1 sm:flex-none flex items-center justify-center sm:justify-start gap-4 text-xs font-bold uppercase bg-slate-50 p-2 rounded border border-slate-200 shadow-sm",children:[_.jsxs("span",{className:"flex items-center gap-1",children:[_.jsx("span",{className:"w-3 h-3 bg-red-600 rounded-full"})," A: Mximo"]}),_.jsxs("span",{className:"flex items-center gap-1",children:[_.jsx("span",{className:"w-3 h-3 bg-orange-500 rounded-full"})," B: Alto"]}),_.jsxs("span",{className:"flex items-center gap-1",children:[_.jsx("span",{className:"w-3 h-3 bg-yellow-400 rounded-full"})," C: Medio"]}),_.jsxs("span",{className:"flex items-center gap-1",children:[_.jsx("span",{className:"w-3 h-3 bg-green-600 rounded-full"})," D: Bajo"]})]})]})]}),_.jsx("div",{className:"overflow-x-auto",children:_.jsxs("table",{className:"w-full text-left text-xs border-collapse border border-slate-300 table-fixed min-w-[1200px]",children:[_.jsxs("thead",{children:[_.jsxs("tr",{children:[_.jsx("th",{colSpan:2,className:"bg-slate-100 border border-slate-300 p-2 text-center font-bold text-slate-700",children:"PACIENTE"}),_.jsx("th",{colSpan:6,className:"bg-blue-50 border border-blue-200 p-2 text-center font-bold text-blue-800",children:"PUNTOS DEPENDENCIA (0-3)"}),_.jsx("th",{colSpan:8,className:"bg-red-50 border border-red-200 p-2 text-center font-bold text-red-800",children:"PUNTOS DE RIESGO (0-3)"}),_.jsx("th",{colSpan:3,className:"bg-slate-100 border border-slate-300 p-2 text-center font-bold text-slate-700",children:"RESULTADOS"})]}),_.jsxs("tr",{className:"text-center",children:[_.jsx("th",{className:"border border-slate-300 p-1 w-12 bg-slate-50 align-middle",children:"CAMA"}),_.jsx("th",{className:"border border-slate-300 p-1 w-40 bg-slate-50 align-middle",children:"NOMBRE"}),_.jsx(x,{text:"Cuidados Cambio Ropa",colorClass:"bg-blue-50/50"}),_.jsx(x,{text:"Cuidados de Movilizacin",colorClass:"bg-blue-50/50"}),_.jsx(x,{text:"Cuidados de Alimentacin",colorClass:"bg-blue-50/50"}),_.jsx(x,{text:"Cuidados de Eliminacin",colorClass:"bg-blue-50/50"}),_.jsx(x,{text:"Apoyo Psicosocial y Emocional",colorClass:"bg-blue-50/50"}),_.jsx(x,{text:"Vigilancia",colorClass:"bg-blue-50/50"}),_.jsx(x,{text:"Medicicin Signos Vitales",colorClass:"bg-red-50/50"}),_.jsx(x,{text:"Balance Hdrico",colorClass:"bg-red-50/50"}),_.jsx(x,{text:"Cuidados de Oxigenoterapia",colorClass:"bg-red-50/50"}),_.jsx(x,{text:"Cuidados diarios de Va Area",colorClass:"bg-red-50/50"}),_.jsx(x,{text:"Intervenciones Profesionales",colorClass:"bg-red-50/50"}),_.jsx(x,{text:"Cuidados de la Piel y Curaciones",colorClass:"bg-red-50/50"}),_.jsx(x,{text:"Administracin Tto Farmacolgico",colorClass:"bg-red-50/50"}),_.jsx(x,{text:"Presencia Elem. Invasivos",colorClass:"bg-red-50/50"}),_.jsx("th",{className:"border border-slate-300 p-1 w-14 bg-slate-50 align-middle",children:"CAT"}),_.jsx("th",{className:"border border-slate-300 p-1 w-12 bg-slate-50 text-blue-800 align-middle",children:"P.DEP"}),_.jsx("th",{className:"border border-slate-300 p-1 w-12 bg-slate-50 text-red-800 align-middle",children:"P.RIES"})]})]}),_.jsx("tbody",{children:n.map(w=>{const E=t.beds[w.id],A=!!E.patientName,O=w.type==="UTI",D=E.cudyr||{changeClothes:0,mobilization:0,feeding:0,elimination:0,psychosocial:0,surveillance:0,vitalSigns:0,fluidBalance:0,oxygenTherapy:0,airway:0,proInterventions:0,skinCare:0,pharmacology:0,invasiveElements:0},j=r(D),q=i(D),U=a(j),F=l(q),N=`${F}${U}`,P=c(F);return _.jsxs("tr",{className:Ce("border-b border-slate-300 hover:bg-slate-100 transition-colors",O?"bg-yellow-50/60":"bg-white"),children:[_.jsx("td",{className:"border-r border-slate-300 p-1 text-center font-bold text-slate-700",children:w.name}),A?_.jsxs(_.Fragment,{children:[_.jsx("td",{className:"border-r border-slate-300 p-1 truncate font-medium text-slate-700",title:E.patientName,children:E.patientName}),_.jsx("td",{className:"border-r border-slate-300 p-0 text-center bg-white hover:bg-blue-50",children:y(w.id,"changeClothes",D.changeClothes)}),_.jsx("td",{className:"border-r border-slate-300 p-0 text-center bg-white hover:bg-blue-50",children:y(w.id,"mobilization",D.mobilization)}),_.jsx("td",{className:"border-r border-slate-300 p-0 text-center bg-white hover:bg-blue-50",children:y(w.id,"feeding",D.feeding)}),_.jsx("td",{className:"border-r border-slate-300 p-0 text-center bg-white hover:bg-blue-50",children:y(w.id,"elimination",D.elimination)}),_.jsx("td",{className:"border-r border-slate-300 p-0 text-center bg-white hover:bg-blue-50",children:y(w.id,"psychosocial",D.psychosocial)}),_.jsx("td",{className:"border-r border-slate-300 p-0 text-center bg-white hover:bg-blue-50",children:y(w.id,"surveillance",D.surveillance)}),_.jsx("td",{className:"border-r border-slate-300 p-0 text-center bg-white hover:bg-red-50",children:y(w.id,"vitalSigns",D.vitalSigns)}),_.jsx("td",{className:"border-r border-slate-300 p-0 text-center bg-white hover:bg-red-50",children:y(w.id,"fluidBalance",D.fluidBalance)}),_.jsx("td",{className:"border-r border-slate-300 p-0 text-center bg-white hover:bg-red-50",children:y(w.id,"oxygenTherapy",D.oxygenTherapy)}),_.jsx("td",{className:"border-r border-slate-300 p-0 text-center bg-white hover:bg-red-50",children:y(w.id,"airway",D.airway)}),_.jsx("td",{className:"border-r border-slate-300 p-0 text-center bg-white hover:bg-red-50",children:y(w.id,"proInterventions",D.proInterventions)}),_.jsx("td",{className:"border-r border-slate-300 p-0 text-center bg-white hover:bg-red-50",children:y(w.id,"skinCare",D.skinCare)}),_.jsx("td",{className:"border-r border-slate-300 p-0 text-center bg-white hover:bg-red-50",children:y(w.id,"pharmacology",D.pharmacology)}),_.jsx("td",{className:"border-r border-slate-300 p-0 text-center bg-white hover:bg-red-50",children:y(w.id,"invasiveElements",D.invasiveElements)}),_.jsx("td",{className:"border-r border-slate-300 p-1 text-center",children:_.jsx("span",{className:Ce("px-2 py-0.5 rounded font-bold text-xs block w-full shadow-sm",P),children:N})}),_.jsx("td",{className:"border-r border-slate-300 p-1 text-center text-xs text-blue-800 font-bold bg-blue-50/30",children:j}),_.jsx("td",{className:"p-1 text-center text-xs text-red-800 font-bold bg-red-50/30",children:q})]}):_.jsx("td",{colSpan:17,className:"p-2 text-center text-slate-400 italic text-[10px]",children:"Cama disponible"})]},w.id)})})]})})]})})},$pe=(t,e)=>{if(!t||!e)return null;const n=new Date(t),r=new Date(e);n.setHours(0,0,0,0),r.setHours(0,0,0,0);const i=r.getTime()-n.getTime(),a=Math.floor(i/(1e3*3600*24));return a>=0?a:0},Mj=({bedName:t,bedType:e,patient:n,reportDate:r,isSubRow:i=!1,onNoteChange:a})=>{if(!i&&n.isBlocked)return _.jsxs("tr",{className:"bg-red-50 border-b border-red-200 text-sm",children:[_.jsx("td",{className:"p-3 font-bold text-red-700 text-center align-middle",children:t}),_.jsxs("td",{colSpan:9,className:"p-3 text-red-600 flex items-center gap-2 align-middle",children:[_.jsx(rS,{size:16})," BLOQUEADA: ",n.blockedReason]})]});if(!n.patientName)return null;const c=$pe(n.admissionDate,r);return _.jsxs("tr",{className:Ce("border-b border-slate-200 hover:bg-slate-50 transition-colors align-top text-sm",i?"bg-pink-50/40":"bg-white",n.status===bt.GRAVE?"border-l-4 border-l-red-500":""),children:[_.jsxs("td",{className:"p-2 border-r border-slate-200 text-center w-20",children:[_.jsx("div",{className:"font-bold text-slate-700 text-base",children:i?"":t}),!i&&c!==null&&_.jsxs("div",{className:"flex flex-col items-center justify-center mt-1 text-slate-500",title:"Das Hospitalizado",children:[_.jsx(SW,{size:12}),_.jsxs("span",{className:"text-[10px] font-bold",children:[c,"d"]})]})]}),_.jsx("td",{className:"p-2 border-r border-slate-200 w-16 text-center align-middle",children:_.jsx("span",{className:Ce("text-[10px] uppercase font-bold px-1.5 py-0.5 rounded-full border block",i?"bg-pink-100 text-pink-700 border-pink-200":e==="UTI"?"bg-purple-100 text-purple-700 border-purple-200":"bg-blue-50 text-blue-600 border-blue-200"),children:i?"CUNA":e})}),_.jsx("td",{className:"p-2 border-r border-slate-200 min-w-[150px] align-middle",children:_.jsxs("div",{className:"font-medium text-slate-800 flex items-center gap-2",children:[i&&_.jsx(Oc,{size:14,className:"text-pink-400"}),n.patientName]})}),_.jsx("td",{className:"p-2 border-r border-slate-200 w-36 font-mono text-xs text-slate-600 align-middle whitespace-nowrap",children:n.rut}),_.jsx("td",{className:"p-2 border-r border-slate-200 w-12 text-center align-middle",children:n.age}),_.jsx("td",{className:"p-2 border-r border-slate-200 w-64 text-slate-700 align-middle",children:_.jsx("div",{className:"font-medium leading-tight",children:n.pathology})}),_.jsx("td",{className:"p-2 border-r border-slate-200 w-20 align-middle",children:_.jsx("span",{className:Ce("text-[10px] font-bold px-1.5 py-0.5 rounded-full whitespace-nowrap block text-center",n.status===bt.GRAVE?"bg-red-100 text-red-700":n.status===bt.DE_CUIDADO?"bg-orange-100 text-orange-700":"bg-green-100 text-green-700"),children:n.status})}),_.jsx("td",{className:"p-2 border-r border-slate-200 w-28 text-center text-xs text-slate-600 align-middle",children:qv(n.admissionDate)}),_.jsx("td",{className:"p-2 border-r border-slate-200 w-28 text-xs align-middle",children:_.jsx("div",{className:"flex flex-wrap gap-1",children:n.devices.length>0?n.devices.map(d=>_.jsx("span",{className:"bg-slate-100 text-slate-600 px-1.5 py-0.5 rounded border border-slate-200 text-[10px]",children:d},d)):_.jsx("span",{className:"text-slate-400",children:"-"})})}),_.jsx("td",{className:"p-2 w-full min-w-[300px] align-top",children:_.jsx("textarea",{className:"w-full h-full min-h-[80px] p-2 text-sm border border-slate-300 rounded focus:ring-2 focus:ring-medical-500 focus:outline-none resize-y bg-yellow-50/30",placeholder:"Escriba la evolucin...",value:n.handoffNote||"",onChange:d=>a(d.target.value)})})]})},Hpe=()=>{const{record:t,updatePatient:e,updateClinicalCrib:n}=Ic();if(!t)return _.jsx("div",{className:"p-8 text-center text-slate-500 font-sans",children:"Seleccione una fecha para ver la Entrega de Turno."});const r=or.filter(i=>!i.isExtra||(t.activeExtraBeds||[]).includes(i.id));return _.jsxs("div",{className:"space-y-6 animate-fade-in pb-20 font-sans",children:[_.jsx("header",{className:"bg-white p-4 rounded-xl shadow-sm border border-slate-200 flex items-center justify-between",children:_.jsxs("div",{children:[_.jsxs("h2",{className:"text-xl font-bold text-slate-800 flex items-center gap-2",children:[_.jsx(fL,{className:"text-medical-600"}),"Entrega de Turno"]}),_.jsx("p",{className:"text-sm text-slate-500",children:"Registro de evolucin y novedades clnicas por paciente."})]})}),_.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:_.jsx("div",{className:"overflow-x-auto",children:_.jsxs("table",{className:"w-full text-left border-collapse",children:[_.jsx("thead",{children:_.jsxs("tr",{className:"bg-slate-800 text-white text-xs uppercase tracking-wider font-bold",children:[_.jsx("th",{className:"p-2 border-r border-slate-700 text-center w-20",children:"Cama"}),_.jsx("th",{className:"p-2 border-r border-slate-700 text-center w-16",children:"Tipo"}),_.jsx("th",{className:"p-2 border-r border-slate-700 min-w-[150px]",children:"Nombre Paciente"}),_.jsx("th",{className:"p-2 border-r border-slate-700 w-36",children:"RUT"}),_.jsx("th",{className:"p-2 border-r border-slate-700 w-12 text-center",children:"Edad"}),_.jsx("th",{className:"p-2 border-r border-slate-700 w-64",children:"Diagnstico"}),_.jsx("th",{className:"p-2 border-r border-slate-700 w-20",children:"Estado"}),_.jsx("th",{className:"p-2 border-r border-slate-700 w-28 text-center",children:"F. Ingreso"}),_.jsx("th",{className:"p-2 border-r border-slate-700 w-28",children:"Dispositivos"}),_.jsx("th",{className:"p-2 min-w-[300px]",children:"Observaciones (Evolucin)"})]})}),_.jsxs("tbody",{children:[r.map(i=>{const a=t.beds[i.id];return _.jsxs(eT.Fragment,{children:[_.jsx(Mj,{bedName:i.name,bedType:i.type,patient:a,reportDate:t.date,onNoteChange:l=>e(i.id,"handoffNote",l)}),a.clinicalCrib&&a.clinicalCrib.patientName&&_.jsx(Mj,{bedName:i.name,bedType:"Cuna",patient:a.clinicalCrib,reportDate:t.date,isSubRow:!0,onNoteChange:l=>n(i.id,"handoffNote",l)})]},i.id)}),r.every(i=>!t.beds[i.id].patientName&&!t.beds[i.id].isBlocked)&&_.jsx("tr",{children:_.jsx("td",{colSpan:10,className:"p-8 text-center text-slate-400 italic text-sm",children:"No hay pacientes registrados en este turno."})})]})]})})})]})},Kpe=async(t,e)=>{try{const n=await PK(ZT,t,e);return{uid:n.user.uid,email:n.user.email,displayName:n.user.displayName}}catch(n){const r={"auth/user-not-found":"Usuario no encontrado","auth/wrong-password":"Contrasea incorrecta","auth/invalid-email":"Email invlido","auth/user-disabled":"Usuario deshabilitado","auth/too-many-requests":"Demasiados intentos. Intente ms tarde.","auth/invalid-credential":"Credenciales invlidas"};throw new Error(r[n.code]||"Error de autenticacin")}},Gpe=async()=>{await MK(ZT)},Ype=t=>kK(ZT,e=>{t(e?{uid:e.uid,email:e.email,displayName:e.displayName}:null)}),Wpe=({onLoginSuccess:t})=>{const[e,n]=S.useState(""),[r,i]=S.useState(""),[a,l]=S.useState(null),[c,d]=S.useState(!1),f=async m=>{m.preventDefault(),l(null),d(!0);try{await Kpe(e,r),t()}catch(p){l(p.message)}finally{d(!1)}};return _.jsx("div",{className:"min-h-screen bg-gradient-to-br from-medical-600 via-medical-700 to-medical-900 flex items-center justify-center p-4",children:_.jsxs("div",{className:"w-full max-w-md",children:[_.jsxs("div",{className:"text-center mb-8",children:[_.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-white rounded-2xl shadow-xl mb-4",children:_.jsx(BW,{className:"w-10 h-10 text-medical-600"})}),_.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Hospital Hanga Roa"}),_.jsx("p",{className:"text-medical-200",children:"Sistema de Registro de Enfermera"})]}),_.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[_.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-6 text-center",children:"Iniciar Sesin"}),_.jsxs("form",{onSubmit:f,className:"space-y-5",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Correo electrnico"}),_.jsxs("div",{className:"relative",children:[_.jsx(KW,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),_.jsx("input",{type:"email",value:e,onChange:m=>n(m.target.value),className:"w-full pl-10 pr-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-medical-500 focus:border-medical-500 focus:outline-none transition-all",placeholder:"enfermero@hospital.cl",required:!0,disabled:c})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Contrasea"}),_.jsxs("div",{className:"relative",children:[_.jsx(Ch,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),_.jsx("input",{type:"password",value:r,onChange:m=>i(m.target.value),className:"w-full pl-10 pr-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-medical-500 focus:border-medical-500 focus:outline-none transition-all",placeholder:"",required:!0,disabled:c})]})]}),a&&_.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-xl text-red-700 text-sm animate-fade-in",children:[_.jsx(rS,{className:"w-5 h-5 flex-shrink-0"}),_.jsx("span",{children:a})]}),_.jsx("button",{type:"submit",disabled:c,className:"w-full bg-medical-600 hover:bg-medical-700 disabled:bg-medical-400 text-white font-bold py-3 px-4 rounded-xl transition-all shadow-lg shadow-medical-500/30 flex items-center justify-center gap-2",children:c?_.jsxs(_.Fragment,{children:[_.jsx(uL,{className:"w-5 h-5 animate-spin"}),"Ingresando..."]}):"Ingresar"})]}),_.jsx("p",{className:"mt-6 text-center text-sm text-slate-500",children:"Contacte al administrador si no tiene acceso"})]}),_.jsx("p",{className:"text-center text-medical-300 text-xs mt-6",children:"Sistema Estadstico v1.0  Servicio de Salud Metropolitano"})]})})};function Xpe(){const[t,e]=S.useState(null),[n,r]=S.useState(!0);S.useEffect(()=>{const De=Ype(H=>{e(H),r(!1)});return()=>De()},[]);const[i,a]=S.useState(!1);S.useEffect(()=>{a(!!t)},[t]);const[l,c]=S.useState(new Date().getFullYear()),[d,f]=S.useState(new Date().getMonth()),[m,p]=S.useState(new Date().getDate()),y=S.useMemo(()=>new Date(l,d+1,0).getDate(),[l,d]),x=S.useMemo(()=>{const De=l,H=String(d+1).padStart(2,"0"),re=String(m).padStart(2,"0");return`${De}-${H}-${re}`},[l,d,m]),w=qY(x),{record:E,generateDemo:A,refresh:O,syncStatus:D,lastSyncTime:j}=w,q=S.useMemo(()=>{try{const De=localStorage.getItem("hanga_roa_hospital_data");if(!De)return[];const H=JSON.parse(De),re=`${l}-${String(d+1).padStart(2,"0")}`;return Object.keys(H).filter(pe=>pe.startsWith(re)).map(pe=>parseInt(pe.split("-")[2]))}catch{return[]}},[l,d,E]),[U,F]=S.useState("CENSUS"),[N,P]=S.useState("REGISTER"),[M,B]=S.useState(!1),[k,L]=S.useState(!1),[z,de]=S.useState(!1),Ee=async()=>{await Gpe()};if(n)return _.jsx("div",{className:"min-h-screen bg-slate-100 flex items-center justify-center",children:_.jsx("div",{className:"animate-pulse text-medical-600 text-xl font-bold",children:"Cargando..."})});if(!t)return _.jsx(Wpe,{onLoginSuccess:()=>{}});const W=()=>jY(),se=()=>VY(E),me=async De=>{if(De.target.files&&De.target.files[0]){const H=De.target.files[0];H.name.endsWith(".json")?await LY(H)&&(alert("Datos importados correctamente."),O()):alert("Por favor seleccione un archivo .json vlido para restaurar."),De.target.value=""}},ve=()=>{confirm("Ests seguro? Esto sobrescribir los datos del da actual con datos aleatorios de prueba.")&&A()};return _.jsx($Y,{value:w,children:_.jsxs("div",{className:"min-h-screen bg-slate-100 font-sans flex flex-col print:bg-white print:p-0",children:[_.jsx(gX,{currentModule:U,setModule:F,censusViewMode:N,setCensusViewMode:P,onPrint:()=>window.print(),onOpenBedManager:()=>de(!0),onExportJSON:W,onExportCSV:se,onImportJSON:me,onOpenSettings:()=>B(!0),userEmail:t==null?void 0:t.email,onLogout:Ee,isFirebaseConnected:i}),N==="REGISTER"&&_.jsx(vX,{selectedYear:l,setSelectedYear:c,selectedMonth:d,setSelectedMonth:f,selectedDay:m,setSelectedDay:p,currentDateString:x,daysInMonth:y,existingDaysInMonth:q,onOpenBedManager:()=>de(!0),syncStatus:D,lastSyncTime:j}),_.jsxs("main",{className:"max-w-screen-2xl mx-auto px-4 py-6 flex-1 w-full pb-20 print:p-0 print:pb-0 print:max-w-none",children:[U==="CENSUS"&&_.jsx(Fpe,{viewMode:N,selectedDay:m,selectedMonth:d,currentDateString:x,onOpenBedManager:()=>de(!0),showBedManagerModal:z,onCloseBedManagerModal:()=>de(!1)}),U==="CUDYR"&&_.jsx(qpe,{}),U==="HANDOFF"&&_.jsx(Hpe,{})]}),_.jsx(yX,{isOpen:M,onClose:()=>B(!1),onGenerateDemo:ve,onRunTest:()=>L(!0)}),_.jsx(bX,{isRunning:k,onComplete:()=>L(!1),currentRecord:E})]})})}const gU=document.getElementById("root");if(!gU)throw new Error("Could not find root element to mount to");const Qpe=s8.createRoot(gU);Qpe.render(_.jsx(eT.StrictMode,{children:_.jsx(Xpe,{})}));
